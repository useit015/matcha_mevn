webpackJsonp([1],{0:function(t,e){},1:function(t,e){},"7zck":function(t,e){},BU1e:function(t,e){},BmVV:function(t,e){},CzHV:function(t,e){},GJt6:function(t,e){},JO3j:function(t,e){},JsW8:function(t,e){},MQ1D:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,n,r,i,o=s("7+uW"),l=s("3EgV"),c=s.n(l),u=s("DmT9"),d=s.n(u),h=s("HI0L"),f=s.n(h),v=s("8+8L"),m=(s("7zck"),s("Dd8w")),p=s.n(m),g=s("Xxa5"),_=s.n(g),b=s("exGp"),y=s.n(b),x=s("NYxO"),k=s("PJh5"),w=s.n(k),C=this,A=function(t){if(!t)return new Date;switch(t.type){case"visitor":case"visited":return t.visit_date;case"follower":case"following":return t.match_date;default:return t}},I=(a=y()(_.a.mark(function t(e){var s,a,n;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s="https://ipinfo.io?token=3443e12245bdcf",t.next=4,o.default.http.get(s);case 4:(a=t.sent).error||(n=a.body.loc.split(","),e({lat:Number(n[0]),lng:Number(n[1])})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("error here --\x3e",t.t0);case 11:case"end":return t.stop()}},t,C,[[0,8]])})),function(t){return a.apply(this,arguments)}),N=(n=y()(_.a.mark(function t(e){var s,a,n;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s=localStorage.getItem("token"),a="https://matcha1337.herokuapp.com/api/action/position",n={"x-auth-token":s},t.next=6,o.default.http.post(a,e,{headers:n});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("error here --\x3e",t.t0);case 11:case"end":return t.stop()}},t,C,[[0,8]])})),function(t){return n.apply(this,arguments)}),E=function(t,e){return t.blocked.includes(e)||t.blockedBy.includes(e)},S={getDate:A,isBlocked:E,syncLocation:N,getLocationFromIp:I,getFullPath:function(t){return(e=t)&&(e.indexOf(":")>-1||e.indexOf("//")>-1||e.indexOf("www.")>-1)?t:"https://matcha1337.herokuapp.com/uploads/"+(t||"default.png");var e},formatTime:function(t){var e=w()(A(t)),s=w()(),a="M/DD/YY, h:mm A";return s.diff(e,"weeks",!0)<1?a="ddd h:mm A":s.diff(e,"years",!0)<1&&(a="MMMM D, YYYY, h:mm A"),e.format(a)},sync:(i=y()(_.a.mark(function t(e){var s,a,n;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s=localStorage.getItem("token"),a="https://matcha1337.herokuapp.com/api/users/get"+e,n={"x-auth-token":s},t.next=6,o.default.http.get(a,{headers:n});case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(0),console.log("error here --\x3e",t.t0);case 12:case"end":return t.stop()}},t,C,[[0,9]])})),function(t){return i.apply(this,arguments)}),syncNotif:(r=y()(_.a.mark(function t(){var e,s,a,n;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=localStorage.getItem("token"),s="https://matcha1337.herokuapp.com/api/notif/all",a={"x-auth-token":e},t.next=6,o.default.http.get(s,{headers:a});case 6:return n=t.sent,t.abrupt("return",n.body.msg?[]:n.body);case 10:t.prev=10,t.t0=t.catch(0),console.log("error here --\x3e",t.t0);case 13:case"end":return t.stop()}},t,C,[[0,10]])})),function(){return r.apply(this,arguments)}),calculateDistance:function(t,e,s){if(Math.abs(t.lat-e.lat)<=.005&&Math.abs(t.lng-e.lng)<=.005)return 0;var a=t.lng-e.lng,n=Math.PI*a/180;t.rad=Math.PI*t.lat/180,e.rad=Math.PI*e.lat/180;var r=Math.sin(t.rad)*Math.sin(e.rad)+Math.cos(t.rad)*Math.cos(e.rad)*Math.cos(n);return r=r>1?1:r,r=60*(r=180*(r=Math.acos(r))/Math.PI)*1.1515,s?r:1.609344*r},updateLocation:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){return N({lat:t.coords.latitude,lng:t.coords.longitude})},function(){return I(function(t){return N({lat:Number(t.lat),lng:Number(t.lng)})})}):I(function(t){return N({lat:Number(t.lat),lng:Number(t.lng)})})},getHistoryAction:function(t){switch(t){case"visited":return"You visited";case"visitor":return"Visited your profile";case"follower":return"Liked you";case"following":return"You liked"}},getNotifMsg:function(t){switch(t.type){case"visit":return" checked your profile";case"like":return" liked you";case"like_back":return" liked you back";case"unlike":return" unliked you"}},getNotifIcon:function(t){switch(t){case"visit":return"visibility";case"like":case"like_back":return"favorite";case"unlike":return"favorite_border"}},filterBlocked:function(t,e){return t[e].filter(function(s){return!E(t,s[function(t){switch(t){case"notif":return"id_from";case"convos":return"user_id";default:return"id"}}(e)])})},fromNow:function(t){return w.a.utc(t).fromNow()},showAlert:function(t,e,s){s.alert={state:!0,color:t,text:e}},passMatch:function(t,e){return t.length&&e!==t?"Passwords must match":""}},R={name:"Navbar",data:function(){return{timer:{},notifMenu:0,msgMenu:0,notifNum:0,newMsgNum:0,drawer:!1,links:[{icon:"dashboard",text:"Home",route:"/",public:!0},{icon:"people",text:"Discover",route:"/discover",public:!1},{icon:"search",text:"Search",route:"/search",public:!1},{icon:"chat",text:"Chat",route:"/chat",public:!1},{icon:"notification_important",text:"Notifications",route:"/notifications",public:!1},{icon:"settings",text:"Settings",route:"/settings",public:!1}]}},created:function(){var t=this;return y()(_.a.mark(function e(){var s,a,n,r,i;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=localStorage.getItem("token"),a="https://matcha1337.herokuapp.com/auth/isloggedin",n={"x-auth-token":s},e.next=6,t.$http.get(a,{headers:n});case 6:(r=e.sent).body.msg||((i=r.body).birthdate&&(i.birthdate=new Date(i.birthdate).toISOString().substr(0,10)),t.in(i)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Got error here --\x3e",e.t0);case 13:case"end":return e.stop()}},e,t,[[0,10]])}))()},computed:p()({},Object(x.c)(["user","notif","status","convos","typingSec","profileImage"]),{typingConvos:function(){return!!this.typingSec.convos&&this.typingSec.convos.length},image:function(){return this.getFullPath(this.profileImage)},notifs:function(){return this.notif.filter(function(t){return"chat"!=t.type}).sort(function(t,e){return new Date(e.date)-new Date(t.date)}).slice(0,7)},menuConvos:function(){return this.convos.slice(0,7)}}),watch:{notif:{immediate:!0,handler:function(){this.newMsgNum=this.notif.filter(function(t){return"chat"==t.type&&!t.is_read}).length,this.notifNum=this.notif.filter(function(t){return"chat"!=t.type&&!t.is_read}).length}},notifMenu:function(){var t=this;return y()(_.a.mark(function e(){var s,a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.notifMenu){e.next=7;break}return s="https://matcha1337.herokuapp.com/api/notif/update",a={"x-auth-token":t.user.token},e.next=5,t.$http.get(s,{headers:a});case 5:e.sent,t.seenNotif();case 7:case"end":return e.stop()}},e,t)}))()},typingConvos:function(){var t=this;if(this.typingSec.status){var e=this.typingSec.convos.length,s=this.typingSec.convos[e-1].id_conversation;this.timer[s]&&clearTimeout(this.timer[s]),this.timer[s]=setTimeout(function(){return t.typingSecClr(s)},1200)}}},methods:p()({},S,Object(x.b)({in:"login",out:"logout",syncConvo:"syncConvo",seenNotif:"seenNotif",typingSecClr:"typingSecClr"}),{toUserProfile:function(t){this.$router.push("/user/"+t)},toUserChat:function(t){this.syncConvo(t),this.$router.push("/chat")},logout:function(){var t=this;return y()(_.a.mark(function e(){var s,a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s="https://matcha1337.herokuapp.com/auth/logout",a={"x-auth-token":t.user.token},e.next=5,t.$http.get(s,{headers:a});case 5:e.sent.body.ok&&t.out(t.user.id),t.$router.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("problem with --\x3e",e.t0);case 13:case"end":return e.stop()}},e,t,[[0,10]])}))()},formatNotifDate:function(t){return w.a.utc(t.date?t.date:t.last_update).fromNow()}})},D={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",[s("v-toolbar",{attrs:{flat:"",app:""}},[t.status?s("v-toolbar-side-icon",{staticClass:"grey--text",on:{click:function(e){t.drawer=!t.drawer}}}):s("div",{staticStyle:{width:"2.5rem"}}),t._v(" "),s("v-toolbar-title",{staticClass:"text-uppercase grey--text"},[s("span",[t._v("M")]),s("span",{staticClass:"font-weight-light"},[t._v("atcha")])]),t._v(" "),s("v-spacer"),t._v(" "),t.status?s("v-layout",{attrs:{"justify-end":""}},[s("v-menu",{attrs:{bottom:"","offset-y":"","nudge-width":250},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",t._g({attrs:{flat:"",icon:"",large:"",color:"grey"}},a),[s("v-badge",{staticClass:"mx-2",attrs:{overlap:"",value:!!t.notifNum,color:"primary",right:""},scopedSlots:t._u([{key:"badge",fn:function(){return[s("span",[t._v(t._s(t.notifNum))])]},proxy:!0}],null,!0)},[t._v(" "),s("v-icon",{attrs:{color:"grey"}},[t._v("notifications")])],1)],1)]}}],null,!1,2768309377),model:{value:t.notifMenu,callback:function(e){t.notifMenu=e},expression:"notifMenu"}},[t._v(" "),s("v-list",{staticClass:"grey lighten-5 pa-0"},[t._l(t.notifs,function(e,a){return[s("v-list-tile",{key:a,attrs:{avatar:""},on:{click:function(s){return t.toUserProfile(e.id_from)}}},[s("v-list-tile-avatar",[s("img",{attrs:{src:t.getFullPath(e.profile_image)}})]),t._v(" "),s("v-list-tile-content",[s("v-list-tile-title",{staticClass:"notif_msg"},[s("strong",{staticClass:"notif_username"},[t._v(t._s(e.username))]),t._v(" "),s("span",[t._v(t._s(t.getNotifMsg(e)))])]),t._v(" "),s("v-list-tile-sub-title",[s("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"blue lighten-2"}},[t._v(t._s(t.getNotifIcon(e.type)))]),t._v(" "),s("span",{staticClass:"notif_date"},[t._v(t._s(t.formatNotifDate(e)))])],1)],1)],1)]}),t._v(" "),s("v-list-tile",{staticClass:"see_all",attrs:{router:"",to:"/notifications"}},[s("v-list-tile-title",[t._v("See all notifications")])],1)],2)],1),t._v(" "),s("v-menu",{attrs:{bottom:"","offset-y":"","nudge-width":250},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",t._g({attrs:{flat:"",icon:"",large:"",color:"grey"}},a),[s("v-badge",{staticClass:"mx-2",attrs:{overlap:"",value:!!t.newMsgNum,color:"primary",right:""},scopedSlots:t._u([{key:"badge",fn:function(){return[s("span",[t._v(t._s(t.newMsgNum))])]},proxy:!0}],null,!0)},[t._v(" "),s("v-icon",{attrs:{color:"grey"}},[t._v("chat")])],1)],1)]}}],null,!1,3266297057),model:{value:t.msgMenu,callback:function(e){t.msgMenu=e},expression:"msgMenu"}},[t._v(" "),s("v-list",{staticClass:"grey lighten-5 pa-0 message_list"},[t._l(t.menuConvos,function(e,a){return[s("v-list-tile",{key:a,attrs:{avatar:""},on:{click:function(s){return t.toUserChat(e)}}},[s("v-list-tile-avatar",[s("img",{attrs:{src:t.getFullPath(e.profile_image)}})]),t._v(" "),s("v-list-tile-content",[s("v-list-tile-title",{staticClass:"notif_msg"},[s("v-layout",{attrs:{"justify-between":""}},[s("strong",{staticClass:"notif_username"},[t._v(t._s(e.username))]),t._v(" "),s("span",{staticClass:"ml-auto chat_time"},[t._v(t._s(t.formatNotifDate(e)))])])],1),t._v(" "),s("v-list-tile-sub-title",[e.message_from==t.user.id?s("span",{staticClass:"notif_date"},[t._v("You: ")]):t._e(),t._v(" "),s("span",{staticClass:"notif_date text-truncate"},[t._v(t._s(e.message))])])],1)],1)]}),t._v(" "),s("v-list-tile",{staticClass:"see_all",attrs:{router:"",to:"/chat"}},[s("v-list-tile-title",[t._v("See all chats")])],1)],2)],1)],1):t._e(),t._v(" "),t.status?t._e():s("div",[s("v-btn",{attrs:{flat:"",color:"grey",router:"",to:"/login"}},[t._v("Login")]),t._v(" "),s("v-btn",{attrs:{flat:"",color:"grey",router:"",to:"/register"}},[t._v("Sign Up")])],1)],1),t._v(" "),t.status?s("v-navigation-drawer",{staticClass:"primary",attrs:{app:"",fixed:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[s("v-list",[s("v-list-tile",{attrs:{avatar:""}},[t.status?s("v-layout",{attrs:{"align-center":"","justify-center":""}},[s("v-list-tile-avatar",[s("img",{attrs:{src:t.image}})]),t._v(" "),s("v-list-tile-content",[s("v-list-tile-title",{staticClass:"white--text text-capitalize font-weight-light subheading"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.user.username)+"\n\t\t\t\t\t\t")])],1)],1):t._e(),t._v(" "),s("v-list-tile-action",{staticClass:"ml-auto"},[s("v-btn",{staticClass:"ml-auto",attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}},[s("v-icon",{staticClass:"white--text"},[t._v("chevron_left")])],1)],1)],1),t._v(" "),s("v-divider"),t._v(" "),t._l(t.links,function(e){return s("div",{key:e.text},[e.public||t.status?s("v-list-tile",{attrs:{router:"",to:e.route}},[s("v-list-tile-action",[s("v-icon",{staticClass:"white--text"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.icon)+"\n\t\t\t\t\t\t")])],1),t._v(" "),s("v-list-tile-content",[s("v-list-tile-title",{staticClass:"white--text"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.text)+"\n\t\t\t\t\t\t")])],1)],1):t._e()],1)}),t._v(" "),t.status?s("v-list-tile",{on:{click:t.logout}},[s("v-list-tile-action",[s("v-icon",{staticClass:"white--text"},[t._v("exit_to_app")])],1),t._v(" "),s("v-list-tile-content",[s("v-list-tile-title",{staticClass:"white--text"},[t._v("\n\t\t\t\t\t\tLogout\n\t\t\t\t\t")])],1)],1):t._e()],2)],1):t._e()],1)},staticRenderFns:[]};var T={name:"App",components:{Navbar:s("VU/8")(R,D,!1,function(t){s("gZ/J")},null,null).exports},created:function(){var t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBZwoZjtlArLEEYsZFhS3f_YxJEDrX6km4",t.async=!0,t.defer=!0,document.body.prepend(t)}},M={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",{staticClass:"grey lighten-5 app"},[e("Navbar"),this._v(" "),e("v-content",[e("router-view")],1)],1)},staticRenderFns:[]};var O=s("VU/8")(T,M,!1,function(t){s("MQ1D")},null,null).exports,P=s("/ocq"),L={name:"Users",data:function(){return{gender:null,location:null,age:[18,85]}},computed:Object(x.c)(["tags"]),methods:{mainSearch:function(){this.$router.push("/search?gender="+this.gender+"&location="+this.location+"&min="+this.age[0]+"&max="+this.age[1])}}},U={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"header"},[s("div",{staticClass:"header_layout"}),t._v(" "),s("v-layout",{staticClass:"header_content",attrs:{"justify-center":"","align-center":""}},[s("div",{staticClass:"header_center"},[s("h1",{staticClass:"display-3 white--text hidden-xs-only text-xs-center font-weight-thin mb-5"},[t._v("Meet Someone worth meeting today")]),t._v(" "),s("v-layout",{attrs:{"justify-center":"",wrap:""}},[s("v-flex",{attrs:{xs10:"",sm8:"",md7:""}},[s("v-layout",{attrs:{column:""}},[s("h4",{staticClass:"title font-weight-thin white--text mb-4"},[t._v("Show me")]),t._v(" "),s("v-btn-toggle",{staticClass:"mb-5 home_toggle",model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}},[s("v-btn",{staticClass:"home_toggle_btn",attrs:{flat:"",outline:"",color:"primary",value:"male"}},[s("svg",{staticStyle:{fill:"var(--color-primary)"},attrs:{id:"male",viewBox:"0 0 512 512",width:"17",height:"20"}},[s("path",{attrs:{d:"M376.264,290.173c66.314-66.293,66.314-174.16,0-240.453c-66.314-66.294-174.214-66.294-240.529,0 c-66.314,66.293-66.314,174.16,0,240.453c28.07,28.061,63.591,44.24,100.254,48.546v56.923h-40.018 c-11.051,0-20.009,8.956-20.009,20.003s8.958,20.003,20.009,20.003h40.018v56.348c0.001,11.047,8.959,20.003,20.011,20.003 c11.051,0,20.009-8.956,20.009-20.003v-56.348h40.019c11.051,0,20.009-8.956,20.009-20.003s-8.958-20.003-20.009-20.003h-40.019 V338.72C312.673,334.413,348.194,318.234,376.264,290.173z M164.033,261.884c-50.711-50.695-50.711-133.181,0-183.876 c50.71-50.693,133.221-50.696,183.934,0c50.711,50.695,50.711,133.181,0,183.876C297.256,312.578,214.744,312.578,164.033,261.884 z"}})]),t._v(" "),s("span",{staticClass:"px-1"},[t._v("Men")])]),t._v(" "),s("v-btn",{staticClass:"home_toggle_btn",attrs:{flat:"",outline:"",color:"primary",value:"female"}},[s("svg",{staticStyle:{fill:"var(--color-primary)"},attrs:{id:"female",height:"17",viewBox:"0 0 384 384",width:"20"}},[s("path",{attrs:{d:"m383.792969 13.9375c-.175781-1.378906-.480469-2.707031-.984375-3.953125-.015625-.03125-.015625-.074219-.023438-.113281 0-.007813-.007812-.015625-.015625-.023438-.554687-1.3125-1.3125-2.503906-2.167969-3.609375-.210937-.261719-.417968-.519531-.640624-.765625-.914063-1.03125-1.90625-1.984375-3.058594-2.761718-.03125-.023438-.070313-.03125-.101563-.054688-1.113281-.734375-2.34375-1.289062-3.632812-1.726562-.320313-.113282-.632813-.210938-.960938-.296876-1.351562-.367187-2.742187-.632812-4.207031-.632812h-112c-8.832031 0-16 7.167969-16 16s7.167969 16 16 16h73.367188l-95.496094 95.496094c-25.464844-20.367188-56.816406-31.496094-89.871094-31.496094-79.398438 0-144 64.601562-144 144s64.601562 144 144 144 144-64.601562 144-144c0-33.039062-11.121094-64.382812-31.503906-89.871094l95.503906-95.503906v73.375c0 8.832031 7.167969 16 16 16s16-7.167969 16-16v-112c0-.335938-.078125-.65625-.097656-.984375-.023438-.367187-.0625-.71875-.109375-1.078125zm-239.792969 338.0625c-61.761719 0-112-50.238281-112-112s50.238281-112 112-112c29.902344 0 58.054688 11.640625 79.222656 32.734375 21.136719 21.210937 32.777344 49.363281 32.777344 79.265625 0 61.761719-50.238281 112-112 112zm0 0"}})]),t._v(" "),s("span",{staticClass:"px-1"},[t._v("Women")])])],1),t._v(" "),s("h4",{staticClass:"title font-weight-thin white--text mb-4"},[t._v("Near")]),t._v(" "),s("v-text-field",{staticClass:"home_loaction_input mb-4",attrs:{color:"primary",outline:"",solo:"",flat:"","append-icon":"place"},model:{value:t.location,callback:function(e){t.location=e},expression:"location"}}),t._v(" "),s("h4",{staticClass:"title font-weight-thin white--text mb-3"},[t._v("Age")]),t._v(" "),s("v-range-slider",{staticClass:"mx-3 mb-4 pt-3",attrs:{max:"85",min:"18",step:"1","thumb-label":"always","thumb-size":"25"},model:{value:t.age,callback:function(e){t.age=e},expression:"age"}}),t._v(" "),s("v-layout",{attrs:{"align-center":"","justify-center":""}},[s("v-btn",{staticClass:"home_clear_btn",attrs:{outline:"",block:"",large:"",color:"primary"},on:{click:t.mainSearch}},[s("span",[t._v("let's go")]),t._v(" "),s("v-icon",{attrs:{right:""}},[t._v("search")])],1)],1)],1)],1)],1)],1)])],1)])},staticRenderFns:[]};var j=s("VU/8")(L,U,!1,function(t){s("iTL/")},null,null).exports,B={name:"Alert",data:function(){return{}},props:{data:{type:Object,default:function(){return{state:!1,color:"",text:""}}}}},$={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-snackbar",{attrs:{color:t.data.color,timeout:4e3,"auto-height":"",top:"",right:""},model:{value:t.data.state,callback:function(e){t.$set(t.data,"state",e)},expression:"data.state"}},[t._v("\n\t"+t._s(t.data.text)+" \n\t"),s("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.data.state=!1}}},[s("v-icon",[t._v("close")])],1)],1)},staticRenderFns:[]};var F=s("VU/8")(B,$,!1,function(t){s("i//y")},null,null).exports,G={name:"Login",components:{Alert:F},data:function(){return{username:"",password:"",url:"https://matcha1337.herokuapp.com",valid:!1,showPass:!1,alert:{state:!1,color:"",text:""},nameRules:[function(t){return!!t||"This field is required"},function(t){return!/[^a-zA-Z \-]+/.test(t)||"Name can contain only letters"},function(t){return t.length>=3&&t.length<=255||"Name must be at least 3 characters long"}],usernameRules:[function(t){return!!t||"This field is required"},function(t){return t.length>=8&&t.length<=25||"Username must be between 8 and 25 characters long"},function(t){return!/[^a-zA-Z0-9]+/.test(t)||"Username can contain only letters and numbers"}],emailRules:[function(t){return!!t||"This field is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],passRules:[function(t){return!!t||"This field is required"},function(t){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(t)||"Password must contain at least one uppercase, one lowercase, one number and one special char"},function(t){return t.length>=8||"Password must be at least 8 characters long"}]}},created:function(){var t=this;return y()(_.a.mark(function e(){var s,a,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=localStorage.getItem("token"),a="https://matcha1337.herokuapp.com/auth/isloggedin",n={"x-auth-token":s},e.next=6,t.$http.get(a,{headers:n});case 6:e.sent.body.msg||t.$router.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Got error here --\x3e",e.t0);case 13:case"end":return e.stop()}},e,t,[[0,10]])}))()},methods:p()({},S,Object(x.b)(["login"]),{log:function(){var t=this;return y()(_.a.mark(function e(){var s,a,n,r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s="https://matcha1337.herokuapp.com/auth/login",a={username:t.username,password:t.password},e.next=5,t.$http.post(s,a);case 5:(n=e.sent).body.msg?t.showAlert("red",n.body.msg,t):(r=n.body).id&&(r.birthdate&&(r.birthdate=new Date(r.birthdate).toISOString().substr(0,10)),t.login(r),t.updateLocation(),t.$router.push("/")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},e,t,[[0,9]])}))()}})},z={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"mt-4"},[s("div",{staticClass:"login mt-5"},[s("h1",{staticClass:"page-header display-3 font-weight-light grey--text"},[t._v("Login")]),t._v(" "),s("v-form",{staticClass:"my-4",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-text-field",{staticClass:"my-5",attrs:{color:"primary","validate-on-blur":"",rules:t.usernameRules,label:"Username",required:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),s("v-text-field",{staticClass:"my-5",attrs:{color:"primary","validate-on-blur":"",rules:t.passRules,label:"Password",required:"","append-icon":t.showPass?"visibility":"visibility_off",type:t.showPass?"text":"password"},on:{keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.log(e):null},"click:append":function(e){t.showPass=!t.showPass}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),s("v-btn",{staticClass:"mt-5",attrs:{block:"",large:"",depressed:"",color:"primary",dark:""},on:{click:function(e){return e.preventDefault(),t.log(e)}}},[t._v("Login")]),t._v(" "),s("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[s("v-btn",{attrs:{flat:"",color:"primary",dark:"",to:"/forgot"}},[t._v("Forgot password")]),t._v(" "),s("v-btn",{attrs:{flat:"",color:"primary",dark:"",to:"/register"}},[t._v("Don't have an account? Sign up")])],1)],1),t._v(" "),s("v-layout",{attrs:{"justify-center":"","align-center":""}},[s("a",{staticClass:"google",attrs:{href:t.url+"/auth/google"}},[s("v-btn",{staticClass:"mt-3",attrs:{large:"",depressed:"",color:"red",dark:""}},[t._v("Login with google")])],1)])],1),t._v(" "),s("alert",{attrs:{data:t.alert}})],1)},staticRenderFns:[]};var H=s("VU/8")(G,z,!1,function(t){s("r2Tc")},null,null).exports,V=s("Gu7T"),Y=s.n(V),K=s("BO1k"),q=s.n(K),Z={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cs-loader"},[s("div",{staticClass:"cs-loader-inner"},[s("label",[t._v("●")]),t._v(" "),s("label",[t._v("●")]),t._v(" "),s("label",[t._v("●")]),t._v(" "),s("label",[t._v("●")]),t._v(" "),s("label",[t._v("●")]),t._v(" "),s("label",[t._v("●")])])])}]};var W=s("VU/8")({name:"loader"},Z,!1,function(t){s("xmo3")},null,null).exports,J={name:"UserCard",props:{user:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:p()({},Object(x.c)(["location"]),{age:function(){return(new Date).getFullYear()-new Date(this.user.birthdate).getFullYear()},distance:function(){var t=this.location,e={lat:this.user.lat,lng:this.user.lng};return Math.round(this.calculateDistance(t,e))+" kms away"},lastSeen:function(){return this.user.status?"online":this.user.lastSeen?w()(this.user.lastSeen).utc().fromNow():w()(this.user.created_at).utc().fromNow()}}),methods:p()({},S,{profileImage:function(t){return this.getFullPath(t)}})},X={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{attrs:{router:"",to:"/user/"+t.user.user_id}},[s("v-layout",{staticClass:"pt-1",attrs:{column:"","justify-center":"","align-center":""}},[s("v-layout",{staticClass:"top pa-2",attrs:{"justify-space-between":""}},[s("v-chip",{staticClass:"ml-2",attrs:{disabled:"",outline:"",small:"",color:"grey lighten-1"}},[t._v(t._s(t.distance))]),t._v(" "),s("v-tooltip",{staticClass:"status_container",attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-icon",t._g({staticClass:"status_icon mr-3",attrs:{color:(t.user.status?"green":"grey")+" lighten-2",small:""}},a),[t._v("fiber_manual_record")])]}}])},[t._v(" "),s("span",[t._v(t._s(t.lastSeen))])])],1),t._v(" "),s("v-avatar",{attrs:{size:"120"}},[s("v-img",{attrs:{src:t.profileImage(t.user.name),"aspect-ratio":"1"}})],1),t._v(" "),s("h5",{staticClass:"name headline text-capitalize mt-2 mb-4"},[t._v(t._s(t.user.first_name))]),t._v(" "),s("v-layout",{attrs:{"align-start":"","justify-center":""}},[s("p",{staticClass:"caption text-capitalize rating_value"},[t._v(t._s(t.user.rating.toFixed(1)))]),t._v(" "),s("v-rating",{staticClass:"rating",attrs:{readonly:"",dense:"",small:"",value:t.user.rating,"half-increments":""}})],1),t._v(" "),s("v-layout",{staticClass:"body-1 text-capitalize bottom mb-0 mt-auto py-2 px-4 grey lighten-5",attrs:{"justify-center":"","align-center":""}},[t.user.birthdate?s("v-icon",{staticClass:"cake_icon px-1",attrs:{color:"primary",small:""}},[t._v("cake")]):t._e(),t._v(" "),t.user.birthdate?s("span",{staticClass:"pr-1"},[t._v(t._s(t.age))]):t._e(),t._v(" "),s("v-icon",{staticClass:"location_icon px-1",attrs:{color:"primary lighten-1",small:""}},[t._v("place")]),t._v(" "),t.user.city&&t.user.country?s("span",{staticClass:"text-truncate"},[t._v(t._s(t.user.city+", "+t.user.country))]):s("span",{staticClass:"text-truncate"},[t._v("Earth")])],1)],1)],1)},staticRenderFns:[]};var Q=s("VU/8")(J,X,!1,function(t){s("JO3j")},null,null).exports,tt=s("ti+0"),et=s.n(tt),st={name:"Discover",components:{UserCard:Q,loader:W},props:{data:{type:Object,default:function(){return{}}}},data:function(){var t=this;return{max:0,step:0,search:!1,sortDir:1,sort:null,users:[],interests:[],gender:null,location:null,loaded:!1,age:[18,85],rating:[0,5],distance:[0,0],tags:["sports","cinema","music"],sortTypes:["age","distance","rating","interests"],nats:et.a,filters:{self:function(e){return e.user_id!=t.user.id},blocked:function(e){return!t.blocked.includes(e.user_id)},blockedBy:function(e){return!t.blockedBy.includes(e.user_id)},rating:function(e){return e.rating>=t.rating[0]&&e.rating<=t.rating[1]},gender:function(e){return!t.gender||e.gender===t.gender},location:function(e){return!t.location||[e.country,e.address,e.city].some(function(e){return e&&e.has(t.location)})},distance:function(e){if(t.distance[0]==t.distance[1])return!0;if(e.lat&&e.lng){var s=e.lat,a=e.lng,n=t.calculateDistance(t.userLocation,{lat:s,lng:a});return n>=t.distance[0]&&n<=t.distance[1]}},age:function(e){var s=new Date(e.birthdate).getFullYear(),a=(new Date).getFullYear();return s>=a-t.age[1]&&s<=a-t.age[0]},interest:function(e){if(!t.interests.length)return!0;var s=!0,a=!1,n=void 0;try{for(var r,i=q()(t.interests);!(s=(r=i.next()).done);s=!0){var o=r.value;if(e.tags.split(",").includes(o))return!0}}catch(t){a=!0,n=t}finally{try{!s&&i.return&&i.return()}finally{if(a)throw n}}return!1}}}},computed:p()({},Object(x.c)({user:"user",allTags:"tags",online:"online",status:"status",blocked:"blocked",blockedBy:"blockedBy",userLocation:"location"}),{filtered:function(){return this.search?this.users.filter(this.filters.self).filter(this.filters.blocked).filter(this.filters.blockedBy).filter(this.filters.rating).filter(this.filters.gender).filter(this.filters.location).filter(this.filters.age).filter(this.filters.distance).filter(this.filters.interest):[]},sorted:function(){var t=this;if(!this.search)return[];if(!this.sort||"distance"==this.sort)return this.sortDir<0?[].concat(Y()(this.filtered)).reverse():this.filtered;var e=void 0,s=function(t){return new Date-new Date(t)},a=function(e){if(!e||!e.length)return 0;var s=e.split(",");return t.user.tags.split(",").filter(function(t){return-1!==s.indexOf(t)}).length};switch(this.sort){case"age":e=function(e,a){return t.sortDir*(s(e.birthdate)-s(a.birthdate))};break;case"rating":e=function(e,s){return t.sortDir*(s.rating-e.rating)};break;case"interests":e=function(e,s){return t.sortDir*(a(s.tags)-a(e.tags))}}return[].concat(Y()(this.filtered)).sort(e)},maxDis:function(){if(null===this.sort&&1===this.sortDir&&this.users.length){var t=this.users[this.users.length-1],e=t.lat,s=t.lng,a={lat:Number(e),lng:Number(s)},n=(this.calculateDistance(this.userLocation,a)/4).toFixed(0),r=Math.ceil(Number(n)/Math.pow(10,n.length-1));return Number(r+n.split("").splice(1).map(function(t){return"0"}).join(""))}}}),created:function(){var t=this;return y()(_.a.mark(function e(){var s,a,n,r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=localStorage.getItem("token"),a="https://matcha1337.herokuapp.com/api/users/show",n={"x-auth-token":s},e.next=5,t.$http.post(a,{filter:!1},{headers:n});case 5:(r=e.sent).body.msg?(t.logout(t.user.id),t.$router.push("/login")):(t.users=r.body.map(function(t){return p()({},t,{rating:Number(t.rating)})}),(t.data.gender||t.data.location)&&("null"!=t.data.gender&&(t.gender=t.data.gender),"null"!=t.data.location&&(t.location=t.data.location),t.data.min&&t.data.max&&!isNaN(t.data.max)&&!isNaN(t.data.min)&&Number(t.data.max)>=Number(t.data.min)&&(t.age=[Number(t.data.min),Number(t.data.max)]),t.search=!0),t.whoIsUp(),t.loaded=!0);case 7:case"end":return e.stop()}},e,t)}))()},methods:p()({},S,Object(x.b)(["logout"]),{reset:function(){this.search=!1,this.rating=[0,5],this.age=[18,85],this.gender=null,this.distance=[0,this.maxDis],this.location=null},changeSort:function(){this.sortDir=-this.sortDir},whoIsUp:function(){var t=this;this.users.forEach(function(e,s){t.users[s].lastSeen=t.users[s].status,t.users[s].status=t.online.includes(e.user_id)})}}),watch:{online:{immediate:!0,handler:function(){this.whoIsUp()}},age:function(){if(this.age[0]>this.age[1]){var t=this.age[0];this.age[0]=this.age[1],this.age[1]=t}},rating:function(){if(this.rating[0]>this.rating[1]){var t=this.rating[0];this.rating[0]=this.rating[1],this.rating[1]=t}},distance:function(){if(this.distance[0]>this.distance[1]){var t=this.distance[0];this.distance[0]=this.distance[1],this.distance[1]=t}},maxDis:{immediate:!0,handler:function(){var t=this.maxDis;t&&(this.distance[1]=t,this.max=t,this.step=Math.ceil(t/30))}}}},at={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loaded?s("v-container",{staticClass:"pt-5 px-0 discover"},[s("v-layout",{attrs:{wrap:"","justify-center":""}},[s("v-flex",{attrs:{xl2:t.search,xl4:!t.search,md3:t.search,md8:!t.search,sm10:""}},[s("v-container",{attrs:{"px-md-5":""}},[s("v-layout",{attrs:{column:""}},[s("h4",{staticClass:"title font-weight-thin mb-4"},[t._v("Show me")]),t._v(" "),s("v-btn-toggle",{staticClass:"mb-5",model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}},[s("v-btn",{staticClass:"toggle_btn",attrs:{flat:"",outline:"",color:"primary",value:"male"}},[s("svg",{staticStyle:{fill:"var(--color-primary)"},attrs:{id:"male",viewBox:"0 0 512 512",width:"17",height:"20"}},[s("path",{attrs:{d:"M376.264,290.173c66.314-66.293,66.314-174.16,0-240.453c-66.314-66.294-174.214-66.294-240.529,0 c-66.314,66.293-66.314,174.16,0,240.453c28.07,28.061,63.591,44.24,100.254,48.546v56.923h-40.018 c-11.051,0-20.009,8.956-20.009,20.003s8.958,20.003,20.009,20.003h40.018v56.348c0.001,11.047,8.959,20.003,20.011,20.003 c11.051,0,20.009-8.956,20.009-20.003v-56.348h40.019c11.051,0,20.009-8.956,20.009-20.003s-8.958-20.003-20.009-20.003h-40.019 V338.72C312.673,334.413,348.194,318.234,376.264,290.173z M164.033,261.884c-50.711-50.695-50.711-133.181,0-183.876 c50.71-50.693,133.221-50.696,183.934,0c50.711,50.695,50.711,133.181,0,183.876C297.256,312.578,214.744,312.578,164.033,261.884 z"}})]),t._v(" "),s("span",{staticClass:"px-1"},[t._v("Men")])]),t._v(" "),s("v-btn",{staticClass:"toggle_btn",attrs:{flat:"",outline:"",color:"primary",value:"female"}},[s("svg",{staticStyle:{fill:"var(--color-primary)"},attrs:{id:"female",height:"17",viewBox:"0 0 384 384",width:"20"}},[s("path",{attrs:{d:"m383.792969 13.9375c-.175781-1.378906-.480469-2.707031-.984375-3.953125-.015625-.03125-.015625-.074219-.023438-.113281 0-.007813-.007812-.015625-.015625-.023438-.554687-1.3125-1.3125-2.503906-2.167969-3.609375-.210937-.261719-.417968-.519531-.640624-.765625-.914063-1.03125-1.90625-1.984375-3.058594-2.761718-.03125-.023438-.070313-.03125-.101563-.054688-1.113281-.734375-2.34375-1.289062-3.632812-1.726562-.320313-.113282-.632813-.210938-.960938-.296876-1.351562-.367187-2.742187-.632812-4.207031-.632812h-112c-8.832031 0-16 7.167969-16 16s7.167969 16 16 16h73.367188l-95.496094 95.496094c-25.464844-20.367188-56.816406-31.496094-89.871094-31.496094-79.398438 0-144 64.601562-144 144s64.601562 144 144 144 144-64.601562 144-144c0-33.039062-11.121094-64.382812-31.503906-89.871094l95.503906-95.503906v73.375c0 8.832031 7.167969 16 16 16s16-7.167969 16-16v-112c0-.335938-.078125-.65625-.097656-.984375-.023438-.367187-.0625-.71875-.109375-1.078125zm-239.792969 338.0625c-61.761719 0-112-50.238281-112-112s50.238281-112 112-112c29.902344 0 58.054688 11.640625 79.222656 32.734375 21.136719 21.210937 32.777344 49.363281 32.777344 79.265625 0 61.761719-50.238281 112-112 112zm0 0"}})]),t._v(" "),s("span",{staticClass:"px-1"},[t._v("Women")])])],1),t._v(" "),s("h4",{staticClass:"title font-weight-thin mb-3"},[t._v("Distance")]),t._v(" "),s("v-range-slider",{staticClass:"mx-3 mb-5 pt-3",attrs:{"hide-details":"",max:t.max,min:"0",step:t.step,"thumb-label":"always","thumb-size":"30"},model:{value:t.distance,callback:function(e){t.distance=e},expression:"distance"}}),t._v(" "),s("h4",{staticClass:"title font-weight-thin mb-3"},[t._v("Age")]),t._v(" "),s("v-range-slider",{staticClass:"mx-3 mb-4 pt-3",attrs:{max:"85",min:"18",step:"1","thumb-label":"always","thumb-size":"25"},model:{value:t.age,callback:function(e){t.age=e},expression:"age"}}),t._v(" "),s("h4",{staticClass:"title font-weight-thin mb-3"},[t._v("Fame")]),t._v(" "),s("v-range-slider",{staticClass:"mx-3 mb-4 pt-3",attrs:{max:"5",min:"0",step:".5","thumb-label":"always","thumb-size":"25"},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}}),t._v(" "),s("h4",{staticClass:"title font-weight-thin mb-4"},[t._v("Near")]),t._v(" "),s("v-text-field",{staticClass:"loaction_input mb-4",attrs:{color:"primary",outline:"",solo:"",flat:"","append-icon":"place"},model:{value:t.location,callback:function(e){t.location=e},expression:"location"}}),t._v(" "),s("h4",{staticClass:"title font-weight-thin mb-4"},[t._v("Interests")]),t._v(" "),s("v-autocomplete",{staticClass:"tags_menu mb-5",attrs:{items:t.allTags,solo:"",flat:"",outline:"",multiple:"","deletable-chips":"","hide-details":"",chips:""},model:{value:t.interests,callback:function(e){t.interests=e},expression:"interests"}}),t._v(" "),s("v-layout",{staticClass:"mb-4",attrs:{"align-center":"","justify-between":""}},[s("h4",{staticClass:"title font-weight-thin"},[t._v("Sort by")]),t._v(" "),s("v-btn",{staticClass:"sort_btn",attrs:{flat:"",icon:"",color:"primary"},on:{click:t.changeSort}},[s("v-icon",{class:"sort_icon "+(t.sortDir<0?"flip":"")},[t._v("sort")])],1)],1),t._v(" "),s("v-select",{staticClass:"sort_select mb-5",attrs:{outline:"",solo:"",items:t.sortTypes},model:{value:t.sort,callback:function(e){t.sort=e},expression:"sort"}}),t._v(" "),s("v-layout",{attrs:{column:t.search,"align-center":"","justify-center":""}},[s("v-btn",{class:(t.search?"":"mr-3")+" clear_btn",attrs:{outline:"",block:"",large:"",color:"primary"},on:{click:t.reset}},[s("v-icon",[t._v("refresh")])],1),t._v(" "),s("v-btn",{class:(t.search?"":"m-3")+" clear_btn",attrs:{outline:"",block:"",large:"",color:"primary"},on:{click:function(e){t.search=!0}}},[s("v-icon",[t._v("search")])],1)],1)],1)],1)],1),t._v(" "),t.search?s("v-flex",{attrs:{xl10:"",md9:"",sm12:""}},[s("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},t._l(t.sorted,function(t){return s("v-flex",{key:t.user_id,staticClass:"user",attrs:{xl2:"",lg3:"",sm3:"","ma-3":"",grow:""}},[s("user-card",{attrs:{user:t}})],1)}),1)],1):t._e()],1)],1):s("loader")},staticRenderFns:[]};var nt=s("VU/8")(st,at,!1,function(t){s("c2a6")},null,null).exports,rt={name:"Forgot",components:{Alert:F},data:function(){return{email:null,valid:!1,alert:{state:!1,color:"",text:""}}},methods:{recover:function(t){var e=this;return y()(_.a.mark(function s(){var a,n,r;return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.preventDefault(),!((a=e.email)&&a.length&&/.+@.+/.test(a))){s.next=11;break}return n="https://matcha1337.herokuapp.com/auth/forgot",s.next=6,e.$http.post(n,{email:a});case 6:r=s.sent,e.email="",r.body.ok?e.showAlert("green","Please check your email ..",e):e.showAlert("red","Ouups something went wrong!",e),s.next=12;break;case 11:e.showAlert("red","Please provide a valid email",e);case 12:case"end":return s.stop()}},s,e)}))()}}},it={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"forgot mt-5"},[s("h1",{staticClass:"page-header display-3 font-weight-light grey--text"},[t._v("Recover password")]),t._v(" "),s("p",{staticClass:"subheading grey--text mt-3"},[t._v("Please provide your email adresse in order to change your password")]),t._v(" "),s("v-layout",{attrs:{row:"","align-baseline":""}},[s("v-text-field",{staticClass:"my-5",attrs:{color:"primary",outline:"",solo:"",label:"Email",required:""},on:{keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.recover(e):null}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),s("v-btn",{staticClass:"ml-0 py-3 send_btn",attrs:{large:"",outline:"",color:"primary",dark:""},on:{click:function(e){return e.preventDefault(),t.recover(e)}}},[t._v("Send")])],1),t._v(" "),s("alert",{attrs:{data:t.alert}})],1)},staticRenderFns:[]};var ot=s("VU/8")(rt,it,!1,function(t){s("Op7R")},null,null).exports,lt={data:function(){return{users:1,nats:et.a}},methods:{install:function(){var t=this;return y()(_.a.mark(function e(){var s,a,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s="https://randomuser.me/api/?results="+t.users,e.next=4,t.$http.get(s);case 4:a=e.sent,n=["1337","PHP","42","Sam7ini","Football","7sana_3adia","-42","125","shooting_stars","nodeJS"],a.body.results.forEach(function(){var e=y()(_.a.mark(function e(s){var a,r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://matcha1337.herokuapp.com/api/users/install",r={first_name:s.name.first,last_name:s.name.last,username:s.login.username,email:s.email,password:"FakeUser@1337",gender:s.gender,looking:["both","female","male"][Math.floor(3*Math.random())],birthdate:s.dob.date.slice(0,10),biography:"I'm a fake user",tags:n.slice(Math.floor(10*Math.random()),Math.floor(10*Math.random())).join(","),address:s.location.street,city:s.location.city,country:t.nats[s.nat].toLowerCase(),postal_code:s.location.postcode,phone:s.cell,image:s.picture.large,lat:s.location.coordinates.latitude,lng:s.location.coordinates.longitude},e.next=4,t.$http.post(a,r);case 4:e.sent;case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},e,t,[[0,9]])}))()}}},ct={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-layout",[s("v-text-field",{model:{value:t.users,callback:function(e){t.users=e},expression:"users"}}),t._v(" "),s("v-btn",{attrs:{color:"primary",outline:"",large:""},on:{click:t.install}},[t._v("Install")])],1)],1)},staticRenderFns:[]},ut=s("VU/8")(lt,ct,!1,null,null,null).exports,dt={name:"Recover",components:{Alert:F,loader:W},data:function(){return{password:"",passwordConfirm:"",notSub:!0,valid:!1,loading:!0,showPass:!1,showConfPass:!1,passRules:[function(t){return!!t||"This field is required"},function(t){return/^(?=.*\d)(?=.*[A-Za-z])[0-9A-Za-z!@#$%]+$/.test(t)||"Password must contain at least one letter, one number and one special char"},function(t){return t.length>=8||"Password must be at least 8 characters long"}],confPassRules:[function(t){return!!t||"This field is required"}],alert:{state:!1,color:"",text:""}}},computed:Object(x.c)(["user"]),created:function(){var t=this;return y()(_.a.mark(function e(){var s,a,n,r,i;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=localStorage.getItem("token"),a=localStorage.getItem("key"),n={"x-auth-token":s},r="https://matcha1337.herokuapp.com/auth/kcheck",e.next=7,t.$http.post(r,{key:a},{headers:n});case 7:i=e.sent,t.loading=!1,i.body.ok?t.$router.replace("/recover"):t.$router.push("/404"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("Got error with --\x3e ",e.t0);case 15:case"end":return e.stop()}},e,t,[[0,12]])}))()},methods:p()({},S,{passwordMatch:function(){return this.passwordConfirm.length&&this.password!==this.passwordConfirm?"Passwords must match":""},submit:function(){var t=this;return y()(_.a.mark(function e(){var s,a,n,r,i,o;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,s=localStorage.getItem("token"),a=localStorage.getItem("key"),n={"x-auth-token":s},r="https://matcha1337.herokuapp.com/auth/rcheck",i={key:a,password:t.password},e.next=9,t.$http.post(r,i,{headers:n});case 9:o=e.sent,t.loading=!1,o.body.ok?(t.notSub=!1,t.showAlert("green","Your password has been reseted!",t)):t.showAlert("red","Oups, something went wrong, please try later",t),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log("Got error with --\x3e ",e.t0);case 17:case"end":return e.stop()}},e,t,[[1,14]])}))()}}),beforeDestroy:function(){var t=this;return y()(_.a.mark(function e(){var s,a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s={"x-auth-token":t.user.token},a="https://matcha1337.herokuapp.com/auth/kdestroy",e.next=4,t.$http.get(a,{headers:s});case 4:case"end":return e.stop()}},e,t)}))()}},ht={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"recover mt-5"},[t.notSub&&!t.loading?s("v-form",{staticClass:"my-4",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-layout",{attrs:{wrap:"","justify-center":""}},[s("v-flex",{attrs:{xs12:""}},[s("h1",{staticClass:"page-header pass_reset_title display-3 mb-5 font-weight-light grey--text"},[t._v("Reset password")])]),t._v(" "),s("v-flex",{attrs:{md8:"",sm10:"",xs12:""}},[s("v-text-field",{attrs:{color:"primary","validate-on-blur":"",rules:t.passRules,label:"New password",required:"","append-icon":t.showPass?"visibility":"visibility_off",type:t.showPass?"text":"password"},on:{"click:append":function(e){t.showPass=!t.showPass}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),s("v-flex",{attrs:{md8:"",sm10:"",xs12:""}},[s("v-text-field",{staticClass:"my-3",attrs:{color:"primary","validate-on-blur":"",rules:t.confPassRules,counter:12,label:"Confirm new password",required:"","append-icon":t.showConfPass?"visibility":"visibility_off",type:t.showConfPass?"text":"password","error-messages":t.passwordMatch()},on:{"click:append":function(e){t.showConfPass=!t.showConfPass}},model:{value:t.passwordConfirm,callback:function(e){t.passwordConfirm=e},expression:"passwordConfirm"}})],1),t._v(" "),s("v-flex",{attrs:{md8:"",sm10:"",xs12:""}},[s("v-btn",{staticClass:"mt-5 white--text",attrs:{block:"",large:"",depressed:"",color:"primary",disabled:!t.valid},on:{click:t.submit}},[t._v("Submit")])],1)],1)],1):t._e(),t._v(" "),t.notSub||t.loading?t._e():s("v-btn",{staticClass:"mt-5 py-3 white--text back_btn",attrs:{large:"",round:"",outline:"",router:"",to:"/",color:"primary"}},[s("v-icon",{attrs:{left:"",dark:""}},[t._v("arrow_back")]),t._v(" "),s("span",[t._v("Go back")])],1),t._v(" "),t.loading?s("loader"):t._e(),t._v(" "),s("alert",{attrs:{data:t.alert}})],1)},staticRenderFns:[]};var ft=s("VU/8")(dt,ht,!1,function(t){s("P7gt")},null,null).exports,vt={name:"Register",components:{Alert:F},data:function(){return{firstname:"",lastname:"",username:"",password:"",passwordConfirm:"",email:"",valid:!1,showPass:!1,showConfPass:!1,alert:{state:!1,color:"",text:""},rules:{name:[function(t){return!!t||"This field is required"},function(t){return!/[^a-zA-Z \-]+/.test(t)||"Name can contain only letters"},function(t){return t.length>=3&&t.length<=255||"Name must be at least 3 characters long"}],username:[function(t){return!!t||"This field is required"},function(t){return t.length>=8&&t.length<=25||"Username must be between 8 and 25 characters long"},function(t){return!/[^a-zA-Z0-9]+/.test(t)||"Username can contain only letters and numbers"}],email:[function(t){return!!t||"This field is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],password:[function(t){return!!t||"This field is required"},function(t){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(t)||"Password must contain at least one uppercase, one lowercase, one number and one special char"},function(t){return t.length>=8||"Password must be at least 8 characters long"}]}}},created:function(){var t=this;return y()(_.a.mark(function e(){var s,a,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=localStorage.getItem("token"),a="https://matcha1337.herokuapp.com/auth/isloggedin",n={"x-auth-token":s},e.next=6,t.$http.get(a,{headers:n});case 6:e.sent.body.msg||t.$router.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Got error here --\x3e",e.t0);case 13:case"end":return e.stop()}},e,t,[[0,10]])}))()},methods:p()({},S,{registerUser:function(t){var e=this;return y()(_.a.mark(function s(){var a,n,r;return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.preventDefault(),s.prev=1,a="https://matcha1337.herokuapp.com/api/users/add",n={first_name:e.firstname,last_name:e.lastname,username:e.username,email:e.email,password:e.password},s.next=6,e.$http.post(a,n);case 6:(r=s.sent).body.ok?e.showAlert("green",r.body.status,e):e.showAlert("red",r.body.msg,e),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(1),console.error(s.t0);case 13:case"end":return s.stop()}},s,e,[[1,10]])}))()},passwordMatch:function(){return this.passMatch(this.passwordConfirm,this.password)}})},mt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"mt-4"},[s("div",{staticClass:"register mt-5"},[s("h1",{staticClass:"page-header display-3 mb-4 font-weight-light grey--text"},[t._v("Register")]),t._v(" "),s("v-form",{staticClass:"my-4",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-text-field",{staticClass:"my-3",attrs:{color:"primary","validate-on-blur":"",rules:t.rules.name,label:"First name",required:""},model:{value:t.firstname,callback:function(e){t.firstname=e},expression:"firstname"}}),t._v(" "),s("v-text-field",{staticClass:"my-3",attrs:{color:"primary","validate-on-blur":"",rules:t.rules.name,label:"Last name",required:""},model:{value:t.lastname,callback:function(e){t.lastname=e},expression:"lastname"}}),t._v(" "),s("v-text-field",{staticClass:"my-3",attrs:{color:"primary","validate-on-blur":"",rules:t.rules.username,counter:25,label:"Username",required:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),s("v-text-field",{staticClass:"my-3",attrs:{color:"primary","validate-on-blur":"",rules:t.rules.email,label:"E-mail",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),s("v-text-field",{staticClass:"my-3",attrs:{color:"primary","validate-on-blur":"",rules:t.rules.password,label:"Password",required:"","append-icon":t.showPass?"visibility":"visibility_off",type:t.showPass?"text":"password"},on:{"click:append":function(e){t.showPass=!t.showPass}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),s("v-text-field",{staticClass:"my-3",attrs:{color:"primary","validate-on-blur":"",label:"Confirm Password",required:"","append-icon":t.showConfPass?"visibility":"visibility_off",type:t.showConfPass?"text":"password","error-messages":t.passwordMatch()},on:{keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.registerUser(e):null},"click:append":function(e){t.showConfPass=!t.showConfPass}},model:{value:t.passwordConfirm,callback:function(e){t.passwordConfirm=e},expression:"passwordConfirm"}}),t._v(" "),s("v-btn",{staticClass:"mt-5 white--text",attrs:{block:"",large:"",depressed:"",color:"primary",disabled:!t.valid},on:{click:t.registerUser}},[t._v("Submit")]),t._v(" "),s("v-layout",{attrs:{row:"","justify-end":""}},[s("v-btn",{attrs:{flat:"",color:"primary",dark:"",to:"/login"}},[t._v("Have an account? Login")])],1)],1)],1),t._v(" "),s("alert",{attrs:{data:t.alert}})],1)},staticRenderFns:[]};var pt=s("VU/8")(vt,mt,!1,function(t){s("gfUz")},null,null).exports,gt=s("vdhV"),_t={name:"ProfileForm",components:{VueTagsInput:gt.VueTagsInput},data:function(){return{isEditing:!1,menu:!1,tag:"",tags:[],genders:["male","female"],looking:["male","female","both"],tagEsc:[13,":",",",";"]}},computed:p()({},Object(x.c)({allTags:"tags"}),{formatedTags:function(t){var e=this;return Object(gt.createTags)(this.allTags).filter(function(t){var s=t.text.toLowerCase(),a=e.tag.toLowerCase();return s.length&&-1!=s.indexOf(a)})}}),props:{user:{type:Object,default:function(){return{}}}},watch:{user:{handler:"syncUser",immediate:!0},tags:function(){this.user.tags=this.tags.map(function(t){return t.text.toLowerCase()}).join(",")}},methods:p()({},S,{syncUser:function(){var t=this.user.tags,e=t?t.split(","):[];this.tags=e?Object(gt.createTags)(e):[],this.$emit("sync-user",this.user)},updateUser:function(){this.$emit("update-user",this.user)},toggleEdit:function(){this.isEditing=!this.isEditing}})},bt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-btn",{staticClass:"edit",attrs:{color:"grey lighten-5",fab:"",small:""},on:{click:function(e){t.isEditing=!t.isEditing}}},[t.isEditing?s("v-icon",[t._v("close")]):s("v-icon",[t._v("edit")])],1),t._v(" "),s("h1",{staticClass:"heading display-2 font-weight-thin pt-4 pb-3 mb-4"},[t._v("Informations")]),t._v(" "),s("v-form",{staticClass:"mt-4"},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{disabled:!t.isEditing,color:"primary",label:"Username"},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-text-field",{attrs:{disabled:!t.isEditing,label:"First Name",color:"primary"},model:{value:t.user.first_name,callback:function(e){t.$set(t.user,"first_name",e)},expression:"user.first_name"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-text-field",{attrs:{disabled:!t.isEditing,label:"Last Name",color:"primary"},model:{value:t.user.last_name,callback:function(e){t.$set(t.user,"last_name",e)},expression:"user.last_name"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-text-field",{attrs:{disabled:!t.isEditing,label:"Phone Number",color:"primary"},model:{value:t.user.phone,callback:function(e){t.$set(t.user,"phone",e)},expression:"user.phone"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-text-field",t._g({attrs:{disabled:!t.isEditing,color:"primary",value:t.user.birthdate,label:"Birth Date",readonly:""}},a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),s("v-date-picker",{attrs:{color:"primary"},on:{input:function(e){t.menu=!1}},model:{value:t.user.birthdate,callback:function(e){t.$set(t.user,"birthdate",e)},expression:"user.birthdate"}})],1)],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-select",{attrs:{disabled:!t.isEditing,color:"primary",items:t.genders,label:"Gender"},model:{value:t.user.gender,callback:function(e){t.$set(t.user,"gender",e)},expression:"user.gender"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-select",{attrs:{disabled:!t.isEditing,color:"primary",items:t.looking,label:"Looking For"},model:{value:t.user.looking,callback:function(e){t.$set(t.user,"looking",e)},expression:"user.looking"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{disabled:!t.isEditing,label:"Address",color:"primary"},model:{value:t.user.address,callback:function(e){t.$set(t.user,"address",e)},expression:"user.address"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm4:""}},[s("v-text-field",{attrs:{disabled:!t.isEditing,label:"City",color:"primary"},model:{value:t.user.city,callback:function(e){t.$set(t.user,"city",e)},expression:"user.city"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm4:""}},[s("v-text-field",{attrs:{disabled:!t.isEditing,label:"Country",color:"primary"},model:{value:t.user.country,callback:function(e){t.$set(t.user,"country",e)},expression:"user.country"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm4:""}},[s("v-text-field",{attrs:{disabled:!t.isEditing,color:"primary",label:"Postal Code",type:"number"},model:{value:t.user.postal_code,callback:function(e){t.$set(t.user,"postal_code",e)},expression:"user.postal_code"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("vue-tags-input",{attrs:{"max-tags":20,maxlength:25,"autocomplete-items":t.formatedTags,"add-on-key":t.tagEsc,disabled:!t.isEditing,tags:t.tags},on:{"tags-changed":function(e){return t.tags=e}},model:{value:t.tag,callback:function(e){t.tag=e},expression:"tag"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("v-textarea",{attrs:{disabled:!t.isEditing,color:"primary",label:"Bio"},model:{value:t.user.biography,callback:function(e){t.$set(t.user,"biography",e)},expression:"user.biography"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"","text-xs-right":""}},[s("v-btn",{staticClass:"mx-0 font-weight-light",attrs:{disabled:!t.isEditing,color:"primary",large:"",dark:""},on:{click:function(e){return e.preventDefault(),t.updateUser(e)}}},[t._v("Save")])],1)],1)],1)],1)},staticRenderFns:[]};var yt=s("VU/8")(_t,bt,!1,function(t){s("BmVV")},null,null).exports,xt={name:"ProfileTabs",data:function(){return this.links=[{icon:"person",text:"Info",route:"profile"},{icon:"photo_camera",text:"Gallery",route:"photo"}],this.settings&&(this.links[0].text="Profile",this.links.push({icon:"history",text:"History",route:"history"}),this.links.push({icon:"settings",text:"Parameters",route:"setting"})),{activeTab:null}},props:{settings:{type:Boolean,default:!1},mobile:{type:Boolean,default:!1},active:{type:String,default:""}},watch:{active:{immediate:!0,handler:"sync"},activeTab:function(){this.$emit("change-tab",this.activeTab)}},methods:{sync:function(){this.activeTab=this.active}}},kt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-flex",{class:t.mobile?"hidden-md-and-up pb-0 mt-5":"hidden-sm-and-down",attrs:{md8:""}},[s("v-tabs",{attrs:{"fixed-tabs":"",centered:"",color:"grey lighten-"+(t.mobile?5:3),"slider-color":"primary"},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},t._l(t.links,function(e){return s("v-tab",{key:e.route,attrs:{href:"#tab-"+e.route}},[s("v-icon",{attrs:{left:!t.mobile}},[t._v(t._s(e.icon))]),t._v(" "),s("span",{class:t.mobile?"pl-3 hidden-xs-only":""},[t._v(t._s(e.text))])],1)}),1)],1)},staticRenderFns:[]};var wt=s("VU/8")(xt,kt,!1,function(t){s("mUhq")},null,null).exports,Ct={name:"ProfileBadge",props:{match:{type:Boolean,default:!1},like:{type:Boolean,default:!1},settings:{type:Boolean,default:!1},user:{type:Object,default:function(){return{}}}},computed:{fields:function(){return[{exist:!0,icon:"calendar_today",text:"Joined "+w()(this.user.created_at).format("MMMM YYYY")},{exist:!!this.user.birthdate,icon:"child_care",text:"Born "+w()(this.user.birthdate).format("MMMM D, YYYY")},{exist:!!this.user.city&&!!this.user.country,icon:"location_on",text:this.user.city+", "+this.user.country}]}},methods:S},At={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{"justify-center":"","py-0":""}},[s("v-flex",{staticClass:"badge text-capitalize",attrs:{xs12:"",sm11:"",md9:"","offset-lg3":"","offset-xl4":"","offset-md2":"","offset-sm1":""}},[s("h2",{staticClass:"font-weight-thin mb-2"},[s("div",{staticClass:"text-truncate full_name pr-3 d-inline"},[t._v(t._s(t.user.first_name+" "+t.user.last_name))]),t._v(" "),!t.settings&&t.like?s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("svg",t._g({staticClass:"match_icon",attrs:{x:"0px",y:"0px",viewBox:"0 0 407.585 407.585"}},a),[t.match?s("g",[s("path",{staticStyle:{fill:"#F8305F"},attrs:{d:"M140.493,349.494c-56.8-30.4-123.2-101.6-131.2-159.2c-4-22.4,3.2-44.8,20-60 c12.8-12.8,29.6-20.8,47.2-20.8c38.4,0,66.4,38.4,67.2,40c0,0,28.8-40,67.2-40c17.6,0.8,35.2,8,47.2,20.8c16.8,15.2,24,37.6,20,60 c-8,57.6-74.4,128.8-131.2,159.2l-4,2.4L140.493,349.494z"}}),t._v(" "),s("path",{staticStyle:{fill:"#FFFFFF"},attrs:{d:"M259.693,296.694c-7.2-4-13.6-8-20-12.8l-7.2-4.8l5.6-6.4c23.2-28.8,37.6-57.6,40.8-81.6 c4-22.4-3.2-44.8-20-60c-12.8-12.8-29.6-20.8-47.2-20.8c-28,0-50.4,20-61.6,32.8l-5.6,6.4l-6.4-6.4c-2.4-2.4-4.8-4.8-8-8l-2.4-3.2 v-3.2c-1.6-19.2,6.4-38.4,20.8-51.2c12.8-12.8,29.6-20.8,48-20.8c1.6,0,4,0,5.6,0c36,3.2,61.6,39.2,61.6,40s26.4-36,61.6-39.2 c1.6,0,4,0,5.6,0c18.4,0.8,35.2,8,48,20.8c16.8,15.2,24,37.6,20,60c-8,57.6-74.4,128.8-131.2,159.2l-4,2.4L259.693,296.694z"}}),t._v(" "),s("path",{staticStyle:{fill:"#28150B"},attrs:{d:"M324.493,48.694c-28,3.2-50.4,23.2-60.8,35.2c-10.4-11.2-32.8-32-60.8-35.2 c-22.4-1.6-44,6.4-59.2,23.2c-12.8,11.2-20.8,27.2-23.2,44.8c-12.8-8.8-28-14.4-44-14.4c-20,0.8-39.2,8.8-52.8,23.2 c-18.4,16.8-27.2,42.4-22.4,66.4c8.8,61.6,80,137.6,139.2,167.2c2.4,0.8,4.8,0.8,7.2,0c32.8-17.6,61.6-40.8,86.4-68.8 c8.8,5.6,17.6,11.2,26.4,16c2.4,0.8,4.8,0.8,7.2,0c59.2-29.6,130.4-105.6,139.2-167.2c4.8-24.8-4-49.6-22.4-66.4 C368.493,55.094,346.893,47.094,324.493,48.694z M143.693,342.294c-54.4-28.8-119.2-97.6-127.2-152.8c-4-19.2,3.2-39.2,17.6-52.8 c11.2-11.2,26.4-18.4,42.4-19.2c34.4,0,60.8,36,60.8,36.8c1.6,2.4,4,3.2,6.4,3.2l0,0c2.4,0,4.8-1.6,6.4-3.2c0,0,26.4-36.8,61.6-36.8 c16,0.8,31.2,7.2,42.4,19.2c14.4,13.6,20.8,33.6,17.6,52.8C262.893,244.694,198.893,313.494,143.693,342.294z M390.093,135.894 c-8,55.2-72,124-127.2,153.6c-6.4-4-13.6-8-20-12c22.4-28,39.2-58.4,42.4-85.6c4.8-24.8-4-49.6-22.4-66.4 c-13.6-14.4-32.8-22.4-52-23.2c-32,0-56,23.2-67.2,35.2c-2.4-2.4-4.8-5.6-8-8c-1.6-16.8,5.6-33.6,18.4-45.6 c12-12.8,29.6-20,47.2-18.4c32,3.2,56,36,56,36c1.6,2.4,4,3.2,6.4,3.2l0,0c2.4,0,4.8-1.6,6.4-3.2c0,0,24-32.8,56-36 c17.6-0.8,35.2,5.6,47.2,18.4C387.693,96.694,394.093,116.694,390.093,135.894z"}})]):s("g",[s("path",{attrs:{d:"M384.033,71.263c-15.445-16.106-37.263-24.493-59.52-22.88c-28.4,2.88-50.48,23.36-60.88,34.96 c-10.4-11.6-32.48-32-60.96-34.96c-22.257-1.613-44.075,6.774-59.52,22.88c-12.844,11.503-20.992,27.341-22.88,44.48 c-12.846-9.093-28.106-14.161-43.84-14.56c-19.985,0.652-38.939,9.025-52.88,23.36c-18.37,16.956-26.816,42.114-22.4,66.72 c8.72,61.52,80,137.52,139.28,167.28c2.264,1.141,4.936,1.141,7.2,0c32.614-17.679,61.774-41.094,86.08-69.12 c8.407,5.913,17.2,11.258,26.32,16c2.264,1.141,4.936,1.141,7.2,0c58.88-29.68,130.56-105.92,139.2-167.44 C410.849,113.377,402.402,88.219,384.033,71.263z M144.033,342.463c-54.64-29.2-119.2-98-127.04-153.44 c-3.695-19.407,2.901-39.345,17.44-52.72c11.039-11.488,26.082-18.279,42-18.96c34.32,0,60.8,36.16,61.04,36.56 c1.493,2.098,3.905,3.348,6.48,3.36c2.575-0.012,4.987-1.262,6.48-3.36c0,0,26.64-36.56,61.36-36.56 c15.918,0.681,30.961,7.472,42,18.96c14.568,13.358,21.195,33.299,17.52,52.72C263.233,244.463,198.673,313.263,144.033,342.463z M390.592,135.743c-8,55.36-72,124.24-127.04,153.36c-6.79-3.656-13.385-7.661-19.76-12c22.32-27.92,38.88-58.32,42.8-85.84 c4.416-24.606-4.03-49.764-22.4-66.72c-13.848-14.163-32.606-22.468-52.4-23.2c-31.6,0-56,22.8-67.52,35.28 c-2.16-2.48-4.88-5.28-8-8c-1.23-17.09,5.431-33.802,18.08-45.36c12.132-12.852,29.314-19.701,46.96-18.72c32,3.2,56,36,56,36.32 c1.493,2.098,3.905,3.348,6.48,3.36c2.575-0.012,4.987-1.262,6.48-3.36c0,0,24-33.04,56-36.24 c17.676-1.016,34.896,5.837,47.04,18.72C387.686,96.685,394.21,116.468,390.592,135.743z"}})])])]}}],null,!1,245289053)},[t._v(" "),s("span",[t._v(t._s(t.match?"You have a match":"This user likes you"))])]):t._e()],1),t._v(" "),s("h4",{staticClass:"font-weight-thin mb-3"},[t._v(t._s("@"+t.user.username))]),t._v(" "),t._l(t.fields,function(e){return s("div",{key:e.icon,staticClass:"font-weight-light text-truncate"},[e.exist?s("p",{staticClass:"my-2"},[s("v-icon",{attrs:{small:""}},[t._v(t._s(e.icon))]),t._v(" "),s("span",{staticClass:"ml-2"},[t._v(t._s(e.text))])],1):t._e()])}),t._v(" "),s("v-rating",{staticClass:"rating mt-1",attrs:{readonly:"",dense:"",value:t.user.rating,"half-increments":""}})],2)],1)},staticRenderFns:[]};var It=s("VU/8")(Ct,At,!1,function(t){s("GJt6")},null,null).exports,Nt={props:{image:{type:String,default:""},border:{type:Number,default:25},borderRadius:{type:Number,default:0},width:{type:Number,default:200},height:{type:Number,default:200},color:{type:Array,default:function(){return[0,0,0,.5]}}},data:function(){return{cursor:"cursorPointer",scale:1,canvas:null,context:null,dragged:!1,imageLoaded:!1,changed:!1,state:{drag:!1,my:null,mx:null,xxx:"ab",image:{x:0,y:0,resource:null}}}},computed:{canvasWidth:function(){return this.getDimensions().canvas.width},canvasHeight:function(){return this.getDimensions().canvas.height}},mounted:function(){this.init()},methods:{clearCanvas:function(){this.context.clearRect(0,0,this.width,this.height)},init:function(){if(this.canvas=this.$refs.canvas,this.context=this.canvas.getContext("2d"),this.paint(),this.clearCanvas(),this.image)this.loadImage(this.image);else{var t=this.svgToImage(this.context,'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 65 65"><defs><style>.cls-1{fill:#999;}</style></defs><title>Upload_Upload</title><path class="cls-1" d="M32.5,1A31.5,31.5,0,1,1,1,32.5,31.54,31.54,0,0,1,32.5,1m0-1A32.5,32.5,0,1,0,65,32.5,32.5,32.5,0,0,0,32.5,0h0Z"/><polygon class="cls-1" points="41.91 28.2 32.59 18.65 23.09 28.39 24.17 29.44 31.87 21.54 31.87 40.05 33.37 40.05 33.37 21.59 40.83 29.25 41.91 28.2"/><polygon class="cls-1" points="40.66 40.35 40.66 44.35 24.34 44.35 24.34 40.35 22.34 40.35 22.34 44.35 22.34 46.35 24.34 46.35 40.66 46.35 42.66 46.35 42.66 44.35 42.66 40.35 40.66 40.35"/></svg>'),e=this;t.onload=function(){e.getDimensions();var s=e.canvasWidth/2-this.width/2,a=e.canvasHeight/2-this.height/2;e.context.drawImage(t,s,a,this.width,this.height)}}},svgToImage:function(t,e){var s=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),a=(self.URL||self.webkitURL||self).createObjectURL(s),n=new Image;return n.src=a,n},setState:function(t){var e=Math.ceil(1),s=Math.floor(1e4);this.state=t,this.state.cnt="HELLO"+Math.floor(Math.random()*(s-e))+e},paint:function(){this.context.save(),this.context.translate(0,0),this.context.fillStyle="rgba("+this.color.slice(0,4).join(",")+")";var t=this.borderRadius,e=this.getDimensions(),s=e.border,a=e.canvas.height,n=e.canvas.width;t=Math.max(t,0),t=Math.min(t,n/2-s,a/2-s),this.context.beginPath(),function(t,e,s,a,n,r){if(0===r)t.rect(e,s,a,n);else{var i=a-r,o=n-r;t.translate(e,s),t.arc(r,r,r,Math.PI,1.5*Math.PI),t.lineTo(i,0),t.arc(i,r,r,1.5*Math.PI,2*Math.PI),t.lineTo(a,o),t.arc(i,o,r,2*Math.PI,.5*Math.PI),t.lineTo(r,n),t.arc(r,o,r,.5*Math.PI,Math.PI),t.translate(-e,-s)}}(this.context,s,s,n-2*s,a-2*s,t),this.context.rect(n,0,-n,a),this.context.fill("evenodd"),this.context.restore()},getDimensions:function(){return{width:this.width,height:this.height,border:this.border,canvas:{width:this.width+2*this.border,height:this.height+2*this.border}}},onDrop:function(t){var e=this;if((t=t||window.event).stopPropagation(),t.preventDefault(),t.dataTransfer&&t.dataTransfer.files.length){var s=new FileReader,a=t.dataTransfer.files[0];this.changed=!0,s.onload=function(t){return e.loadImage(t.target.result)},s.readAsDataURL(a)}},onDragStart:function(t){(t=t||window.event).preventDefault(),this.state.drag=!0,this.state.mx=null,this.state.my=null,this.cursor="cursorGrabbing"},onDragEnd:function(t){this.state.drag&&(this.state.drag=!1,this.cursor="cursorPointer")},onMouseMove:function(t){if(t=t||window.event,!1!==this.state.drag){this.dragged=!0,this.changed=!0;var e=this.state.image,s=e.x,a=e.y,n=t.targetTouches?t.targetTouches[0].pageX:t.clientX,r=t.targetTouches?t.targetTouches[0].pageY:t.clientY,i={mx:n,my:r,image:e};if(this.state.mx&&this.state.my){var o=(this.state.mx-n)/this.scale,l=(this.state.my-r)/this.scale;e.y=this.getBoundedY(a-l,this.scale),e.x=this.getBoundedX(s-o,this.scale)}this.state.mx=i.mx,this.state.my=i.my,this.state.image=e}},loadImage:function(t){var e=new Image,s=this;e.onload=function(){s.handleImageReady(e)},this.isDataURL(t)||(e.crossOrigin="anonymous"),e.src=t},handleImageReady:function(t){var e=this.getInitialSize(t.width,t.height);e.resource=t,e.x=0,e.y=0;var s=this.state;s.drag=!1,s.image=e,this.state.image.x=0,this.state.image.y=0,this.state.image.resource=t,this.state.image.width=e.width,this.state.image.height=e.height,this.state.drag=!1,this.scale=1,this.$emit("vue-avatar-editor:image-ready",this.scale),this.imageLoaded=!0,this.cursor="cursorGrab"},getInitialSize:function(t,e){var s=void 0,a=void 0,n=this.getDimensions();return n.height/n.width>e/t?a=t*((s=this.getDimensions().height)/e):s=e*((a=this.getDimensions().width)/t),{height:s,width:a}},isDataURL:function(t){return null!==t&&!!t.match(/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+=[a-z\-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\-._~:@\/?%\s]*\s*$/i)},getBoundedX:function(t,e){var s=this.state.image,a=this.getDimensions(),n=Math.floor((s.width-a.width/e)/2);return n=Math.max(0,n),Math.max(-n,Math.min(t,n))},getBoundedY:function(t,e){var s=this.state.image,a=this.getDimensions(),n=Math.floor((s.height-a.height/e)/2);return n=Math.max(0,n),Math.max(-n,Math.min(t,n))},paintImage:function(t,e,s){if(e.resource){var a=this.calculatePosition(e,s);t.save(),t.globalCompositeOperation="destination-over",t.drawImage(e.resource,a.x,a.y,a.width,a.height),t.restore()}},calculatePosition:function(t,e){t=t||this.state.image;var s=this.getDimensions(),a=t.width*this.scale,n=t.height*this.scale,r=(a-s.width)/2,i=(n-s.height)/2;return{x:t.x*this.scale-r+e,y:t.y*this.scale-i+e,height:n,width:a}},changeScale:function(t){this.changed=!0,this.scale=t},redraw:function(){this.context.clearRect(0,0,this.getDimensions().canvas.width,this.getDimensions().canvas.height),this.paint(),this.paintImage(this.context,this.state.image,this.border)},getImage:function(){var t=this.getCroppingRect(),e=this.state.image;t.x*=e.resource.width,t.y*=e.resource.height,t.width*=e.resource.width,t.height*=e.resource.height;var s=document.createElement("canvas");return s.width=t.width,s.height=t.height,s.getContext("2d").drawImage(e.resource,-t.x,-t.y),s},getImageScaled:function(){var t=this.getDimensions(),e=t.width,s=t.height,a=document.createElement("canvas");return a.width=e,a.height=s,this.paintImage(a.getContext("2d"),this.state.image,0),this.image="",this.init(),a},imageChanged:function(){return this.changed},getCroppingRect:function(){var t=this.getDimensions(),e=t.border,s=t.border,a=t.width,n=t.height,r=this.calculatePosition(this.state.image,t.border);return{x:(e-r.x)/r.width,y:(s-r.y)/r.height,width:a/r.width,height:n/r.height}},clicked:function(t){1==this.dragged?this.dragged=!1:document.getElementById("profileInput").click()},fileSelected:function(t){var e=this,s=t.target.files||t.dataTransfer.files;if(s.length&&"image"==s[0].type.split("/")[0]){this.$emit("file_success");new Image;var a=new FileReader;this.changed=!0,a.onload=function(t){return e.loadImage(t.target.result)},a.readAsDataURL(s[0])}else this.$emit("file_error")}},watch:{state:{handler:function(t,e){1==this.imageLoaded&&this.redraw()},deep:!0},scale:function(){1==this.imageLoaded&&this.redraw()}}},Et={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"editor"},[s("canvas",{ref:"canvas",class:t.cursor,attrs:{id:"canvas__editor",width:t.canvasWidth,height:t.canvasHeight},on:{dragover:function(t){t.preventDefault()},drop:t.onDrop,mousedown:t.onDragStart,mouseup:t.onDragEnd,mousemove:t.onMouseMove,click:t.clicked}}),t._v(" "),s("input",{staticClass:"d-none",attrs:{type:"file",id:"profileInput",accept:"image/*"},on:{change:t.fileSelected}})])},staticRenderFns:[]};var St=s("VU/8")(Nt,Et,!1,function(t){s("vblm")},null,null).exports,Rt={data:function(){return{scale:1}},props:{min:{type:Number,default:1},max:{type:Number,default:2},width:{type:Number,default:200},step:{type:Number,default:.01}},methods:{setScale:function(t){this.scale=t},zoomOut:function(){this.scale-=.1},zoomIn:function(){this.scale+=.1},reset:function(){this.scale=this.min}},watch:{scale:function(){this.$emit("vue-avatar-editor-scale:change-scale",this.scale)}}},Dt={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-slider",{style:{width:t.width+"px"},attrs:{"append-icon":"zoom_in","prepend-icon":"zoom_out",min:t.min,max:t.max,step:t.step},on:{"click:append":t.zoomIn,"click:prepend":t.zoomOut},model:{value:t.scale,callback:function(e){t.scale=e},expression:"scale"}})},staticRenderFns:[]},Tt={name:"ProfileEditor",components:{Alert:F,VueAvatar:St,VueAvatarScale:s("VU/8")(Rt,Dt,!1,null,null,null).exports},data:function(){return{error:null,dialog:!1,alert:{state:!1,color:"",text:""}}},computed:Object(x.c)(["user"]),watch:{error:function(){1==this.error?this.$emit("file_error"):this.$emit("file_succes")}},methods:p()({},S,{closeEditor:function(){this.dialog=!1,this.$refs.vueavatar.init()},pickFile:function(){this.user.images.length<5?(this.$refs.vueavatar.clicked(),this.dialog=!0):this.showAlert("red","Max photos if five, you must delete one in order to add",this)},onChangeScale:function(t){this.$refs.vueavatar.changeScale(t)},saveClicked:function(){this.$emit("update-image",this.$refs.vueavatar.getImageScaled().toDataURL()),this.$refs.vueavatarscale.reset(),this.dialog=!1},onImageReady:function(t){this.$refs.vueavatarscale.setScale(t)}})},Mt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-dialog",{attrs:{"max-width":"450",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",{staticClass:"grey lighten-3 editor_dialog"},[s("v-layout",{staticClass:"pt-5",attrs:{column:"","align-center":"","justify-center":""}},[s("vue-avatar",{ref:"vueavatar",staticClass:"mb-3",attrs:{width:280,height:280,border:0},on:{"vue-avatar-editor:image-ready":t.onImageReady,file_error:function(e){t.error=!0},file_success:function(e){t.error=!1}}}),t._v(" "),s("vue-avatar-scale",{ref:"vueavatarscale",attrs:{width:250,min:1,max:3,step:.02},on:{"vue-avatar-editor-scale:change-scale":t.onChangeScale}})],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{flat:"",color:"primary"},on:{click:t.closeEditor}},[t._v("Cancel")]),t._v(" "),s("v-btn",{attrs:{flat:"",color:"primary",disabled:t.error},on:{click:t.saveClicked}},[t._v("Save")])],1)],1)],1),t._v(" "),s("alert",{attrs:{data:t.alert}})],1)},staticRenderFns:[]},Ot=s("VU/8")(Tt,Mt,!1,null,null,null).exports,Pt={name:"ProfileTabs",data:function(){return{alert:{state:!1,color:"",text:""}}},components:{Alert:F},props:{images:{type:Array,default:function(){return[]}}},computed:Object(x.c)(["user"]),methods:p()({},S,Object(x.b)(["delImg"]),{profileImage:function(t){return this.getFullPath(t)},deleteImg:function(t){var e=this;return y()(_.a.mark(function s(){var a,n,r;return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,a="https://matcha1337.herokuapp.com/api/users/image/del",n={"x-auth-token":e.user.token},r={id:t.id,profile:t.profile},s.next=6,e.$http.post(a,r,{headers:n});case 6:s.sent.body.ok?(e.delImg(t.id),e.showAlert("green","Photo has been removed",e)):e.showAlert("red","Oups.. something went wrong",e),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(0),console.log("Got error with --\x3e ",s.t0);case 13:case"end":return s.stop()}},s,e,[[0,10]])}))()}})},Lt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{"grid-list-sm":""}},[s("h1",{staticClass:"heading display-2 font-weight-thin py-3 mb-4"},[t._v("Gallery")]),t._v(" "),s("v-layout",{staticClass:"mt-4",attrs:{row:"",wrap:""}},t._l(t.images,function(e){return s("v-flex",{key:e.id,staticClass:"img_container",attrs:{xs4:"",grow:""}},[t.user.id==e.user_id?s("v-btn",{staticClass:"del_img",attrs:{color:"red",dark:"",small:"",icon:""},on:{click:function(s){return t.deleteImg(e)}}},[s("v-icon",[t._v("close")])],1):t._e(),t._v(" "),s("img",{staticClass:"image",attrs:{src:t.profileImage(e.name),width:"100%",height:"100%"}})],1)}),1),t._v(" "),s("alert",{attrs:{data:t.alert}})],1)},staticRenderFns:[]};var Ut=s("VU/8")(Pt,Lt,!1,function(t){s("ufpW")},null,null).exports,jt={name:"ProfileHistory",data:function(){return{limit:15}},computed:p()({},Object(x.c)({blocked:"blocked",hist:"history"}),{history:function(){var t=this;return this.hist.filter(function(e){return!t.blocked.includes(e.id)}).sort(function(e,s){return new Date(t.getDate(s))-new Date(t.getDate(e))}).slice(0,this.limit)},moreToLoad:function(){return this.limit<this.hist.length-1}}),methods:p()({},S,{increaseLimit:function(){this.limit+11<this.hist.length?this.limit+=10:this.limit=this.hist.length-1}})},Bt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("h1",{staticClass:"heading display-2 font-weight-thin py-3 mb-4"},[t._v("History")]),t._v(" "),s("v-timeline",{staticClass:"timeline_container",attrs:{"align-top":"",dense:""}},t._l(t.history,function(e,a){return s("v-timeline-item",{key:a,attrs:{color:"primary",small:""}},[s("v-layout",{staticClass:"history_item",attrs:{"py-3":""}},[s("v-flex",{staticClass:"hidden-xs-only",attrs:{xs3:""}},[s("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on;return[s("strong",t._g({staticClass:"mt-2 d-block"},n),[t._v(t._s(t.fromNow(t.getDate(e))))])]}}],null,!0)},[t._v(" "),s("span",[t._v(t._s(t.formatTime(e)))])])],1),t._v(" "),s("v-flex",{attrs:{"pt-0":""}},[s("v-chip",{staticClass:"bubble grey lighten-5 px-2 py-2",attrs:{disabled:""}},[s("router-link",{attrs:{to:"/user/"+e.id}},[s("v-avatar",[s("img",{attrs:{src:t.getFullPath(e.profile_image),alt:e.username}})])],1),t._v(" "),"follower"!==e.type&&"visitor"!==e.type?s("span",{staticClass:"mr-1"},[t._v(t._s(t.getHistoryAction(e.type)))]):t._e(),t._v(" "),s("span",[s("router-link",{staticClass:"timeline_link",attrs:{to:"/user/"+e.id}},[t._v(t._s(e.username))])],1),t._v(" "),"follower"===e.type||"visitor"===e.type?s("span",{staticClass:"ml-1"},[t._v(t._s(t.getHistoryAction(e.type)))]):t._e(),t._v(" "),"visited"===e.type?s("span",[t._v("'s profile")]):t._e()],1)],1)],1)],1)}),1),t._v(" "),s("v-flex",{attrs:{xs6:"","offset-xs3":""}},[t.moreToLoad?s("v-btn",{staticClass:"my-4",attrs:{large:"",color:"primary",flat:"",round:""},on:{click:t.increaseLimit}},[t._v("Load More")]):t._e()],1)],1)},staticRenderFns:[]};var $t=s("VU/8")(jt,Bt,!1,function(t){s("BU1e")},null,null).exports,Ft=s("pFYg"),Gt=s.n(Ft),zt={props:{latitude:{type:Number,default:55.01657628017477},longitude:{type:Number,default:-7.309233337402361}},data:function(){return{lat:this.latitude,lng:this.longitude}},mounted:function(){var t=new google.maps.LatLng(this.lat,this.lng),e={zoom:12,center:t},s=new google.maps.Map(this.$el,e),a=new google.maps.Marker({position:t,map:s});a.setMap(s);var n=this;google.maps.event.addListener(s,"center_changed",function(){var t={lat:s.getCenter().lat(),lng:s.getCenter().lng()};a.setPosition(t),n.$emit("locationUpdated",t)})}},Ht={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"map-container"})},staticRenderFns:[]},Vt={name:"ProfileSettings",components:{Alert:F,mapLocationSelector:s("VU/8")(zt,Ht,!1,null,null,null).exports},data:function(){return{f:!1,flag:!1,valid:!1,reRender:!0,showPass:!1,locDialog:!1,passDialog:!1,showNewPass:!1,blacklistOn:!1,emailDialog:!1,blacklistPanel:null,showConfNewPass:!1,password:"",newPassword:"",confNewPassword:"",email:"",loc:{lat:null,lng:null},alert:{state:!1,color:"",text:""},passRules:[function(t){return!!t||"This field is required"},function(t){return/^(?=.*\d)(?=.*[A-Za-z])[0-9A-Za-z!@#$%]+$/.test(t)||"Password must contain at least one letter, one number and one special char"},function(t){return t.length>=8||"Password must be at least 8 characters long"}],emailRules:[function(t){return!!t||"This field is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],colors:["#03A9F4","#43A047","#E64A19","#D81B60","#263238"]}},computed:p()({},Object(x.c)(["user","blocked","location","blockedBy","blacklist"]),{latitude:function(){return Number(this.location.lat)},longitude:function(){return Number(this.location.lng)},closePanel:function(){return!this.blacklist.length&&(this.blacklistPanel=null,!0)},isGoogleUser:function(){return null!=this.user.google_id}}),watch:{location:{immediate:!0,handler:function(){this.loc.lat=Number(this.location.lat),this.loc.lng=Number(this.location.lng)}}},methods:p()({},S,Object(x.b)(["syncBlacklist","updateUserEmail"]),{googleLoaded:function(){return"object"===("undefined"==typeof google?"undefined":Gt()(google))&&"object"===Gt()(google.maps)},openLoc:function(){this.locDialog=!0,this.flag=this.googleLoaded()},saveEmail:function(){var t=this;return y()(_.a.mark(function e(){var s,a,n,r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s="https://matcha1337.herokuapp.com/api/users/email",a={"x-auth-token":t.user.token},n={email:t.email,password:t.password},e.next=6,t.$http.post(s,n,{headers:a});case 6:r=e.sent,t.password="",t.valid=!1,r.body.ok?(t.showAlert("green","Your email has been updated",t),t.emailDialog=!1,t.updateUserEmail(t.email),t.email="",t.reRenderComp()):t.showAlert("red",r.body.msg,t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("Got error with -> ",e.t0);case 15:case"end":return e.stop()}},e,t,[[0,12]])}))()},savePass:function(){var t=this;return y()(_.a.mark(function e(){var s,a,n,r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s="https://matcha1337.herokuapp.com/api/users/password",a={"x-auth-token":t.user.token},n={password:t.password,newPassword:t.newPassword,confNewPassword:t.confNewPassword},e.next=6,t.$http.post(s,n,{headers:a});case 6:r=e.sent,t.password="",t.newPassword="",t.confNewPassword="",t.valid=!1,t.reRenderComp(),r.body.ok?(t.showAlert("green","Your password has been updated",t),t.passDialog=!1):t.showAlert("red",r.body.msg,t),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log("Got error with -> ",e.t0);case 18:case"end":return e.stop()}},e,t,[[0,15]])}))()},closeEmail:function(){this.emailDialog=!1,this.password="",this.email="",this.reRenderComp()},closePass:function(){this.passDialog=!1,this.password="",this.newPassword="",this.confNewPassword="",this.reRenderComp()},reRenderComp:function(){var t=this;this.reRender=!1,this.$nextTick(function(){return t.reRender=!0})},passwordMatch:function(){return this.passMatch(this.confNewPassword,this.newPassword)},locationUpdated:function(t){this.loc=t},changeLoc:function(){var t=this;return y()(_.a.mark(function e(){var s,a,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.locDialog=!1,s="https://matcha1337.herokuapp.com/api/action/position",a={"x-auth-token":t.user.token},e.next=5,t.$http.post(s,t.loc,{headers:a});case 5:(n=e.sent).body.ok?(t.$store.commit("locate",t.loc),t.showAlert("green","Your location has been updated",t)):t.showAlert("red",n.body.msg,t);case 7:case"end":return e.stop()}},e,t)}))()},unBlock:function(t){var e=this;return y()(_.a.mark(function s(){var a,n,r,i,o,l;return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=t.id,n=t.username,r="https://matcha1337.herokuapp.com/api/action/unblock",i={"x-auth-token":e.user.token},s.next=5,e.$http.post(r,{id:a},{headers:i});case 5:(o=s.sent).body.ok?(l={blocked:e.blocked.filter(function(t){return t!=a})||[],blockedBy:e.blockedBy},e.$store.commit("syncBlocked",l),e.syncBlacklist(l.blocked),e.showAlert("green",n+" has been ublocked",e)):e.showAlert("red",o.body.msg,e);case 7:case"end":return s.stop()}},s,e)}))()},changeTheme:function(t){var e=document.documentElement;this.$vuetify.theme.primary=t,e.style.setProperty("--color-primary",t)}})},Yt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("h1",{staticClass:"heading display-2 font-weight-thin py-3 mb-4"},[t._v("Parameters")]),t._v(" "),s("v-layout",{attrs:{"justify-center":""}},[s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return t._l(t.colors,function(e,n){return s("div",t._g({key:n,staticClass:"color_picker",style:"background:"+e+";",on:{click:function(s){return t.changeTheme(e)}}},a))})}}])},[t._v(" "),s("span",[t._v("Use theme")])])],1),t._v(" "),s("v-layout",{staticClass:"my-4",attrs:{wrap:"","justify-center":"","align-start":""}},[t.isGoogleUser?t._e():s("v-flex",{staticClass:"px-3 my-3",attrs:{xs12:"",sm6:""}},[s("v-layout",{staticClass:"px-3",attrs:{"align-center":""}},[s("v-text-field",{attrs:{disabled:"",label:"Email",color:"primary"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),t._v(" "),s("v-icon",{staticClass:"ml-3",attrs:{color:"primary"},on:{click:function(e){t.emailDialog=!0}}},[t._v("edit")])],1)],1),t._v(" "),t.isGoogleUser?t._e():s("v-flex",{staticClass:"px-3 my-3",attrs:{xs12:"",sm6:""}},[s("v-layout",{staticClass:"px-3",attrs:{"align-center":""}},[s("v-text-field",{attrs:{disabled:"",color:"primary",value:"**********",label:"Password",type:"password"}}),t._v(" "),s("v-icon",{staticClass:"ml-3",attrs:{color:"primary"},on:{click:function(e){t.passDialog=!0}}},[t._v("edit")])],1)],1),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("v-btn",{attrs:{outline:"",block:"",large:"",color:"primary"},on:{click:t.openLoc}},[s("span",[t._v("Change location")]),t._v(" "),s("v-icon",{attrs:{right:""}},[t._v("location_on")])],1)],1)],1),t._v(" "),s("v-expansion-panel",{staticClass:"blacklist",attrs:{disabled:t.closePanel},model:{value:t.blacklistPanel,callback:function(e){t.blacklistPanel=e},expression:"blacklistPanel"}},[s("v-expansion-panel-content",{attrs:{ripple:{class:"primary--text"},"expand-icon":"keyboard_arrow_down"},scopedSlots:t._u([{key:"header",fn:function(){return[s("div",{staticClass:"subheading expansion_list"},[t._v("Blacklist")])]},proxy:!0}])},[t._v(" "),s("v-list",{staticClass:"blacklist_list"},t._l(t.blacklist,function(e){return s("v-list-tile",{key:e.id,staticClass:"blacklist_item mx-2"},[s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(e.username))])],1),t._v(" "),s("v-list-tile-action",[s("v-icon",{on:{click:function(s){return t.unBlock(e)}}},[t._v("close")])],1)],1)}),1)],1)],1),t._v(" "),!t.isGoogleUser&&t.reRender?s("v-dialog",{attrs:{"max-width":"500",persistent:""},model:{value:t.emailDialog,callback:function(e){t.emailDialog=e},expression:"emailDialog"}},[s("v-card",{staticClass:"grey lighten-3"},[s("v-container",[s("h5",{staticClass:"display-1 display-2 text-xs-center text-md-left font-weight-thin pt-3 pb-3 mb-4 hidden-sm-and-down"},[t._v("Change email")]),t._v(" "),s("v-form",{staticClass:"my-4",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-text-field",{attrs:{color:"primary","validate-on-blur":"",rules:t.passRules,label:"Current password",required:"","append-icon":t.showPass?"visibility":"visibility_off",type:t.showPass?"text":"password"},on:{"click:append":function(e){t.showPass=!t.showPass}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),s("v-text-field",{staticClass:"my-3",attrs:{color:"primary","validate-on-blur":"",rules:t.emailRules,label:"Email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{flat:"",color:"primary",disabled:!t.valid},on:{click:t.saveEmail}},[t._v("Save")]),t._v(" "),s("v-btn",{attrs:{flat:"",color:"primary"},on:{click:t.closeEmail}},[t._v("Cancel")])],1)],1)],1)],1):t._e(),t._v(" "),!t.isGoogleUser&&t.reRender?s("v-dialog",{attrs:{"max-width":"500",persistent:""},model:{value:t.passDialog,callback:function(e){t.passDialog=e},expression:"passDialog"}},[s("v-card",{staticClass:"grey lighten-3"},[s("v-container",[s("h5",{staticClass:"display-1 display-2 text-xs-center text-md-left font-weight-thin pt-3 pb-3 mb-4 hidden-sm-and-down"},[t._v("Change password")]),t._v(" "),s("v-form",{staticClass:"my-4",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-text-field",{staticClass:"mb-4",attrs:{color:"primary","validate-on-blur":"",rules:t.passRules,label:"Current password",required:"","append-icon":t.showPass?"visibility":"visibility_off",type:t.showPass?"text":"password"},on:{"click:append":function(e){t.showPass=!t.showPass}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),s("v-text-field",{staticClass:"mb-4",attrs:{color:"primary","validate-on-blur":"",rules:t.passRules,label:"New password",required:"","append-icon":t.showNewPass?"visibility":"visibility_off",type:t.showNewPass?"text":"password"},on:{"click:append":function(e){t.showNewPass=!t.showNewPass}},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}}),t._v(" "),s("v-text-field",{staticClass:"mb-4",attrs:{color:"primary","validate-on-blur":"",label:"Confirm new password",required:"","append-icon":t.showConfNewPass?"visibility":"visibility_off",type:t.showConfNewPass?"text":"password","error-messages":t.passwordMatch()},on:{"click:append":function(e){t.showConfNewPass=!t.showConfNewPass}},model:{value:t.confNewPassword,callback:function(e){t.confNewPassword=e},expression:"confNewPassword"}})],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{flat:"",color:"primary",disabled:!t.valid},on:{click:t.savePass}},[t._v("Save")]),t._v(" "),s("v-btn",{attrs:{flat:"",color:"primary"},on:{click:t.closePass}},[t._v("Cancel")])],1)],1)],1)],1):t._e(),t._v(" "),t.flag?s("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.locDialog,callback:function(e){t.locDialog=e},expression:"locDialog"}},[s("v-card",[s("v-toolbar",{staticClass:"map_toolbar",attrs:{dark:"",color:"primary"}},[s("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.locDialog=!1}}},[s("v-icon",[t._v("close")])],1),t._v(" "),s("v-toolbar-title",[t._v("Location")]),t._v(" "),s("v-spacer"),t._v(" "),s("v-toolbar-items",[s("v-btn",{attrs:{dark:"",flat:""},on:{click:t.changeLoc}},[t._v("Save")])],1)],1),t._v(" "),s("map-location-selector",{attrs:{latitude:t.latitude,longitude:t.longitude},on:{locationUpdated:t.locationUpdated}})],1)],1):t._e(),t._v(" "),s("alert",{attrs:{data:t.alert}})],1)},staticRenderFns:[]};var Kt=s("VU/8")(Vt,Yt,!1,function(t){s("CzHV")},null,null).exports,qt={name:"Settings",components:{Alert:F,loader:W,ProfileTabs:wt,ProfileForm:yt,ProfileBadge:It,ProfileHistory:$t,ProfileEditor:Ot,ProfileGallery:Ut,ProfileSettings:Kt},data:function(){return{error:null,loaded:!1,activeTab:"tab-profile",alert:{state:!1,color:"",text:""}}},created:function(){this.user.id&&(this.syncHistory(this.loggedIn.id),this.syncMatches(this.loggedIn.id))},computed:p()({},Object(x.c)({loggedIn:"user",status:"status",coverPhoto:"coverPhoto",profileImage:"profileImage"}),{user:{get:function(){return p()({},this.loggedIn)},set:function(t){}},filteredImages:function(){return this.user.images?this.user.images.filter(function(t){return!t.cover}):[]}}),watch:{loggedIn:{immediate:!0,handler:function(){var t=this;return y()(_.a.mark(function e(){var s,a,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s=t.user.token||localStorage.getItem("token"))){e.next=16;break}return e.prev=2,a="https://matcha1337.herokuapp.com/auth/isloggedin",n={"x-auth-token":s},e.next=7,t.$http.get(a,{headers:n});case 7:if(e.sent.body.msg){e.next=11;break}return t.loaded=!0,e.abrupt("return");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log("Got error here --\x3e ",e.t0);case 16:t.logout(t.user.id),t.$router.push("/login");case 18:case"end":return e.stop()}},e,t,[[2,13]])}))()}}},methods:p()({},S,Object(x.b)({logout:"logout",update:"updateUser",syncMatches:"syncMatches",syncHistory:"syncHistory"}),{updateUser:function(){var t=this;return y()(_.a.mark(function e(){var s,a,n,r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=void 0,a="https://matcha1337.herokuapp.com/api/users/update",n={"x-auth-token":t.user.token},e.next=6,t.$http.post(a,t.user,{headers:n});case 6:(r=e.sent)&&r.body&&!r.body.msg?(s="Your account has been updated successfuly",t.showAlert("green",s,t),t.update(t.user),t.$refs.form.toggleEdit()):(s=r.body.msg?r.body.msg:"Ouups something went wrong!",t.showAlert("red",s,t)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("got error here --\x3e ",e.t0);case 13:case"end":return e.stop()}},e,t,[[0,10]])}))()},updateImage:function(t){var e=this;return y()(_.a.mark(function s(){var a,n,r,i,o;return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(e.error){s.next=16;break}return s.prev=1,a=void 0,(n=new FormData).append("image",t),r="https://matcha1337.herokuapp.com/api/users/image",i={"x-auth-token":e.user.token},s.next=9,e.$http.post(r,n,{headers:i});case 9:(o=s.sent)&&o.body&&!o.body.msg?(a="You profile image has been updated successfuly",e.showAlert("success",a,e),e.$store.commit("updateProfileImage",o.body)):(a="Ouups something went wrong!",e.showAlert("red",a,e)),s.next=16;break;case 13:s.prev=13,s.t0=s.catch(1),console.log("got error here --\x3e ",s.t0);case 16:case"end":return s.stop()}},s,e,[[1,13]])}))()},syncUser:function(t){this.user=t},changeTab:function(t){this.activeTab=t},openEditor:function(){this.$refs.profile_editor.pickFile()},pickFile:function(){this.$refs.image.click()},onFilePicked:function(t){var e=this;return y()(_.a.mark(function s(){var a,n,r,i,o,l,c;return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!(a=t.target.files)[0]){s.next=25;break}if(n=a[0],!(n.name.lastIndexOf(".")<=0)){s.next=6;break}return s.abrupt("return");case 6:if(!(n.size>1048576)){s.next=10;break}e.showAlert("red","Image is too large..",e),s.next=25;break;case 10:return s.prev=10,r=void 0,(i=new FormData).append("image",n),o="https://matcha1337.herokuapp.com/api/users/image/cover",l={"x-auth-token":e.user.token},s.next=18,e.$http.post(o,i,{headers:l});case 18:(c=s.sent)&&c.body&&!c.body.msg?(r="You cover image has been updated successfuly",e.showAlert("success",r,e),e.$store.commit("updateCoverImage",c.body)):(r=c.body.msg?c.body.msg:"Ouups something went wrong!",e.showAlert("red",r,e)),s.next=25;break;case 22:s.prev=22,s.t0=s.catch(10),console.log("Got error here --\x3e ",s.t0);case 25:case"end":return s.stop()}},s,e,[[10,22]])}))()}})},Zt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loaded?s("v-layout",{staticClass:"settings",attrs:{column:""}},[s("div",{staticClass:"parallax",style:"background-image: url("+t.coverPhoto+");"}),t._v(" "),s("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("div",{staticClass:"cover__btn"},[s("v-fab-transition",[s("v-btn",t._g({attrs:{fab:"",small:"",outline:"",color:"grey"},on:{click:function(e){return e.stopPropagation(),t.pickFile(e)}}},a),[s("v-icon",[t._v("add_a_photo")])],1)],1)],1)]}}],null,!1,2673144671)},[t._v(" "),s("span",[t._v("Change cover photo")])]),t._v(" "),s("input",{ref:"image",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFilePicked}}),t._v(" "),s("v-layout",{staticClass:"py-0 strap grey lighten-3"},[s("v-container",{attrs:{"py-0":""}},[s("v-layout",[s("v-flex",{staticClass:"avatar",attrs:{xs12:"",sm8:"",md4:""}},[s("v-avatar",{staticClass:"mx-auto d-block",attrs:{slot:"offset",size:"200"},slot:"offset"},[s("img",{staticClass:"avatar__img",attrs:{src:t.profileImage}}),t._v(" "),s("div",{staticClass:"avatar__btn"},[s("v-fab-transition",[s("v-btn",{attrs:{color:"grey lighten-5",fab:"",small:""},on:{click:function(e){return e.stopPropagation(),t.openEditor(e)}}},[s("v-icon",[t._v("add_a_photo")])],1)],1)],1)])],1),t._v(" "),s("profile-tabs",{attrs:{settings:"",active:t.activeTab},on:{"change-tab":t.changeTab}})],1)],1)],1),t._v(" "),s("v-container",{staticClass:"profile",attrs:{"fill-height":"","grid-list-xl":""}},[s("v-layout",{attrs:{"justify-center":"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[s("profile-badge",{attrs:{user:t.user,settings:""}})],1),t._v(" "),s("v-flex",{staticClass:"main pa-0 grey--text",attrs:{xs12:"",sm10:"",md8:""}},[s("profile-tabs",{attrs:{settings:"",active:t.activeTab,mobile:""},on:{"change-tab":t.changeTab}}),t._v(" "),s("v-tabs-items",{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[s("v-tab-item",{attrs:{value:"tab-profile"}},[s("profile-form",{ref:"form",attrs:{user:t.user},on:{"sync-user":t.syncUser,"update-user":t.updateUser}})],1),t._v(" "),s("v-tab-item",{attrs:{value:"tab-photo"}},[s("profile-gallery",{attrs:{images:t.filteredImages}})],1),t._v(" "),s("v-tab-item",{attrs:{value:"tab-history"}},[s("profile-history")],1),t._v(" "),s("v-tab-item",{attrs:{value:"tab-setting"}},[s("profile-settings")],1)],1)],1)],1)],1),t._v(" "),s("alert",{attrs:{data:t.alert}}),t._v(" "),s("profile-editor",{ref:"profile_editor",on:{file_error:function(e){t.error=!0},file_succes:function(e){t.error=!1},"update-image":t.updateImage}})],1):s("loader")},staticRenderFns:[]},Wt=s("VU/8")(qt,Zt,!1,null,null,null).exports,Jt={name:"Discover",components:{UserCard:Q,loader:W},data:function(){var t=this;return{max:0,step:0,sortDir:1,sort:null,users:[],interests:[],gender:null,location:null,hasBoth:!1,loaded:!1,age:[18,85],rating:[0,5],distance:[0,0],tags:["sports","cinema","music"],sortTypes:["age","distance","rating","interests"],nats:et.a,filters:{self:function(e){return e.user_id!=t.user.id},blocked:function(e){return!t.blocked.includes(e.user_id)},blockedBy:function(e){return!t.blockedBy.includes(e.user_id)},rating:function(e){return e.rating>=t.rating[0]&&e.rating<=t.rating[1]},gender:function(e){return!t.gender||e.gender===t.gender},location:function(e){return!t.location||[e.country,e.address,e.city].some(function(e){return e.has(t.location)})},distance:function(e){if(t.distance[0]==t.distance[1])return!0;if(e.lat&&e.lng){var s=e.lat,a=e.lng,n=t.calculateDistance(t.userLocation,{lat:s,lng:a});return n>=t.distance[0]&&n<=t.distance[1]}},age:function(e){var s=new Date(e.birthdate).getFullYear(),a=(new Date).getFullYear();return s>=a-t.age[1]&&s<=a-t.age[0]},interest:function(e){if(!t.interests.length)return!0;var s=!0,a=!1,n=void 0;try{for(var r,i=q()(t.interests);!(s=(r=i.next()).done);s=!0){var o=r.value;if(e.tags.split(",").includes(o))return!0}}catch(t){a=!0,n=t}finally{try{!s&&i.return&&i.return()}finally{if(a)throw n}}return!1}}}},computed:p()({},Object(x.c)({user:"user",allTags:"tags",status:"status",online:"online",blocked:"blocked",userLocation:"location",blockedBy:"blockedBy"}),{filtered:function(){return this.users.filter(this.filters.self).filter(this.filters.blocked).filter(this.filters.blockedBy).filter(this.filters.rating).filter(this.filters.gender).filter(this.filters.location).filter(this.filters.age).filter(this.filters.distance).filter(this.filters.interest)},sorted:function(){var t=this;if(!this.sort||"distance"==this.sort)return this.sortDir<0?[].concat(Y()(this.filtered)).reverse():this.filtered;var e=void 0,s=function(t){return new Date-new Date(t)},a=function(e){if(!e||!e.length)return 0;var s=e.split(",");return t.user.tags.split(",").filter(function(t){return-1!==s.indexOf(t)}).length};switch(this.sort){case"age":e=function(e,a){return t.sortDir*(s(e.birthdate)-s(a.birthdate))};break;case"rating":e=function(e,s){return t.sortDir*(s.rating-e.rating)};break;case"interests":e=function(e,s){return t.sortDir*(a(s.tags)-a(e.tags))}}return[].concat(Y()(this.filtered)).sort(e)},maxDis:function(){if(null===this.sort&&1===this.sortDir&&this.users.length){var t=this.users[this.users.length-1],e=t.lat,s=t.lng,a={lat:Number(e),lng:Number(s)};return Math.ceil(this.calculateDistance(this.userLocation,a))}}}),created:function(){var t=this;return y()(_.a.mark(function e(){var s,a,n,r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=localStorage.getItem("token"),a="https://matcha1337.herokuapp.com/api/users/show",n={"x-auth-token":s},e.next=5,t.$http.post(a,{filter:!0},{headers:n});case 5:(r=e.sent).body.msg?(t.logout(t.user.id),t.$router.push("/login")):(t.users=r.body.slice(0,100).map(function(t){return p()({},t,{rating:Number(t.rating)})}),t.whoIsUp(),t.loaded=!0);case 7:case"end":return e.stop()}},e,t)}))()},watch:{user:{immediate:!0,handler:function(){this.user.looking&&"both"==this.user.looking&&(this.hasBoth=!0)}},online:{immediate:!0,handler:function(){this.whoIsUp()}},age:function(){if(this.age[0]>this.age[1]){var t=this.age[0];this.age[0]=this.age[1],this.age[1]=t}},rating:function(){if(this.rating[0]>this.rating[1]){var t=this.rating[0];this.rating[0]=this.rating[1],this.rating[1]=t}},distance:function(){if(this.distance[0]>this.distance[1]){var t=this.distance[0];this.distance[0]=this.distance[1],this.distance[1]=t}},maxDis:{immediate:!0,handler:function(){var t=this.maxDis;t&&(this.distance[1]=t,this.max=t,this.step=Math.ceil(t/30))}}},methods:p()({},S,Object(x.b)(["logout"]),{reset:function(){this.sortDir=1,this.sort=null,this.gender=null,this.age=[18,85],this.rating=[0,5],this.distance=[0,this.maxDis],this.location=null},changeSort:function(){this.sortDir=-this.sortDir},whoIsUp:function(){var t=this;this.users.forEach(function(e,s){t.users[s].lastSeen=t.users[s].status,t.users[s].status=t.online.includes(e.user_id)})},isComplet:function(){return this.user.gender&&this.user.gender.length&&this.user.looking&&this.user.biography&&this.user.tags&&this.user.images.length&&this.user.city&&this.user.country&&this.user.postal_code}})},Xt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isComplet()?s("div",{staticClass:"discover"},[t.loaded?s("v-container",{staticClass:"pt-5 px-0"},[s("v-layout",{attrs:{wrap:"","justify-center":""}},[s("v-flex",{attrs:{xl2:"",md3:"",sm10:""}},[s("v-container",{attrs:{"px-md-5":""}},[s("v-layout",{attrs:{column:""}},[s("h4",{staticClass:"title font-weight-thin mb-4"},[t._v("Show me")]),t._v(" "),s("v-btn-toggle",{staticClass:"mb-5",model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}},[s("v-btn",{staticClass:"toggle_btn",attrs:{flat:"",outline:"",color:"primary",value:"male",disabled:!t.hasBoth}},[s("svg",{style:"fill: "+(t.hasBoth?"var(--color-primary)":"#666"),attrs:{id:"male",viewBox:"0 0 512 512",width:"17",height:"20"}},[s("path",{attrs:{d:"M376.264,290.173c66.314-66.293,66.314-174.16,0-240.453c-66.314-66.294-174.214-66.294-240.529,0 c-66.314,66.293-66.314,174.16,0,240.453c28.07,28.061,63.591,44.24,100.254,48.546v56.923h-40.018 c-11.051,0-20.009,8.956-20.009,20.003s8.958,20.003,20.009,20.003h40.018v56.348c0.001,11.047,8.959,20.003,20.011,20.003 c11.051,0,20.009-8.956,20.009-20.003v-56.348h40.019c11.051,0,20.009-8.956,20.009-20.003s-8.958-20.003-20.009-20.003h-40.019 V338.72C312.673,334.413,348.194,318.234,376.264,290.173z M164.033,261.884c-50.711-50.695-50.711-133.181,0-183.876 c50.71-50.693,133.221-50.696,183.934,0c50.711,50.695,50.711,133.181,0,183.876C297.256,312.578,214.744,312.578,164.033,261.884 z"}})]),t._v(" "),s("span",{staticClass:"px-1"},[t._v("Men")])]),t._v(" "),s("v-btn",{staticClass:"toggle_btn",attrs:{flat:"",outline:"",color:"primary",value:"female",disabled:!t.hasBoth}},[s("svg",{style:"fill: "+(t.hasBoth?"var(--color-primary)":"#666"),attrs:{id:"female",height:"17",viewBox:"0 0 384 384",width:"20"}},[s("path",{attrs:{d:"m383.792969 13.9375c-.175781-1.378906-.480469-2.707031-.984375-3.953125-.015625-.03125-.015625-.074219-.023438-.113281 0-.007813-.007812-.015625-.015625-.023438-.554687-1.3125-1.3125-2.503906-2.167969-3.609375-.210937-.261719-.417968-.519531-.640624-.765625-.914063-1.03125-1.90625-1.984375-3.058594-2.761718-.03125-.023438-.070313-.03125-.101563-.054688-1.113281-.734375-2.34375-1.289062-3.632812-1.726562-.320313-.113282-.632813-.210938-.960938-.296876-1.351562-.367187-2.742187-.632812-4.207031-.632812h-112c-8.832031 0-16 7.167969-16 16s7.167969 16 16 16h73.367188l-95.496094 95.496094c-25.464844-20.367188-56.816406-31.496094-89.871094-31.496094-79.398438 0-144 64.601562-144 144s64.601562 144 144 144 144-64.601562 144-144c0-33.039062-11.121094-64.382812-31.503906-89.871094l95.503906-95.503906v73.375c0 8.832031 7.167969 16 16 16s16-7.167969 16-16v-112c0-.335938-.078125-.65625-.097656-.984375-.023438-.367187-.0625-.71875-.109375-1.078125zm-239.792969 338.0625c-61.761719 0-112-50.238281-112-112s50.238281-112 112-112c29.902344 0 58.054688 11.640625 79.222656 32.734375 21.136719 21.210937 32.777344 49.363281 32.777344 79.265625 0 61.761719-50.238281 112-112 112zm0 0"}})]),t._v(" "),s("span",{staticClass:"px-1"},[t._v("Women")])])],1),t._v(" "),s("h4",{staticClass:"title font-weight-thin mb-3"},[t._v("Distance")]),t._v(" "),s("v-range-slider",{staticClass:"mx-3 mb-5 pt-3",attrs:{"hide-details":"",max:t.max,min:"0",step:t.step,"thumb-label":"always","thumb-size":"30"},model:{value:t.distance,callback:function(e){t.distance=e},expression:"distance"}}),t._v(" "),s("h4",{staticClass:"title font-weight-thin mb-3"},[t._v("Age")]),t._v(" "),s("v-range-slider",{staticClass:"mx-3 mb-5 pt-3",attrs:{"hide-details":"",max:"85",min:"18",step:"1","thumb-label":"always","thumb-size":"25"},model:{value:t.age,callback:function(e){t.age=e},expression:"age"}}),t._v(" "),s("h4",{staticClass:"title font-weight-thin mb-3"},[t._v("Fame")]),t._v(" "),s("v-range-slider",{staticClass:"mx-3 mb-5 pt-3",attrs:{"hide-details":"",max:"5",min:"0",step:".5","thumb-label":"always","thumb-size":"25"},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}}),t._v(" "),s("h4",{staticClass:"title font-weight-thin mb-4"},[t._v("Near")]),t._v(" "),s("v-text-field",{staticClass:"loaction_input mb-5",attrs:{color:"primary","hide-details":"",outline:"",solo:"",flat:"","append-icon":"place"},model:{value:t.location,callback:function(e){t.location=e},expression:"location"}}),t._v(" "),s("h4",{staticClass:"title font-weight-thin mb-4"},[t._v("Interests")]),t._v(" "),s("v-autocomplete",{staticClass:"tags_menu mb-5",attrs:{items:t.allTags,solo:"",flat:"",outline:"",multiple:"","deletable-chips":"","hide-details":"",chips:""},model:{value:t.interests,callback:function(e){t.interests=e},expression:"interests"}}),t._v(" "),s("v-layout",{staticClass:"mb-4",attrs:{"align-center":"","justify-between":""}},[s("h4",{staticClass:"title font-weight-thin"},[t._v("Sort by")]),t._v(" "),s("v-btn",{staticClass:"sort_btn",attrs:{flat:"",icon:"",color:"primary"},on:{click:t.changeSort}},[s("v-icon",{class:"sort_icon "+(t.sortDir<0?"flip":"")},[t._v("sort")])],1)],1),t._v(" "),s("v-select",{staticClass:"sort_select mb-5",attrs:{outline:"",solo:"",items:t.sortTypes},model:{value:t.sort,callback:function(e){t.sort=e},expression:"sort"}}),t._v(" "),s("h4",{staticClass:"title font-weight-thin mb-4"},[t._v("Reset all")]),t._v(" "),s("v-btn",{staticClass:"clear_btn",attrs:{outline:"",block:"",large:"",color:"primary"},on:{click:t.reset}},[s("v-icon",[t._v("refresh")])],1)],1)],1)],1),t._v(" "),s("v-flex",{attrs:{xl10:"",md9:"",sm12:""}},[s("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},t._l(t.sorted,function(t){return s("v-flex",{key:t.user_id,staticClass:"user",attrs:{xl2:"",lg3:"",sm3:"","ma-3":"",grow:""}},[s("user-card",{attrs:{user:t}})],1)}),1)],1)],1)],1):s("loader")],1):s("v-container",{staticClass:"my-3"},[s("v-layout",{attrs:{wrap:"","justify-center":""}},[s("h2",{staticClass:"display-2 text-xs-center font-weight-thin pt-4 pb-3 mb-4 grey--text mx-auto"},[t._v("\n\t\t\tComplete your profile to the opportunity to discover users that matchs you !\n\t\t")]),t._v(" "),s("v-flex",{attrs:{xs6:"",md4:""}},[s("v-btn",{attrs:{block:"",outline:"",large:"",router:"",to:"/settings",color:"primary"}},[s("v-icon",{attrs:{left:""}},[t._v("chevron_left")]),t._v(" "),s("span",[t._v("Go to setting")])],1)],1)],1)],1)},staticRenderFns:[]};var Qt=s("VU/8")(Jt,Xt,!1,function(t){s("cMfv")},null,null).exports,te={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-layout",{staticClass:"wrap",attrs:{"align-center":"","justify-center":"",row:""}},[e("h1",{staticClass:"display-4 font-weight-thin text-xs-center"},[this._v("(404) Page NotFound")])])},staticRenderFns:[]};var ee=s("VU/8")(null,te,!1,function(t){s("tVMm")},"data-v-ab2a3c60",null).exports,se={name:"MessengerList",data:function(){return{}},computed:p()({},Object(x.c)(["online","notif","convos","typingSec"])),watch:{online:{immediate:!0,handler:function(){this.syncOnline()}},convos:{immediate:!0,handler:function(){this.syncOnline()}}},methods:p()({},S,Object(x.b)(["syncConvo"]),{unRead:function(t){if(this.notif.length){var e=0;return this.notif.forEach(function(s){"chat"==s.type&&s.id_conversation==t.id_conversation&&e++}),e}},notTyping:function(t){return!this.typingSec.status||!this.typingSec.convos.find(function(e){return e.id_conversation==t.id_conversation})},syncOnline:function(){var t=this;this.convos.forEach(function(e,s){t.convos[s].status=t.online.includes(e.user_id)})}})},ae={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-list",{staticClass:"grey lighten-5",attrs:{subheader:""}},[s("v-subheader",{staticClass:"hidden-sm-and-down"},[t._v("Recent chat")]),t._v(" "),t._l(t.convos,function(e){return s("v-list-tile",{key:e.id_conversation,attrs:{avatar:""},on:{click:function(s){return t.syncConvo(e)}}},[s("v-layout",{attrs:{"justify-center":"","align-center":""}},[s("v-badge",{staticClass:"mx-2",attrs:{value:!!t.unRead(e),overlap:"",color:"primary",left:""},scopedSlots:t._u([{key:"badge",fn:function(){return[s("span",[t._v(t._s(t.unRead(e)))])]},proxy:!0}],null,!0)},[t._v(" "),s("v-list-tile-avatar",{staticClass:"pl-1"},[s("img",{attrs:{src:t.getFullPath(e.profile_image)}})])],1),t._v(" "),s("v-list-tile-content",{staticClass:"hidden-sm-and-down"},[s("v-list-tile-title",[t._v(t._s(e.username))])],1),t._v(" "),s("v-list-tile-action",{staticClass:"hidden-sm-and-down"},[s("v-layout",{attrs:{"justify-center":"","align-center":""}},[t.notTyping(e)?s("v-icon",{attrs:{small:"",color:e.status?"green":"grey"}},[t._v("fiber_manual_record")]):s("div",{staticClass:"typing"},[s("div",{staticClass:"typing_point"}),t._v(" "),s("div",{staticClass:"typing_point"}),t._v(" "),s("div",{staticClass:"typing_point"})])],1)],1)],1)],1)}),t._v(" "),0==t.convos.length?s("p",[t._v("No conversations")]):t._e()],2)},staticRenderFns:[]};var ne=s("VU/8")(se,ae,!1,function(t){s("tTlG")},"data-v-17369382",null).exports,re={name:"MessengerChat",data:function(){return{key:0,messages:[],page:0,timer:{},limit:!1,loadGif:"https://i.giphy.com/media/uyCJt0OOhJBiE/giphy.webp"}},computed:p()({},Object(x.c)(["user","typingSec","seenConvo","newMessage","imageConvo","idUserConvo","profileImage","selectedConvo","usernameConvo"]),{typing:function(){var t=this;return this.typingSec.status&&this.typingSec.convos.find(function(e){return e.id_conversation==t.selectedConvo})}}),watch:{selectedConvo:{immediate:!0,handler:function(){var t=this;return y()(_.a.mark(function e(){var s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.selectedConvo){e.next=16;break}return t.page=0,t.limit=!1,e.prev=3,e.next=6,t.getChat();case 6:s=e.sent,t.checkLimit(s.body),t.messages=s.body,t.syncNotif(),t.$socket.emit("seenConvo",{user:t.idUserConvo,convo:t.selectedConvo}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log("Got error here --\x3e ",e.t0);case 16:case"end":return e.stop()}},e,t,[[3,13]])}))()}},messages:function(){this.page<2&&this.$nextTick(this.scroll)},newMessage:function(){this.newMessage&&this.selectedConvo==this.newMessage.id_conversation&&(this.messages.push(this.newMessage),this.messageClr())},typing:function(){this.typing&&this.$nextTick(this.scroll)},seenConvo:function(){var t=this;this.seenConvo&&(this.messages.forEach(function(e,s){e.id_from!=t.user.id||e.is_read||(t.messages[s].is_read=1,t.key++)}),this.seenConvoClr())}},created:function(){var t=this;this.$nextTick(function(){var e,s=document.querySelector(".top_chat");s.addEventListener("scroll",(e=y()(_.a.mark(function e(a){var n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.limit||!(s.scrollTop<=10)){e.next=7;break}return e.next=3,t.getChat();case 3:n=e.sent,t.checkLimit(n.body),t.messages=[].concat(Y()(n.body),Y()(t.messages)),s.scrollTop=150;case 7:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))})},methods:p()({},S,Object(x.b)(["syncNotif","messageClr","seenConvoClr","typingSecClr"]),{checkLimit:function(t){t.length<50?this.limit=!0:this.page++},msgSent:function(t){this.messages.push(t)},first:function(t,e){return!e||this.messages[e-1].id_from!=t.id_from},last:function(t,e){return this.messages.length-1==e||this.messages[e+1].id_from!=t.id_from},seen:function(t,e){if(t.id_from==this.user.id&&t.is_read){for(;++e<this.messages.length;)if(this.messages[e].id_from==this.user.id&&this.messages[e].is_read)return!1;return!0}return!1},layoutClass:function(t,e){return[t.id_from==this.user.id?"from":"to",this.first(t,e)?"top_msg":"",this.last(t,e)?"bottom_msg":"","py-0","px-2"].join(" ")},bubbleClass:function(t){return["mx-2","chat_bubble",t.id_from!=this.user.id?"grey lighten-3":"primary white--text"].join(" ")},pushClass:function(t,e){return this.last(t,e)||t.id_from==this.user.id?this.seen(t,e)||t.id_from!=this.user.id?"d-none":"push_right":"push_left"},showAvatar:function(t,e){return this.last(t,e)&&t.id_from!=this.user.id},avatarClass:function(t,e){return this.last(t,e)&&!this.first(t,e)?"pull_up":"pull_up_single"},newConvo:function(t,e){return!e||w()(t.created_at).diff(this.messages[e-1].created_at,"minutes",!0)>60},scroll:function(){var t=document.querySelector(".top_chat");t.scrollTop=t.scrollHeight-t.clientHeight},getChat:function(){var t=this;return y()(_.a.mark(function e(){var s,a,n,r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s="https://matcha1337.herokuapp.com/api/chat/single",a={"x-auth-token":t.user.token},n={id:t.selectedConvo,page:t.page},e.next=6,t.$http.post(s,n,{headers:a});case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log("Got error here --\x3e ",e.t0);case 13:case"end":return e.stop()}},e,t,[[0,10]])}))()}})},ie={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.selectedConvo?s("v-layout",{staticClass:"chat_container",attrs:{column:""}},[!t.limit&&t.selectedConvo?s("v-img",{staticClass:"chat_load",attrs:{src:t.loadGif}}):t._e(),t._v(" "),t._l(t.messages,function(e,a){return s("v-flex",{key:a+t.key},[t.newConvo(e,a)?s("h3",{staticClass:"date_spacer subheading mb-2 mt-4"},[t._v(t._s(t.formatTime(e.created_at)))]):t._e(),t._v(" "),s("v-layout",{class:t.layoutClass(e,a),attrs:{"align-start":""}},[s("v-tooltip",{attrs:{lazy:"","z-index":"2",left:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[t.showAvatar(e,a)?s("router-link",{class:t.avatarClass(e,a),attrs:{to:"/user/"+e.id_from}},[s("v-avatar",{attrs:{size:"40"}},[s("img",t._g({attrs:{src:t.getFullPath(t.imageConvo),alt:t.usernameConvo}},r))])],1):t._e()]}}],null,!0)},[t._v(" "),s("span",[t._v(t._s(t.usernameConvo))])]),t._v(" "),s("div",{class:t.pushClass(e,a)}),t._v(" "),t.seen(e,a)?s("v-avatar",{staticClass:"mt-2",attrs:{size:"20"}},[s("img",{attrs:{src:t.getFullPath(t.imageConvo),alt:t.usernameConvo}})]):t._e(),t._v(" "),s("v-tooltip",{attrs:{lazy:"","z-index":"2",left:e.id_from==t.user.id,right:e.id_from!=t.user.id},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on;return[s("div",t._g({class:t.bubbleClass(e)},n),[t._v(t._s(e.message))])]}}],null,!0)},[t._v(" "),s("span",[t._v(t._s(t.formatTime(e.created_at)))])])],1)],1)}),t._v(" "),t.typing?s("v-flex",[s("v-layout",{staticClass:"to py-0 px-2 top_msg bottom_msg",attrs:{"align-start":""}},[s("router-link",{staticClass:"pull_up_single",attrs:{to:"/"}},[s("v-avatar",{attrs:{size:"40"}},[s("img",{attrs:{src:t.getFullPath(t.imageConvo),alt:t.usernameConvo}})])],1),t._v(" "),s("div",{staticClass:"mx-2 chat_bubble grey lighten-3"},[s("div",{staticClass:"typing"},[s("div",{staticClass:"typing_point"}),t._v(" "),s("div",{staticClass:"typing_point"}),t._v(" "),s("div",{staticClass:"typing_point"})])])],1)],1):t._e()],2):s("h2",{staticClass:"display-2 text-xs-center text-md-left font-weight-thin pt-4 pb-3 mb-4 hidden-sm-and-down grey--text"},[t._v("Get matched to start chatting with other users")])},staticRenderFns:[]};var oe=s("VU/8")(re,ie,!1,function(t){s("JsW8")},null,null).exports,le={name:"MessengerForm",props:{toId:{type:Number,default:-1}},data:function(){return{msg:null}},computed:Object(x.c)(["user","selectedConvo"]),watch:{msg:function(){if(this.msg.length){var t={id_conversation:this.selectedConvo,id_from:this.user.id,id_to:this.toId};this.$socket.emit("typing",t)}}},methods:p()({},Object(x.b)(["updateConvos"]),{sendMsg:function(t){var e=this;return y()(_.a.mark(function s(){var a,n,r;return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.msg||!e.msg.trim()){s.next=17;break}if(t.shiftKey){s.next=15;break}return s.prev=2,a="https://matcha1337.herokuapp.com/api/chat/send",n={"x-auth-token":e.user.token},r={id_conversation:e.selectedConvo,id_from:e.user.id,id_to:e.toId,message:e.msg.trim().escapeHtml().slice(0,2048)},s.next=8,e.$http.post(a,r,{headers:n});case 8:s.sent.body.ok&&(e.msg="",e.updateConvos(r),e.$emit("msgSent",r),e.$socket.emit("chat",r)),s.next=15;break;case 12:s.prev=12,s.t0=s.catch(2),console.error(s.t0);case 15:s.next=18;break;case 17:e.msg="";case 18:case"end":return s.stop()}},s,e,[[2,12]])}))()}})},ce={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.selectedConvo?s("v-layout",{staticClass:"messenger_form px-3 chat_layout",attrs:{"align-center":"",justify:"",center:"",row:""}},[s("v-textarea",{staticClass:"ma-4\n\t\tsend_msg",attrs:{rows:"1",solo:"",flat:"",outline:"","append-icon":"send",label:"Type a message..."},on:{"click:append":t.sendMsg,keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.sendMsg(e):null}},model:{value:t.msg,callback:function(e){t.msg=e},expression:"msg"}})],1):t._e()},staticRenderFns:[]};var ue={name:"Messenger",components:{loader:W,MessengerList:ne,MessengerChat:oe,MessengerForm:s("VU/8")(le,ce,!1,function(t){s("ZyV5")},null,null).exports},data:function(){return{loaded:!1}},computed:p()({},Object(x.c)(["user","convos","selectedConvo"]),{username:function(){return this.convos.length?this.convos[0].username:null},profile_image:function(){return this.convos.length?this.convos[0].profile_image:null}}),watch:{user:{immediate:!0,handler:function(){var t=this;return y()(_.a.mark(function e(){var s,a,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s=t.user.token||localStorage.getItem("token"))){e.next=16;break}return e.prev=2,a="https://matcha1337.herokuapp.com/auth/isloggedin",n={"x-auth-token":s},e.next=7,t.$http.get(a,{headers:n});case 7:if(e.sent.body.msg){e.next=11;break}return t.loaded=!0,e.abrupt("return");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log("Got error here --\x3e ",e.t0);case 16:t.logout(t.user.id),t.$router.push("/login");case 18:case"end":return e.stop()}},e,t,[[2,13]])}))()}},convos:{immediate:!0,handler:function(){this.convos.length&&!this.selectedConvo&&this.syncConvo(this.convos[0])}}},methods:p()({},Object(x.b)(["logout","syncConvo","syncConvoAll","updateConvosOrder"]),{messageSent:function(t){this.$refs.chat.msgSent(t),this.updateConvosOrder(t.id_conversation)},getToId:function(){var t=!0,e=!1,s=void 0;try{for(var a,n=q()(this.convos);!(t=(a=n.next()).done);t=!0){var r=a.value;if(r.id_conversation==this.selectedConvo)return r.user_id}}catch(t){e=!0,s=t}finally{try{!t&&n.return&&n.return()}finally{if(e)throw s}}}}),beforeDestroy:function(){this.syncConvo(null)}},de={render:function(){var t=this.$createElement,e=this._self._c||t;return this.loaded?e("v-container",{staticClass:"messenger pa-3",attrs:{fluid:"","grid-list-md":""}},[e("v-layout",{staticClass:"parent",attrs:{row:"",wrap:""}},[e("v-flex",{staticClass:"left hidden-xs-only",attrs:{md3:"",sm1:""}},[e("MessengerList")],1),this._v(" "),e("v-flex",{staticClass:"right",attrs:{md9:"",sm11:"",xs12:""}},[e("v-layout",{staticClass:"chat_layout",attrs:{column:"","justify-start":""}},[e("v-flex",{staticClass:"top_chat",attrs:{xs9:""}},[e("MessengerChat",{ref:"chat"})],1),this._v(" "),e("v-flex",{staticClass:"bottom",attrs:{xs3:""}},[e("MessengerForm",{attrs:{toId:this.getToId()},on:{msgSent:this.messageSent}})],1)],1)],1)],1)],1):e("loader")},staticRenderFns:[]};var he=s("VU/8")(ue,de,!1,function(t){s("l6fS")},null,null).exports,fe={name:"UserProfile",components:{Alert:F,loader:W,ProfileTabs:wt,ProfileForm:yt,ProfileBadge:It,ProfileGallery:Ut,ProfileSettings:Kt},data:function(){return{user:{},f:!0,fab:!1,blockDialog:!1,reportDialog:!1,activeTab:"tab-profile",alert:{state:!1,color:"",text:""}}},computed:p()({},Object(x.c)({loggedIn:"user",online:"online",convos:"convos",matches:"matches",blocked:"blocked",location:"location",following:"following",followers:"followers",blockedBy:"blockedBy",profileImage:"profileImage"}),{liked:{get:function(){var t=!0,e=!1,s=void 0;try{for(var a,n=q()(this.following);!(t=(a=n.next()).done);t=!0){if(a.value.id==this.user.id)return!0}}catch(t){e=!0,s=t}finally{try{!t&&n.return&&n.return()}finally{if(e)throw s}}return!1},set:function(){this.syncMatches(this.loggedIn.id)}},likedBy:function(){var t=!0,e=!1,s=void 0;try{for(var a,n=q()(this.followers);!(t=(a=n.next()).done);t=!0){if(a.value.id==this.user.id)return!0}}catch(t){e=!0,s=t}finally{try{!t&&n.return&&n.return()}finally{if(e)throw s}}return!1},profileImage:function(){return this.getFullPath(this.getProfileImage())},userCantLike:function(){var t=this.loggedIn.images;return!t||!t.length},userCanChat:function(){var t=!0,e=!1,s=void 0;try{for(var a,n=q()(this.matches);!(t=(a=n.next()).done);t=!0){if(a.value.id==this.user.id)return!0}}catch(t){e=!0,s=t}finally{try{!t&&n.return&&n.return()}finally{if(e)throw s}}return!1},age:function(){return this.user.birthdate?(new Date).getFullYear()-new Date(this.user.birthdate).getFullYear():""},lastSeen:function(){return this.isOnline?"online":this.user.status?w()(this.user.status).utc().fromNow():w()(this.user.created_at).utc().fromNow()},informations:function(){return[{label:"Username",content:this.user.username},{label:"Fisrt Name",content:this.user.first_name},{label:"Last Name",content:this.user.last_name},{label:"Age",content:this.age},{label:"Gender",content:this.user.gender},{label:"Looking For",content:this.user.looking},{label:"Phone Number",content:this.user.phone},{label:"City",content:this.user.city},{label:"Country",content:this.user.country},{label:"Postal Code",content:this.user.postal_code},{label:"Address",content:this.user.address}]},distance:function(){var t=this.location,e={lat:this.user.lat,lng:this.user.lng},s=this.calculateDistance(t,e);return Math.round(s)+" kms away"},isOnline:function(){return this.online.includes(this.user.id)},coverPhoto:function(){var t="https://images.pexels.com/photos/96422/pexels-photo-96422.jpeg";if(!this.user||!this.user.images)return this.getFullPath(t);var e=this.user.images.find(function(t){return t.cover});return this.getFullPath(e?e.name:t)},filteredImages:function(){return this.user.images.filter(function(t){return!t.cover})},userTags:function(){var t=this.user.tags;return t?t.split(","):[]}}),watch:{blocked:{immediate:!0,handler:function(){var t=Number(this.$route.params.id);Array.isArray(this.blocked)&&this.blocked.includes(t)&&this.$router.push("/")}},blockedBy:{immediate:!0,handler:function(){var t=Number(this.$route.params.id);Array.isArray(this.blockedBy)&&this.blockedBy.includes(t)&&this.$router.push("/")}},loggedIn:{immediate:!0,handler:function(){!isNaN(this.$route.params.id)&&this.$route.params.id||this.$router.push("/404"),this.fetchUser(this.$route.params.id)}},isOnline:function(){this.isOnline||(this.user.status=new Date)}},methods:p()({},S,Object(x.b)(["syncBlocked","syncMatches","syncConvo","syncConvoAll"]),{changeTab:function(t){this.activeTab=t},getProfileImage:function(){if(!this.user||!this.user.images)return"default.png";var t=this.user.images.find(function(t){return 1==t.profile});return t?t.name:"default.png"},match:function(){var t=this;return y()(_.a.mark(function e(){var s,a,n,r,i;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s="https://matcha1337.herokuapp.com/api/action/match",a={id:t.$route.params.id,liked:t.liked},n={"x-auth-token":t.loggedIn.token},e.next=5,t.$http.post(s,a,{headers:n});case 5:e.sent.body.ok&&(t.liked=!t.liked,r=t.loggedIn.images.find(function(t){return 1==t.profile}),i={date:new Date,id_from:t.loggedIn.id,username:t.loggedIn.username,profile_image:r?r.name:"default.png",id_to:t.$route.params.id},t.liked?i.type="unlike":t.followers.some(function(e){return e.id==t.$route.params.id})?i.type="like_back":i.type="like",t.syncConvoAll(),t.$socket.emit("match",i));case 7:case"end":return e.stop()}},e,t)}))()},block:function(){var t=this;return y()(_.a.mark(function e(){var s,a,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s="https://matcha1337.herokuapp.com/api/action/block",a={id:t.$route.params.id},n={"x-auth-token":t.loggedIn.token},e.next=5,t.$http.post(s,a,{headers:n});case 5:e.sent.body.msg||(t.syncBlocked(t.loggedIn.id),a={id_from:t.loggedIn.id,id_to:t.$route.params.id},t.$socket.emit("block",a),t.blockDialog=!1,t.$router.push("/"));case 7:case"end":return e.stop()}},e,t)}))()},goToChat:function(){var t=this,e=this.convos.find(function(e){return e.user_id==t.user.id});e&&(this.syncConvo({username:e.username,id_conversation:e.id_conversation,profile_image:e.profile_image}),this.$router.push("/chat"))},fetchUser:function(t){var e=this;return y()(_.a.mark(function s(){var a,n,r,i,o;return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.loggedIn.id||!e.f){s.next=23;break}if(e.loggedIn.id!=e.$route.params.id){s.next=5;break}e.$router.push("/settings"),s.next=23;break;case 5:return s.prev=5,a={"x-auth-token":e.loggedIn.token},n="https://matcha1337.herokuapp.com/api/users/show/"+t,s.next=10,e.$http.get(n,{headers:a});case 10:(r=s.sent).body.msg&&e.$router.push("/404"),e.user=p()({},r.body,{rating:Number(r.body.rating)}),i=e.loggedIn.images.find(function(t){return 1==t.profile}),e.online.includes(e.user.id)&&(e.user.status=!0),o={date:new Date,id_from:e.loggedIn.id,username:e.loggedIn.username,profile_image:i?i.name:"default.png",id_to:t,type:"visit"},e.$socket.emit("visit",o),e.f=!1,s.next=23;break;case 20:s.prev=20,s.t0=s.catch(5),console.error(s.t0);case 23:case"end":return s.stop()}},s,e,[[5,20]])}))()},reportUser:function(){var t=this;return y()(_.a.mark(function e(){var s,a,n,r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s="https://matcha1337.herokuapp.com/api/action/report",a={id:t.$route.params.id},n={"x-auth-token":t.loggedIn.token},e.next=5,t.$http.post(s,a,{headers:n});case 5:(r=e.sent).body.msg?t.showAlert("red",r.body.msg,t):(t.reportDialog=!1,t.showAlert("green","User reported successfuly",t));case 7:case"end":return e.stop()}},e,t)}))()}}),beforeRouteUpdate:function(t,e,s){this.f=!0,this.fetchUser(t.params.id),s()}},ve={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.f?s("loader"):s("v-layout",{staticClass:"user_profile",attrs:{column:""}},[s("div",{staticClass:"parallax",style:"background-image: url("+t.coverPhoto+");"}),t._v(" "),s("v-layout",{staticClass:"py-0 strap grey lighten-3"},[s("v-container",{attrs:{"py-0":""}},[s("v-layout",[s("v-flex",{staticClass:"avatar",attrs:{xs12:"",sm8:"",md4:""}},[s("v-avatar",{staticClass:"mx-auto d-block",attrs:{slot:"offset",size:"200"},slot:"offset"},[s("img",{staticClass:"avatar__img",attrs:{src:t.profileImage}})])],1),t._v(" "),s("profile-tabs",{attrs:{active:t.activeTab},on:{"change-tab":t.changeTab}}),t._v(" "),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-icon",t._g({staticClass:"profile-status_icon mx-3 hidden-xs-only",attrs:{color:(t.isOnline?"green":"grey")+" lighten-2",small:""}},a),[t._v("fiber_manual_record")])]}}])},[t._v(" "),s("span",[t._v(t._s(t.lastSeen))])]),t._v(" "),s("v-chip",{staticClass:"mt-3 ml-2 hidden-xs-only",attrs:{disabled:"",outline:"",small:"",color:"grey lighten-1"}},[t._v(t._s(t.distance))]),t._v(" "),s("v-btn",{staticClass:"hidden-xs-only",attrs:{icon:"",flat:"",large:"",color:"primary",disabled:t.userCantLike},on:{click:t.match}},[s("v-icon",[t._v(t._s(t.liked?"favorite":"favorite_border"))])],1),t._v(" "),s("v-btn",{staticClass:"hidden-xs-only mx-0",attrs:{icon:"",flat:"",large:"",color:"primary",disabled:!t.userCanChat},on:{click:t.goToChat}},[s("v-icon",[t._v(t._s(t.userCanChat?"chat_bubble":"chat_bubble_outline"))])],1),t._v(" "),s("v-speed-dial",{staticClass:"speed_list",attrs:{direction:"bottom",transition:"slide-y-reverse-transition"},scopedSlots:t._u([{key:"activator",fn:function(){return[s("v-btn",{attrs:{icon:"",flat:"",small:"",large:"",color:"primary"},model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[s("v-icon",[t._v("more_vert")])],1)]},proxy:!0}]),model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[t._v(" "),s("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",t._g({attrs:{fab:"",dark:"",small:"",color:"primary darken-2"},on:{click:function(e){t.reportDialog=!0}}},a),[s("v-icon",[t._v("warning")])],1)]}}])},[t._v(" "),s("span",[t._v("Report")])]),t._v(" "),s("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",t._g({attrs:{fab:"",dark:"",small:"",color:"primary darken-2"},on:{click:function(e){t.blockDialog=!0}}},a),[s("v-icon",[t._v("delete_forever")])],1)]}}])},[t._v(" "),s("span",[t._v("Block")])])],1)],1)],1)],1),t._v(" "),s("v-container",{staticClass:"profile",attrs:{"fill-height":"","grid-list-xl":""}},[s("v-layout",{attrs:{"justify-center":"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[s("profile-badge",{attrs:{user:t.user,like:t.likedBy,match:t.userCanChat}})],1),t._v(" "),s("v-flex",{staticClass:"pa-0 grey--text main",attrs:{xs12:"",sm10:"",md8:""}},[s("v-tabs-items",{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[s("v-tab-item",{attrs:{value:"tab-profile"}},[s("v-container",[t.user.biography?s("div",[s("h1",{staticClass:"heading display-2 font-weight-thin py-3 mb-4"},[t._v("About")]),t._v(" "),s("v-container",{staticClass:"infos subheading py-2"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t.user.biography)+"\n\t\t\t\t\t\t\t\t\t")])],1):t._e(),t._v(" "),s("h1",{staticClass:"heading display-2 font-weight-thin py-3 mb-4"},[t._v("Informations")]),t._v(" "),s("v-layout",{staticClass:"title text-capitalize infos",attrs:{column:""}},[t._l(t.informations,function(e){return s("div",{key:e.label},[e.content?s("v-container",{attrs:{"py-3":""}},[s("v-layout",[s("v-flex",{attrs:{xs6:""}},[t._v(t._s(e.label+":"))]),t._v(" "),s("v-flex",{staticClass:"infos",attrs:{xs6:""}},[t._v(t._s(e.content))])],1)],1):t._e()],1)}),t._v(" "),t.userTags.length?s("v-container",{attrs:{"py-3":"","px-2":""}},[s("h1",{staticClass:"heading display-2 font-weight-thin py-3 mb-4"},[t._v("Interests")]),t._v(" "),t._l(t.userTags,function(e,a){return s("v-chip",{key:a,staticClass:"user_tags",attrs:{color:"primary",dark:"",label:""}},[t._v(t._s(e))])})],2):t._e()],2)],1)],1),t._v(" "),s("v-tab-item",{attrs:{value:"tab-photo"}},[s("profile-gallery",{attrs:{images:t.filteredImages}})],1)],1)],1)],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.reportDialog,callback:function(e){t.reportDialog=e},expression:"reportDialog"}},[s("v-card",{staticClass:"pa-2"},[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("Report as fake")])]),t._v(" "),s("v-card-text",[s("v-container",[s("p",{staticClass:"subheading d-inline"},[t._v("Are you sure you want to report")]),t._v(" "),s("router-link",{staticClass:"px-1 user_link",attrs:{to:"/user/"+t.user.id}},[t._v(t._s(t.user.username))]),t._v(" "),s("p",{staticClass:"subheading d-inline"},[t._v("as fake ?")])],1)],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.reportDialog=!1}}},[t._v("Close")]),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.reportUser}},[t._v("Report")])],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.blockDialog,callback:function(e){t.blockDialog=e},expression:"blockDialog"}},[s("v-card",{staticClass:"pa-2"},[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("To the blacklist")])]),t._v(" "),s("v-card-text",[s("v-container",[s("p",{staticClass:"subheading d-inline"},[t._v("Are you sure you want to block")]),t._v(" "),s("router-link",{staticClass:"px-1 user_link",attrs:{to:"/user/"+t.user.id}},[t._v(t._s(t.user.username))]),t._v(" "),s("p",{staticClass:"subheading d-inline"},[t._v("?")])],1)],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.blockDialog=!1}}},[t._v("Close")]),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.block}},[t._v("Block")])],1)],1)],1),t._v(" "),s("alert",{attrs:{data:t.alert}})],1)},staticRenderFns:[]};var me=s("VU/8")(fe,ve,!1,function(t){s("gr9h")},null,null).exports,pe={name:"Notifications",data:function(){return{limit:15}},computed:p()({},Object(x.c)(["user","notif"]),{notChats:function(){return this.notif.filter(function(t){return"chat"!=t.type})},notifs:function(){return this.notChats.sort(function(t,e){return new Date(e.date)-new Date(t.date)}).slice(0,this.limit)},moreToLoad:function(){return this.limit<this.notChats.length-1}}),watch:{user:{immediate:!0,handler:function(){var t=this;return y()(_.a.mark(function e(){var s,a,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s=t.user.token||localStorage.getItem("token"))){e.next=15;break}return e.prev=2,a="https://matcha1337.herokuapp.com/auth/isloggedin",n={"x-auth-token":s},e.next=7,t.$http.get(a,{headers:n});case 7:if(e.sent.body.msg){e.next=10;break}return e.abrupt("return");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("Got error here --\x3e ",e.t0);case 15:t.logout(t.user.id),t.$router.push("/login");case 17:case"end":return e.stop()}},e,t,[[2,12]])}))()}}},methods:p()({},S,Object(x.b)(["logout"]),{increaseLimit:function(){this.limit+11<this.notChats.length?this.limit+=10:this.limit=this.notChats.length-1}})},ge={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"timeline_container"},[s("h1",{staticClass:"heading display-2 font-weight-thin pt-4 pb-3 mb-4 grey--text"},[t._v("Notifications")]),t._v(" "),s("v-timeline",{attrs:{"align-top":"",dense:""}},t._l(t.notifs,function(e,a){return s("v-timeline-item",{key:a,attrs:{color:"primary",small:""}},[s("v-layout",{staticClass:"history_item",attrs:{wrap:"","justify-center":"","py-3":""}},[s("v-flex",{staticClass:"hidden-sm-and-down",attrs:{sm3:""}},[s("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on;return[s("strong",t._g({staticClass:"mt-2 d-block grey--text"},n),[t._v(t._s(t.fromNow(e.date)))])]}}],null,!0)},[t._v(" "),s("span",[t._v(t._s(t.formatTime(e.date)))])])],1),t._v(" "),s("v-flex",{staticClass:"notif_bubble",attrs:{"pt-0":""}},[s("v-chip",{staticClass:"bubble grey lighten-5 px-2 py-2",attrs:{disabled:""}},[s("router-link",{attrs:{to:"/user/"+e.id_from}},[s("v-avatar",[s("img",{attrs:{src:t.getFullPath(e.profile_image),alt:e.username}})])],1),t._v(" "),s("span",[s("router-link",{staticClass:"timeline_link",attrs:{to:"/user/"+e.id_from}},[t._v(t._s(e.username))])],1),t._v(" "),s("span",{staticClass:"ml-1"},[t._v(t._s(t.getNotifMsg(e)))])],1)],1)],1)],1)}),1),t._v(" "),s("v-flex",{attrs:{xs6:"","offset-xs3":""}},[t.moreToLoad?s("v-btn",{staticClass:"my-4",attrs:{large:"",color:"primary",flat:"",round:""},on:{click:t.increaseLimit}},[t._v("Load More")]):t._e()],1)],1)},staticRenderFns:[]};var _e=s("VU/8")(pe,ge,!1,function(t){s("PGtx")},null,null).exports;o.default.use(P.a);var be,ye,xe,ke,we,Ce=new P.a({mode:"history",base:Object({NODE_ENV:"production",URL:"https://matcha1337.herokuapp.com",GOOGLE_KEY:"AIzaSyBZwoZjtlArLEEYsZFhS3f_YxJEDrX6km4"}).BASE_URL,routes:[{path:"/",component:j},{path:"/install",component:ut},{path:"/register",component:pt},{path:"/login",component:H},{path:"/settings",component:Wt},{path:"/discover",component:Qt},{path:"/search",component:nt,props:function(t){return{data:{gender:t.query.gender,location:t.query.location,min:t.query.min,max:t.query.max}}}},{path:"/notifications",component:_e},{path:"/chat",component:he},{path:"/user/:id",component:me},{path:"/forgot",component:ot},{path:"/recover",component:ft},{path:"/404",component:ee},{path:"*",redirect:"/404"}]}),Ae={mutations:{login:function(t,e){t.status=!0,t.user=e,t.isConnected||((new o.default).$socket.emit("auth",t.user.id),t.isConnected=!0)},logout:function(t){t.status=!1,t.user={},t.isConnected=!1,t.typing=!1,t.blocked=[],t.location={},t.seenConvo=!1,t.convos=[],t.notif=[],t.blockedBy=[],t.followers=[],t.following=[],t.newMessage=null,t.selectedConvo=null,t.visited=[],t.visitor=[],t.imageConvo=null}},actions:{login:function(t,e){var s=t.commit,a=t.dispatch;e.id&&(localStorage.setItem("token",e.token),s("locate",{lat:e.lat,lng:e.lng}),a("locate"),a("getTags"),a("getNotif"),a("syncHistory"),a("syncMatches"),a("syncConvoAll"),a("syncBlocked",e.id),s("login",e))},logout:function(t,e){var s=t.commit;localStorage.clear(),s("logout"),(new o.default).$socket.emit("logout",e)}}},Ie=s("mvHQ"),Ne=s.n(Ie),Ee=s("OMJi"),Se=this,Re={mutations:{updateUserEmail:function(t,e){return t.user.email=e},updateTags:function(t,e){return t.user.tags=e.map(function(t){return t.text.toLowerCase()}).join(",")},updateUser:function(t,e){return t.user=e},updateProfileImage:function(t,e){t.user.images.forEach(function(t){return t.profile=0}),t.user.images.push({name:e.name,cover:0,profile:1,user_id:e.user_id,id:e.id})},updateCoverImage:function(t,e){t.user.images=t.user.images.filter(function(t){return!t.cover}),t.user.images.push({name:e.name,cover:1,profile:0,user_id:e.user_id,id:e.id})},locate:function(t,e){t.location=e},syncHistory:function(t,e){t.visitor=e.visitor.filter(function(e){return!S.isBlocked(t,e.id)}),t.visited=e.visited.filter(function(e){return!S.isBlocked(t,e.id)})},syncMatches:function(t,e){t.followers=e.followers.filter(function(e){return!S.isBlocked(t,e.id)}),t.following=e.following.filter(function(e){return!S.isBlocked(t,e.id)})},syncBlocked:function(t,e){t.blocked=e.blocked,t.blockedBy=e.blockedBy;["visitor","visited","notif","convos","followers","following"].forEach(function(e){return t[e]=S.filterBlocked(t,e)})},getNotif:function(t,e){t.notif=e},getTags:function(t,e){t.tags=e},seenNotif:function(t){t.notif=t.notif.map(function(t){return"chat"!=t.type&&(t.is_read=1),t})},delImg:function(t,e){if(t.user.images=t.user.images.filter(function(t){return t.id!=e}),t.user.images.length&&!t.user.images.find(function(t){return t.profile}))for(var s=t.user.images.length;--s>=0;)if(!t.user.images[s].cover){t.user.images[s].profile=!0;break}},syncBlacklist:function(t,e){t.blacklist=e}},actions:{updateUserEmail:function(t,e){(0,t.commit)("updateUserEmail",e)},updateUser:function(t,e){var s=t.commit;s("locate",{lat:e.lat,lng:e.lng}),s("updateUser",e)},locate:function(t){var e=t.commit,s={};navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){s={lat:t.coords.latitude,lng:t.coords.longitude},e("locate",s),S.syncLocation(s)},function(){return S.getLocationFromIp(function(t){e("locate",t),S.syncLocation(t)})}):S.getLocationFromIp(function(t){e("locate",t),S.syncLocation(t)})},syncMatches:function(){var t=y()(_.a.mark(function t(e){var s,a,n,r,i=e.commit;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s=[],a=[],n=function(t){return{id:t[t.matched_id?"matched_id":"matcher_id"],match_date:t.match_date,username:t.username,profile_image:t.profile_image}},t.next=6,S.sync("matches");case 6:r=t.sent,Object(Ee.isArray)(r.body)&&(s=r.body.filter(function(t){return t.matched_id}).map(n),a=r.body.filter(function(t){return t.matcher_id}).map(n)),i("syncMatches",{following:s,followers:a}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log("Got error here --\x3e ",t.t0);case 14:case"end":return t.stop()}},t,Se,[[0,11]])}));return function(e){return t.apply(this,arguments)}}(),syncBlocked:(we=y()(_.a.mark(function t(e,s){var a,n,r,i=e.commit,o=e.dispatch;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=[],n=[],t.next=5,S.sync("blocked");case 5:r=t.sent,Object(Ee.isArray)(r.body)&&(a=r.body.filter(function(t){return t.blocker==s}).map(function(t){return t.blocked}),n=r.body.filter(function(t){return t.blocked==s}).map(function(t){return t.blocker})),i("syncBlocked",{blocked:a,blockedBy:n}),a.length&&o("syncBlacklist",a),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log("Got error here --\x3e ",t.t0);case 14:case"end":return t.stop()}},t,Se,[[0,11]])})),function(t,e){return we.apply(this,arguments)}),syncHistory:(ke=y()(_.a.mark(function t(e){var s,a,n,r,i=e.commit;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s=[],a=[],n=function(t){return{id:t[t.visitor_id?"visitor_id":"visited_id"],visit_date:t.visit_date,username:t.username,profile_image:t.profile_image}},t.next=6,S.sync("history");case 6:r=t.sent,Object(Ee.isArray)(r.body)&&(s=r.body.filter(function(t){return t.visitor_id}).map(n),a=r.body.filter(function(t){return t.visited_id}).map(n)),i("syncHistory",{visitor:s,visited:a}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log("Got error here --\x3e ",t.t0);case 14:case"end":return t.stop()}},t,Se,[[0,11]])})),function(t){return ke.apply(this,arguments)}),getTags:(xe=y()(_.a.mark(function t(e){var s,a=e.commit;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.sync("tags");case 3:s=t.sent,a("getTags",s.body),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Got error here --\x3e ",t.t0);case 10:case"end":return t.stop()}},t,Se,[[0,7]])})),function(t){return xe.apply(this,arguments)}),getNotif:(ye=y()(_.a.mark(function t(e){var s,a=e.commit;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.syncNotif();case 3:s=t.sent,a("getNotif",s),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Got error here --\x3e ",t.t0);case 10:case"end":return t.stop()}},t,Se,[[0,7]])})),function(t){return ye.apply(this,arguments)}),seenNotif:function(t){(0,t.commit)("seenNotif")},delImg:function(t,e){(0,t.commit)("delImg",e)},syncBlacklist:(be=y()(_.a.mark(function t(e,s){var a,n,r,i,l,c=e.commit;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.length){t.next=2;break}return t.abrupt("return",c("syncBlacklist",[]));case 2:return a=localStorage.getItem("token"),n="https://matcha1337.herokuapp.com/api/users/blacklisted",r={"x-auth-token":a},i={ids:Ne()(s)},t.next=8,o.default.http.post(n,i,{headers:r});case 8:(l=t.sent).body.ok&&c("syncBlacklist",l.body.list);case 10:case"end":return t.stop()}},t,Se)})),function(t,e){return be.apply(this,arguments)})}},De=this,Te={mutations:{seenConvoClr:function(t){t.seenConvo=!1},typingSecClr:function(t,e){t.typingSec.convos=t.typingSec.convos.filter(function(t){return t.id_conversation!=e}),t.typingSec.status=!!t.typingSec.convos.length},messageClr:function(t){t.newMessage=null},syncNotif:function(t){t.notif=t.notif.filter(function(e){return!e.id_conversation||e.id_conversation!=t.selectedConvo})},syncConvo:function(t,e){e?(t.selectedConvo=e.id_conversation,t.usernameConvo=e.username,t.imageConvo=e.profile_image):(t.selectedConvo=null,t.usernameConvo=null,t.imageConvo=null)},syncConvoAll:function(t,e){t.convos=e},updateConvos:function(t,e){t.convos.forEach(function(s,a){s.id_conversation==e.id_conversation&&(t.convos[a].message=e.message,t.convos[a].message_from=e.id_from)})},updateConvosOrder:function(t,e){t.convos.forEach(function(t){t.id_conversation==e&&(t.last_update=new Date)})}},actions:{syncNotif:function(t){return(0,t.commit)("syncNotif")},messageClr:function(t){return(0,t.commit)("messageClr")},typingSecClr:function(t,e){return(0,t.commit)("typingSecClr",e)},seenConvoClr:function(t){return(0,t.commit)("seenConvoClr")},syncConvo:function(t,e){return(0,t.commit)("syncConvo",e)},updateConvos:function(t,e){return(0,t.commit)("updateConvos",e)},updateConvosOrder:function(t,e){return(0,t.commit)("updateConvosOrder",e)},syncConvoAll:function(){var t=y()(_.a.mark(function t(e){var s,a,n,r,i=e.commit;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=localStorage.getItem("token"),a="https://matcha1337.herokuapp.com/api/chat/all",n={"x-auth-token":s},t.next=5,o.default.http.get(a,{headers:n});case 5:(r=t.sent).body.msg||i("syncConvoAll",r.body);case 7:case"end":return t.stop()}},t,De)}));return function(e){return t.apply(this,arguments)}}()}},Me=this,Oe={mutations:{SOCKET_connect:function(t){!t.isConnected&&t.user.id&&((new o.default).$socket.emit("auth",t.user.id),t.isConnected=!0)},SOCKET_disconnect:function(t){t.isConnected=!1},SOCKET_chat:function(){var t=y()(_.a.mark(function t(e,s){var a,n,r,i,l,c,u,d,h;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=localStorage.getItem("token"),n={"x-auth-token":a},s.id_conversation!=e.selectedConvo){t.next=13;break}if(e.newMessage){t.next=11;break}return e.newMessage=s,e.convos.forEach(function(t,a){t.id_conversation==e.selectedConvo&&((new o.default).$socket.emit("seenConvo",{user:t.user_id,convo:t.id_conversation}),e.convos[a].message=s.message,e.convos[a].message_from=s.id_from)}),r="https://matcha1337.herokuapp.com/api/chat/update",i={id:e.selectedConvo},t.next=11,o.default.http.post(r,i,{headers:n});case 11:t.next=20;break;case 13:return e.notif.push(p()({},s,{type:"chat"})),e.convos.forEach(function(t){t.id_conversation==s.id_conversation&&(t.last_update=new Date,t.message=s.message,t.message_from=s.id_from)}),l=s.id_from,c=s.id_to,u=s.id_conversation,d={id_to:c,id_from:l,type:"chat",id_conversation:u},h="https://matcha1337.herokuapp.com/api/notif/add",t.next=20,o.default.http.post(h,d,{headers:n});case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(0),console.log("error here --\x3e",t.t0);case 25:case"end":return t.stop()}},t,Me,[[0,22]])}));return function(e,s){return t.apply(this,arguments)}}(),SOCKET_typing:function(t,e){t.typingSec.convos.some(function(t){return t.id_conversation==e.id_conversation})||(t.typingSec.convos.push(e),t.typingSec.status=!!t.typingSec.convos.length)},SOCKET_seenConvo:function(t,e){t.selectedConvo==e&&(t.seenConvo=!0)},SOCKET_match:function(){var t=y()(_.a.mark(function t(e,s){var a,n,r;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.notif.push({is_read:0,type:s.type,date:s.date,id_from:s.id_from,username:s.username,profile_image:s.profile_image}),"like"!=s.type&&"like_back"!=s.type){t.next=12;break}if(e.followers.push({id:s.id_from,profile_image:s.profile_image,username:s.username,match_date:s.date}),"like_back"!=s.type){t.next=10;break}return a="https://matcha1337.herokuapp.com/api/chat/all",n={"x-auth-token":e.user.token},t.next=8,o.default.http.get(a,{headers:n});case 8:r=t.sent,e.convos=r.body;case 10:t.next=13;break;case 12:"unlike"==s.type&&(e.followers=e.followers.filter(function(t){return t.id!=s.id_from}),e.convos.forEach(function(t,a){t.user_id==s.id_from&&(e.selectedConvo==t.id_conversation&&(e.selectedConvo=null),e.convos.splice(a,1))}));case 13:case"end":return t.stop()}},t,Me)}));return function(e,s){return t.apply(this,arguments)}}(),SOCKET_visit:function(t,e){t.notif.push({is_read:0,type:e.type,date:e.date,id_from:e.id_from,username:e.username,profile_image:e.profile_image}),t.visitor.push({id:e.id_from,profile_image:e.profile_image,username:e.username,visit_date:e.date})},SOCKET_block:function(t,e){t.blockedBy.push(e);var s=t.convos.find(function(t){return t.user_id==e});["visitor","visited","notif","convos","followers","following"].forEach(function(e){return t[e]=S.filterBlocked(t,e)}),s&&t.selectedConvo==s.id_conversation&&(t.selectedConvo=null)},SOCKET_online:function(t,e){t.online=e.filter(function(e){return e!=t.user.id}).map(function(t){return Number(t)})},SOCKET_out:function(t,e){e.find(function(e){return e==t.user.id})?t.online=e.filter(function(e){return e!=t.user.id}).map(function(t){return Number(t)}):(t.status=!1,t.user={},t.isConnected=!1,t.typing=!1,t.blocked=[],t.location={},t.seenConvo=!1,t.convos=[],t.notif=[],t.blockedBy=[],t.followers=[],t.following=[],t.newMessage=null,t.selectedConvo=null,t.visited=[],t.visitor=[],t.imageConvo=null)}}},Pe={user:function(t){return t.user},tags:function(t){return t.tags.filter(function(t){return t.length})},notif:function(t){return t.notif},typing:function(t){return t.typing},online:function(t){return t.online},status:function(t){return t.status},blocked:function(t){return t.blocked},location:function(t){return t.location},typingSec:function(t){return t.typingSec},seenConvo:function(t){return t.seenConvo},blockedBy:function(t){return t.blockedBy},blacklist:function(t){return t.blacklist},followers:function(t){return t.followers},newMessage:function(t){return t.newMessage},selectedConvo:function(t){return t.selectedConvo},convos:function(t){return[].concat(Y()(t.convos)).sort(function(t,e){return new Date(e.last_update)-new Date(t.last_update)})},following:function(t){return t.following},imageConvo:function(t){var e=t.convos.find(function(e){return e.id_conversation==t.selectedConvo});return e?e.profile_image:null},usernameConvo:function(t){var e=t.convos.find(function(e){return e.id_conversation==t.selectedConvo});return e?e.username:null},idUserConvo:function(t){var e=t.convos.find(function(e){return e.id_conversation==t.selectedConvo});return e?e.user_id:null},history:function(t){return[].concat(Y()(t.visitor.map(function(t){return p()({},t,{type:"visitor"})})),Y()(t.visited.map(function(t){return p()({},t,{type:"visited"})})),Y()(t.followers.map(function(t){return p()({},t,{type:"follower"})})),Y()(t.following.map(function(t){return p()({},t,{type:"following"})})))},matches:function(t){return t.following.filter(function(e){var s=!0,a=!1,n=void 0;try{for(var r,i=q()(t.followers);!(s=(r=i.next()).done);s=!0){if(r.value.id==e.id)return!0}}catch(t){a=!0,n=t}finally{try{!s&&i.return&&i.return()}finally{if(a)throw n}}return!1})},profileImage:function(t){if(!t.user.images)return"default.png";var e=t.user.images.find(function(t){return t.profile});return S.getFullPath(e?e.name:"default.png")},coverPhoto:function(t){var e="https://images.pexels.com/photos/96422/pexels-photo-96422.jpeg";if(!t.user.images)return e;var s=t.user.images.find(function(t){return t.cover});return S.getFullPath(s?s.name:e)}};o.default.use(x.a);var Le=new x.a.Store({state:{user:{},tags:[],notif:[],convos:[],online:[],blocked:[],visitor:[],visited:[],following:[],followers:[],blockedBy:[],blacklist:[],status:!1,typingSec:{status:!1,convos:[]},seenConvo:!1,newMessage:null,isConnected:!1,selectedConvo:null,location:{lat:0,lng:0}},getters:Pe,mutations:p()({},Ae.mutations,Re.mutations,Te.mutations,Oe.mutations),actions:p()({},Ae.actions,Re.actions,Te.actions)});o.default.use(c.a,{theme:{primary:"#03a9f4"}}),o.default.use(v.a);var Ue=d()(location.origin.replace(/^http/,"ws"));o.default.use(new f.a({debug:!1,connection:Ue,vuex:{store:Le,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"}})),String.prototype.has=function(t){return this.toLowerCase().includes(t.toLowerCase())},String.prototype.escapeHtml=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},new o.default({store:Le,router:Ce,render:function(t){return t(O)}}).$mount("#app")},Op7R:function(t,e){},P7gt:function(t,e){},PGtx:function(t,e){},ZyV5:function(t,e){},c2a6:function(t,e){},cMfv:function(t,e){},"gZ/J":function(t,e){},gfUz:function(t,e){},gr9h:function(t,e){},"i//y":function(t,e){},"iTL/":function(t,e){},l6fS:function(t,e){},mUhq:function(t,e){},r2Tc:function(t,e){},tTlG:function(t,e){},tVMm:function(t,e){},"ti+0":function(t,e){t.exports={AF:"AFGHANISTAN",AL:"ALBANIA",DZ:"ALGERIA",AS:"AMERICAN SAMOA",AD:"ANDORRA",AO:"ANGOLA",AI:"ANGUILLA",AQ:"ANTARCTICA",AG:"ANTIGUA AND BARBUDA",AR:"ARGENTINA",AM:"ARMENIA",AW:"ARUBA",AU:"AUSTRALIA",AT:"AUSTRIA",AZ:"AZERBAIJAN",BS:"BAHAMAS",BH:"BAHRAIN",BD:"BANGLADESH",BB:"BARBADOS",BY:"BELARUS",BE:"BELGIUM",BZ:"BELIZE",BJ:"BENIN",BM:"BERMUDA",BT:"BHUTAN",BO:"BOLIVIA",BA:"BOSNIA AND HERZEGOVINA",BW:"BOTSWANA",BV:"BOUVET ISLAND",BR:"BRAZIL",IO:"BRITISH INDIAN OCEAN TERRITORY",BN:"BRUNEI DARUSSALAM",BG:"BULGARIA",BF:"BURKINA FASO",BI:"BURUNDI",KH:"CAMBODIA",CM:"CAMEROON",CA:"CANADA",CV:"CAPE VERDE",KY:"CAYMAN ISLANDS",CF:"CENTRAL AFRICAN REPUBLIC",TD:"CHAD",CL:"CHILE",CN:"PEOPLE'S REPUBLIC OF CHINA",CX:"CHRISTMAS ISLAND",CC:"COCOS (KEELING) ISLANDS",CO:"COLOMBIA",KM:"COMOROS",CG:"CONGO",CD:"CONGO, THE DEMOCRATIC REPUBLIC OF",CK:"COOK ISLANDS",CR:"COSTA RICA",CI:"CÔTE D'IVOIRE",HR:"CROATIA",CU:"CUBA",CY:"CYPRUS",CZ:"CZECH REPUBLIC",DK:"DENMARK",DJ:"DJIBOUTI",DM:"DOMINICA",DO:"DOMINICAN REPUBLIC",EC:"ECUADOR",EG:"EGYPT",EH:"WESTERN SAHARA",SV:"EL SALVADOR",GQ:"EQUATORIAL GUINEA",ER:"ERITREA",EE:"ESTONIA",ET:"ETHIOPIA",FK:"FALKLAND ISLANDS (MALVINAS)",FO:"FAROE ISLANDS",FJ:"FIJI",FI:"FINLAND",FR:"FRANCE",GF:"FRENCH GUIANA",PF:"FRENCH POLYNESIA",TF:"FRENCH SOUTHERN TERRITORIES",GA:"GABON",GM:"GAMBIA",GE:"GEORGIA",DE:"GERMANY",GH:"GHANA",GI:"GIBRALTAR",GR:"GREECE",GL:"GREENLAND",GD:"GRENADA",GP:"GUADELOUPE",GU:"GUAM",GT:"GUATEMALA",GN:"GUINEA",GW:"GUINEA-BISSAU",GY:"GUYANA",HT:"HAITI",HM:"HEARD ISLAND AND MCDONALD ISLANDS",HN:"HONDURAS",HK:"HONG KONG",HU:"HUNGARY",IS:"ICELAND",IN:"INDIA",ID:"INDONESIA",IR:"IRAN, ISLAMIC REPUBLIC OF",IQ:"IRAQ",IE:"IRELAND",IL:"ISRAEL",IT:"ITALY",JM:"JAMAICA",JP:"JAPAN",JO:"JORDAN",KZ:"KAZAKHSTAN",KE:"KENYA",KI:"KIRIBATI",KP:"KOREA, DEMOCRATIC PEOPLE'S REPUBLIC OF",KR:"KOREA, REPUBLIC OF",KW:"KUWAIT",KG:"KYRGYZSTAN",LA:"LAO PEOPLE'S DEMOCRATIC REPUBLIC",LV:"LATVIA",LB:"LEBANON",LS:"LESOTHO",LR:"LIBERIA",LY:"LIBYAN ARAB JAMAHIRIYA",LI:"LIECHTENSTEIN",LT:"LITHUANIA",LU:"LUXEMBOURG",MO:"MACAO",MK:"MACEDONIA, THE FORMER YUGOSLAV REPUBLIC OF",MG:"MADAGASCAR",MW:"MALAWI",MY:"MALAYSIA",MV:"MALDIVES",ML:"MALI",MT:"MALTA",MH:"MARSHALL ISLANDS",MQ:"MARTINIQUE",MR:"MAURITANIA",MU:"MAURITIUS",YT:"MAYOTTE",MX:"MEXICO",FM:"MICRONESIA, FEDERATED STATES OF",MD:"MOLDOVA, REPUBLIC OF",MC:"MONACO",MN:"MONGOLIA",MS:"MONTSERRAT",MA:"MOROCCO",MZ:"MOZAMBIQUE",MM:"MYANMAR",NA:"NAMIBIA",NR:"NAURU",NP:"NEPAL",NL:"NETHERLANDS",AN:"NETHERLANDS ANTILLES",NC:"NEW CALEDONIA",NZ:"NEW ZEALAND",NI:"NICARAGUA",NE:"NIGER",NG:"NIGERIA",NU:"NIUE",NF:"NORFOLK ISLAND",MP:"NORTHERN MARIANA ISLANDS",NO:"NORWAY",OM:"OMAN",PK:"PAKISTAN",PW:"PALAU",PS:"PALESTINIAN TERRITORY, OCCUPIED",PA:"PANAMA",PG:"PAPUA NEW GUINEA",PY:"PARAGUAY",PE:"PERU",PH:"PHILIPPINES",PN:"PITCAIRN",PL:"POLAND",PT:"PORTUGAL",PR:"PUERTO RICO",QA:"QATAR",RE:"RÉUNION",RO:"ROMANIA",RU:"RUSSIAN FEDERATION",RW:"RWANDA",SH:"SAINT HELENA",KN:"SAINT KITTS AND NEVIS",LC:"SAINT LUCIA",PM:"SAINT PIERRE AND MIQUELON",VC:"SAINT VINCENT AND THE GRENADINES",WS:"SAMOA",SM:"SAN MARINO",ST:"SAO TOME AND PRINCIPE",SA:"SAUDI ARABIA",SN:"SENEGAL",CS:"SERBIA AND MONTENEGRO",SC:"SEYCHELLES",SL:"SIERRA LEONE",SG:"SINGAPORE",SK:"SLOVAKIA",SI:"SLOVENIA",SB:"SOLOMON ISLANDS",SO:"SOMALIA",ZA:"SOUTH AFRICA",GS:"SOUTH GEORGIA AND SOUTH SANDWICH ISLANDS",ES:"SPAIN",LK:"SRI LANKA",SD:"SUDAN",SR:"SURINAME",SJ:"SVALBARD AND JAN MAYEN",SZ:"SWAZILAND",SE:"SWEDEN",CH:"SWITZERLAND",SY:"SYRIAN ARAB REPUBLIC",TW:"TAIWAN, REPUBLIC OF CHINA",TJ:"TAJIKISTAN",TZ:"TANZANIA, UNITED REPUBLIC OF",TH:"THAILAND",TL:"TIMOR-LESTE",TG:"TOGO",TK:"TOKELAU",TO:"TONGA",TT:"TRINIDAD AND TOBAGO",TN:"TUNISIA",TR:"TURKEY",TM:"TURKMENISTAN",TC:"TURKS AND CAICOS ISLANDS",TV:"TUVALU",UG:"UGANDA",UA:"UKRAINE",AE:"UNITED ARAB EMIRATES",GB:"UNITED KINGDOM",US:"UNITED STATES",UM:"UNITED STATES MINOR OUTLYING ISLANDS",UY:"URUGUAY",UZ:"UZBEKISTAN",VE:"VENEZUELA",VU:"VANUATU",VN:"VIET NAM",VG:"BRITISH VIRGIN ISLANDS",VI:"U.S. VIRGIN ISLANDS",WF:"WALLIS AND FUTUNA",YE:"YEMEN",ZW:"ZIMBABWE"}},ufpW:function(t,e){},uslO:function(t,e,s){var a={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-SG":"oYA3","./en-SG.js":"oYA3","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function n(t){return s(r(t))}function r(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}n.keys=function(){return Object.keys(a)},n.resolve=r,t.exports=n,n.id="uslO"},vblm:function(t,e){},xmo3:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.bcf7fcf4ab7e40442491.js.map
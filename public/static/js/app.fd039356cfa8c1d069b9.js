webpackJsonp([1],{0:function(t,e){},"149h":function(t,e){},"4cty":function(t,e){},"6+Q0":function(t,e){},"7zck":function(t,e){},"A4+r":function(t,e){},De4p:function(t,e){},Ft0Z:function(t,e){},HRD3:function(t,e){},L4jK:function(t,e){},LFDC:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),i=s("3EgV"),r=s.n(i),n=s("8+8L"),o=(s("7zck"),s("/ocq")),l={name:"Users",data:function(){return{users:[]}},methods:{fetchUsers:function(){var t=this;this.$http.get("http://localhost:80/matcha/public/api/users").then(function(e){return t.users=e.body}).catch(function(t){return console.error(t)})}},created:function(){this.fetchUsers()}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("div",{staticClass:"users"},[s("v-layout",{attrs:{row:"",wrap:""}},t._l(t.users,function(e){return s("v-flex",{key:e.id,staticClass:"py-2",attrs:{xs12:"",md6:""}},[t._v("\n\t\t\t\t"+t._s(e)+"\n\t\t\t")])}),1)],1)])},staticRenderFns:[]};var u=s("VU/8")(l,c,!1,function(t){s("6+Q0")},"data-v-75eeb501",null).exports,d={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"about container"},[e("h1",{staticClass:"page-header"},[this._v("About")])])}]};var h=s("VU/8")({name:"About",data:function(){return{}}},d,!1,function(t){s("Ft0Z")},"data-v-ceb6431a",null).exports,f={name:"Login",data:function(){return{valid:!1,showPass:!1,username:"",password:"",userAdded:!1,userFailed:!1,nameRules:[function(t){return!!t||"This field is required"}],usernameRules:[function(t){return!!t||"This field is required"},function(t){return t.length>=8||"Username must be at least 8 characters long"}],emailRules:[function(t){return!!t||"This field is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],passRules:[function(t){return!!t||"This field is required"},function(t){return/^(?=.*\d)(?=.*[A-Za-z])[0-9A-Za-z!@#$%]+$/.test(t)||"Password must contain at least one letter, one number and one special char"},function(t){return t.length>=8||"Password must be at least 8 characters long"}]}},methods:{login:function(){var t=this;this.$http.post("http://localhost:80/matcha/public/api/user/login",{username:this.username,password:this.password}).then(function(e){e.body.tokenExpiration&&Date.parse(e.body.tokenExpiration)>=Date.now()&&(t.$store.dispatch("login",e.body),t.$router.push("/"))}).catch(function(t){return console.error(t)})}}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"mt-4"},[s("transition",{attrs:{name:"alert"}},[t.userFailed?s("v-alert",{staticClass:"alert",attrs:{value:!0,dismissible:"",type:"error",color:"error",icon:"warning",transition:"scale-transition"}},[t._v("\n\t\t\tOups .. something went wrong !\n\t\t")]):t._e(),t._v(" "),t.userAdded?s("v-alert",{staticClass:"alert",attrs:{value:!0,dismissible:"",type:"success",color:"success",icon:"check_circle",transition:"scale-transition"}},[t._v("\n\t\t\tYou have been successfully registered, please verify your email\n\t\t")]):t._e()],1),t._v(" "),s("div",{staticClass:"login mt-5"},[s("h1",{staticClass:"page-header display-3 font-weight-light grey--text"},[t._v("Login")]),t._v(" "),s("v-form",{staticClass:"my-4",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-text-field",{staticClass:"my-5",attrs:{color:"primary","validate-on-blur":"",rules:t.usernameRules,label:"Username",required:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),s("v-text-field",{staticClass:"my-5",attrs:{color:"primary","validate-on-blur":"",rules:t.passRules,label:"Password",required:"","append-icon":t.showPass?"visibility":"visibility_off",type:t.showPass?"text":"password"},on:{"click:append":function(e){t.showPass=!t.showPass}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),s("v-btn",{staticClass:"mt-5",attrs:{block:"",large:"",depressed:"",color:"primary",dark:""},on:{click:function(e){return e.preventDefault(),t.login(e)}}},[t._v("Login")]),t._v(" "),s("v-layout",{attrs:{row:"","justify-end":""}},[s("v-btn",{attrs:{flat:"",color:"primary",dark:"",to:"/register"}},[t._v("Don't have an account? Sign up")])],1)],1)],1)],1)},staticRenderFns:[]};var m=s("VU/8")(f,v,!1,function(t){s("HRD3")},null,null).exports,g={name:"Register",data:function(){return{firstname:"",lastname:"",username:"",password:"",passwordConfirm:"",email:"",valid:!1,showPass:!1,showConfPass:!1,userAdded:!1,userFailed:!1,rules:{name:[function(t){return!!t||"This field is required"}],username:[function(t){return!!t||"This field is required"},function(t){return t.length>=8||"Username must be at least 8 characters long"}],email:[function(t){return!!t||"This field is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],password:[function(t){return!!t||"This field is required"},function(t){return/^(?=.*\d)(?=.*[A-Za-z])[0-9A-Za-z!@#$%]+$/.test(t)||"Password must contain at least one letter, one number and one special char"},function(t){return t.length>=8||"Password must be at least 8 characters long"}]}}},methods:{registerUser:function(t){var e=this;t.preventDefault(),this.$http.post("http://localhost:80/matcha/public/api/user/add",{first_name:this.firstname,last_name:this.lastname,username:this.username,email:this.email,password:this.password}).then(function(t){t.body&&t.body.ok?(e.userAdded=!0,setTimeout(function(){return e.userAdded=!1},5e3)):(e.userAdded=!1,e.userFailed=!0,setTimeout(function(){return e.userFailed=!1},5e3))}).catch(function(t){return console.error(t)})},passwordMatch:function(){return this.passwordConfirm.length&&this.password!==this.passwordConfirm?"Passwords must match":""}}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"mt-4"},[s("transition",{attrs:{name:"alert"}},[t.userFailed?s("v-alert",{staticClass:"alert",attrs:{value:!0,dismissible:"",type:"error",color:"error",icon:"warning",transition:"scale-transition"}},[t._v("\n\t\t\tOups .. something went wrong !\n\t\t")]):t._e(),t._v(" "),t.userAdded?s("v-alert",{staticClass:"alert",attrs:{value:!0,dismissible:"",type:"success",color:"success",icon:"check_circle",transition:"scale-transition"}},[t._v("\n\t\t\tYou have been successfully registered, please verify your email\n\t\t")]):t._e()],1),t._v(" "),s("div",{staticClass:"register mt-5"},[s("h1",{staticClass:"page-header display-3 mb-4 font-weight-light grey--text"},[t._v("Register")]),t._v(" "),s("v-form",{staticClass:"my-4",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-text-field",{staticClass:"my-3",attrs:{color:"primary","validate-on-blur":"",rules:t.rules.name,label:"First name",required:""},model:{value:t.firstname,callback:function(e){t.firstname=e},expression:"firstname"}}),t._v(" "),s("v-text-field",{staticClass:"my-3",attrs:{color:"primary","validate-on-blur":"",rules:t.rules.name,label:"Last name",required:""},model:{value:t.lastname,callback:function(e){t.lastname=e},expression:"lastname"}}),t._v(" "),s("v-text-field",{staticClass:"my-3",attrs:{color:"primary","validate-on-blur":"",rules:t.rules.username,counter:10,label:"Username",required:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),s("v-text-field",{staticClass:"my-3",attrs:{color:"primary","validate-on-blur":"",rules:t.rules.email,label:"E-mail",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),s("v-text-field",{staticClass:"my-3",attrs:{color:"primary","validate-on-blur":"",counter:12,rules:t.rules.password,label:"Password",required:"","append-icon":t.showPass?"visibility":"visibility_off",type:t.showPass?"text":"password"},on:{"click:append":function(e){t.showPass=!t.showPass}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),s("v-text-field",{staticClass:"my-3",attrs:{color:"primary","validate-on-blur":"",counter:12,label:"Confirm Password",required:"","append-icon":t.showConfPass?"visibility":"visibility_off",type:t.showConfPass?"text":"password","error-messages":t.passwordMatch()},on:{"click:append":function(e){t.showConfPass=!t.showConfPass}},model:{value:t.passwordConfirm,callback:function(e){t.passwordConfirm=e},expression:"passwordConfirm"}}),t._v(" "),s("v-btn",{staticClass:"mt-5 white--text",attrs:{block:"",large:"",depressed:"",color:"primary",disabled:!t.valid},on:{click:t.registerUser}},[t._v("Submit")]),t._v(" "),s("v-layout",{attrs:{row:"","justify-end":""}},[s("v-btn",{attrs:{flat:"",color:"primary",dark:"",to:"/login"}},[t._v("Have an account? Login")])],1)],1)],1)],1)},staticRenderFns:[]};var b=s("VU/8")(g,p,!1,function(t){s("eJjC")},null,null).exports,_=s("Dd8w"),y=s.n(_),A={name:"Alert",data:function(){return{}},props:{data:{type:Object,default:function(){return{state:!1,color:"",text:""}}}}},I={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-snackbar",{attrs:{color:t.data.color,timeout:4e3,"auto-height":"",top:"",right:""},model:{value:t.data.state,callback:function(e){t.$set(t.data,"state",e)},expression:"data.state"}},[t._v("\n\t"+t._s(t.data.text)+" \n\t"),s("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.data.state=!1}}},[s("v-icon",[t._v("close")])],1)],1)},staticRenderFns:[]};var x=s("VU/8")(A,I,!1,function(t){s("Z0wU")},null,null).exports,C=s("PJh5"),E=s.n(C),w=function(t){a.default.http.get("https://get.geojs.io/v1/ip/geo.json").then(function(e){return t((s=e.body,{lat:Number(s.latitude),lng:Number(s.longitude)}));var s}).catch(function(t){return console.error(t)})},N=function(t,e){a.default.http.post("http://localhost:80/matcha/public/api/user/position/"+t,y()({},e)).then(function(){return console.log("synced")}).catch(function(t){return console.error(t)})},k={getMatches:function(t,e){a.default.http.post("http://localhost:80/matcha/public/api/user/getmatches",{id:e}).then(function(e){return t(e)}).catch(function(t){return console.error(t)})},getBlocked:function(t,e){a.default.http.post("http://localhost:80/matcha/public/api/user/getblocked",{id:e}).then(function(e){return t(e)}).catch(function(t){return console.error(t)})},syncHistory:function(t,e){a.default.http.post("http://localhost:80/matcha/public/api/user/gethistory",{id:e}).then(function(e){return t(e)}).catch(function(t){return console.error(t)})},syncLocation:N,getLocationFromIp:w,getFullPath:function(t){return(e=t)&&(e.indexOf(":")>-1||e.indexOf("//")>-1||e.indexOf("www.")>-1)?t:"http://localhost:80/matcha/uploads/"+(t||"default.jpg");var e},calculateDistance:function(t,e,s){if(t.lat==e.lat&&t.lng==e.lng)return 0;var a=t.lng-e.lng,i=Math.PI*a/180;t.rad=Math.PI*t.lat/180,e.rad=Math.PI*e.lat/180;var r=Math.sin(t.rad)*Math.sin(e.rad)+Math.cos(t.rad)*Math.cos(e.rad)*Math.cos(i);return r=r>1?1:r,r=60*(r=180*(r=Math.acos(r))/Math.PI)*1.1515,s?r:1.609344*r},updateLocation:function(t){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){return N(t,{lat:e.coords.latitude,lng:e.coords.longitude})},function(){return w(function(e){return N(t,{lat:Number(e.body.latitude),lng:Number(e.body.longitude)})})}):w(function(e){return N(t,{lat:Number(e.body.latitude),lng:Number(e.body.longitude)})})},getHistoryAction:function(t){switch(t){case"visited":return"You visited";case"visitor":return"Visited your profile";case"follower":return"Liked you";case"following":return"You liked"}},getDate:function(t){switch(t.type){case"visitor":case"visited":return t.visit_date;case"follower":case"following":return t.match_date}}},R=s("vdhV"),S={name:"ProfileForm",components:{VueTagsInput:R.VueTagsInput},data:function(){return{isEditing:!1,menu:!1,tag:"",tags:[],genders:["male","female"],looking:["male","female","both"]}},props:{user:{type:Object,default:function(){return{}}}},watch:{user:{handler:"syncUser",immediate:!0},tags:function(){this.user.tags=this.tags.map(function(t){return t.text.toLowerCase()}).join(",")}},computed:{birthdate:function(){return E()(this.user.birthdate).format("MMMM D, YYYY")}},methods:y()({},k,{syncUser:function(){var t=this.user.tags?this.user.tags.split(","):[];this.tags=t?Object(R.createTags)(t):[],this.$emit("sync-user",this.user)},updateUser:function(){this.$emit("update-user",this.user)}})},L={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-btn",{staticClass:"edit",attrs:{color:"grey lighten-5",fab:"",small:""},on:{click:function(e){t.isEditing=!t.isEditing}}},[t.isEditing?s("v-icon",[t._v("close")]):s("v-icon",[t._v("edit")])],1),t._v(" "),s("h1",{staticClass:"heading display-2 font-weight-thin pt-4 pb-3 mb-4 hidden-sm-and-down"},[t._v("Informations")]),t._v(" "),s("v-form",{staticClass:"mt-4"},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{disabled:!t.isEditing,color:"primary",label:"Username"},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-text-field",{attrs:{disabled:!t.isEditing,label:"First Name",color:"primary"},model:{value:t.user.first_name,callback:function(e){t.$set(t.user,"first_name",e)},expression:"user.first_name"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-text-field",{attrs:{disabled:!t.isEditing,label:"Last Name",color:"primary"},model:{value:t.user.last_name,callback:function(e){t.$set(t.user,"last_name",e)},expression:"user.last_name"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-text-field",{attrs:{disabled:!t.isEditing,label:"Phone Number",color:"primary"},model:{value:t.user.phone,callback:function(e){t.$set(t.user,"phone",e)},expression:"user.phone"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-text-field",t._g({attrs:{disabled:!t.isEditing,color:"primary",value:t.birthdate,label:"Birth Date",readonly:""}},a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),s("v-date-picker",{attrs:{color:"primary"},on:{input:function(e){t.menu=!1}},model:{value:t.user.birthdate,callback:function(e){t.$set(t.user,"birthdate",e)},expression:"user.birthdate"}})],1)],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-select",{attrs:{disabled:!t.isEditing,color:"primary",items:t.genders,label:"Gender"},model:{value:t.user.gender,callback:function(e){t.$set(t.user,"gender",e)},expression:"user.gender"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-select",{attrs:{disabled:!t.isEditing,color:"primary",items:t.looking,label:"Looking For"},model:{value:t.user.looking,callback:function(e){t.$set(t.user,"looking",e)},expression:"user.looking"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{disabled:!t.isEditing,label:"Address",color:"primary"},model:{value:t.user.address,callback:function(e){t.$set(t.user,"address",e)},expression:"user.address"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm4:""}},[s("v-text-field",{attrs:{disabled:!t.isEditing,label:"City",color:"primary"},model:{value:t.user.city,callback:function(e){t.$set(t.user,"city",e)},expression:"user.city"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm4:""}},[s("v-text-field",{attrs:{disabled:!t.isEditing,label:"Country",color:"primary"},model:{value:t.user.country,callback:function(e){t.$set(t.user,"country",e)},expression:"user.country"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm4:""}},[s("v-text-field",{attrs:{disabled:!t.isEditing,color:"primary",label:"Postal Code",type:"number"},model:{value:t.user.postal_code,callback:function(e){t.$set(t.user,"postal_code",e)},expression:"user.postal_code"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("vue-tags-input",{attrs:{disabled:!t.isEditing,tags:t.tags},on:{"tags-changed":function(e){return t.tags=e}},model:{value:t.tag,callback:function(e){t.tag=e},expression:"tag"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("v-textarea",{attrs:{disabled:!t.isEditing,color:"primary",label:"Bio"},model:{value:t.user.biography,callback:function(e){t.$set(t.user,"biography",e)},expression:"user.biography"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"","text-xs-right":""}},[s("v-btn",{staticClass:"mx-0 font-weight-light",attrs:{disabled:!t.isEditing,color:"primary",large:"",dark:""},on:{click:function(e){return e.preventDefault(),t.updateUser(e)}}},[t._v("Save")])],1)],1)],1)],1)},staticRenderFns:[]};var T=s("VU/8")(S,L,!1,function(t){s("De4p")},null,null).exports,D={name:"ProfileTabs",data:function(){return this.links=[{icon:"person",text:"Info",route:"profile"},{icon:"photo_camera",text:"Pictures",route:"photo"}],this.settings&&(this.links[0].text="Profile",this.links.push({icon:"history",text:"History",route:"history"}),this.links.push({icon:"settings",text:"Preferences",route:"setting"})),{activeTab:null}},props:{settings:{type:Boolean,default:!1},mobile:{type:Boolean,default:!1},active:{type:String,default:""}},watch:{active:{immediate:!0,handler:"sync"},activeTab:function(){this.$emit("change-tab",this.activeTab)}},methods:{sync:function(){this.activeTab=this.active}}},U={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-flex",{class:t.mobile?"hidden-md-and-up pb-0 mt-5":"hidden-sm-and-down",attrs:{md8:""}},[s("v-tabs",{attrs:{"fixed-tabs":"",centered:"",color:"grey lighten-"+(t.mobile?5:3),"slider-color":"primary"},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},t._l(t.links,function(e){return s("v-tab",{key:e.route,attrs:{href:"#tab-"+e.route}},[s("v-icon",{attrs:{left:!t.mobile}},[t._v(t._s(e.icon))]),t._v(" "),s("span",{class:t.mobile?"pl-3 hidden-xs-only":""},[t._v(t._s(e.text))])],1)}),1)],1)},staticRenderFns:[]};var M=s("VU/8")(D,U,!1,function(t){s("LFDC")},null,null).exports,O={name:"ProfileBadge",props:{settings:{type:Boolean,default:!1},user:{type:Object,default:function(){return{}}}},computed:{fields:function(){return[{exist:!0,icon:"calendar_today",text:"Joined "+E()(this.user.created_at).format("MMMM YYYY")},{exist:!!this.user.birthdate,icon:"child_care",text:"Born "+E()(this.user.birthdate).format("MMMM D, YYYY")},{exist:!!this.user.city&&!!this.user.country,icon:"location_on",text:this.user.city+", "+this.user.country}]}},methods:y()({},k)},j={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{"justify-center":"","py-0":""}},[s("v-flex",{staticClass:"badge text-capitalize",attrs:{xs12:"",sm11:"",md9:"","offset-lg3":"","offset-xl4":"","offset-md2":"","offset-sm1":""}},[s("h2",{staticClass:"title mb-2"},[t._v(t._s(t.user.first_name+" "+t.user.last_name))]),t._v(" "),s("h4",{staticClass:"font-weight-thin mb-3"},[t._v(t._s("@"+t.user.username))]),t._v(" "),t._l(t.fields,function(e){return s("div",{key:e.icon,staticClass:"font-weight-light text-truncate"},[e.exist?s("p",{staticClass:"my-2"},[s("v-icon",{attrs:{small:""}},[t._v(t._s(e.icon))]),t._v(" "),s("span",{staticClass:"ml-2"},[t._v(t._s(e.text))])],1):t._e()])}),t._v(" "),t.settings?t._e():s("v-layout",{attrs:{"align-center":"","justify-start":"","px-2":""}},[s("p",{staticClass:"caption rating_value ma-0 rating_value"},[t._v(t._s(t.user.rating?t.user.rating.toFixed(1):0))]),t._v(" "),s("v-rating",{staticClass:"rating mt-1",attrs:{readonly:"",dense:"",value:t.user.rating,"half-increments":""}})],1)],2)],1)},staticRenderFns:[]};var P=s("VU/8")(O,j,!1,function(t){s("pguh")},null,null).exports,B={name:"ProfileHistory",data:function(){return{limit:15}},computed:{history:function(){var t=this;return this.$store.getters.history.filter(function(e){return!t.$store.getters.blocked.includes(e.id)}).sort(function(e,s){return new Date(t.getDate(s))-new Date(t.getDate(e))}).slice(0,this.limit)},moreToLoad:function(){return this.limit<this.$store.getters.history.length-1}},methods:y()({},k,{fromNow:function(t){return E.a.utc(t).fromNow()},formatTime:function(t){return E()(this.getDate(t)).format("MMM Do YY, h:mm a")},increaseLimit:function(){this.limit+11<this.$store.getters.history.length?this.limit+=10:this.limit=this.$store.getters.history.length-1}})},F={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("h1",{staticClass:"heading display-2 text-xs-center text-md-left font-weight-thin pt-4 pb-3 mb-4 hidden-sm-and-down"},[t._v("History")]),t._v(" "),s("v-timeline",{attrs:{"align-top":"",dense:""}},t._l(t.history,function(e,a){return s("v-timeline-item",{key:a,attrs:{color:"primary",small:""}},[s("v-layout",{staticClass:"history_item",attrs:{"py-3":""}},[s("v-flex",{attrs:{xs3:""}},[s("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(a){var i=a.on;return[s("strong",t._g({staticClass:"mt-2 d-block"},i),[t._v(t._s(t.fromNow(t.getDate(e))))])]}}],null,!0)},[t._v(" "),s("span",[t._v(t._s(t.formatTime(e)))])])],1),t._v(" "),s("v-flex",{attrs:{"pt-0":""}},[s("v-chip",{staticClass:"bubble grey lighten-5 px-2 py-2",attrs:{disabled:""}},[s("router-link",{attrs:{to:"/user/"+e.id}},[s("v-avatar",[s("img",{attrs:{src:t.getFullPath(e.profile_image),alt:e.username}})])],1),t._v(" "),"follower"!==e.type&&"visitor"!==e.type?s("span",{staticClass:"mr-1"},[t._v(t._s(t.getHistoryAction(e.type)))]):t._e(),t._v(" "),s("span",[s("router-link",{staticClass:"timeline_link",attrs:{to:"/user/"+e.id}},[t._v(t._s(e.username))])],1),t._v(" "),"follower"===e.type||"visitor"===e.type?s("span",{staticClass:"ml-1"},[t._v(t._s(t.getHistoryAction(e.type)))]):t._e(),t._v(" "),"visited"===e.type?s("span",[t._v("'s profile")]):t._e()],1)],1)],1)],1)}),1),t._v(" "),s("v-flex",{attrs:{xs6:"","offset-xs3":""}},[t.moreToLoad?s("v-btn",{staticClass:"my-4",attrs:{large:"",color:"primary",flat:"",round:""},on:{click:t.increaseLimit}},[t._v("Load More")]):t._e()],1)],1)},staticRenderFns:[]};var $=s("VU/8")(B,F,!1,function(t){s("s/Lw")},null,null).exports,G={props:{image:{type:String,default:""},border:{type:Number,default:25},borderRadius:{type:Number,default:0},width:{type:Number,default:200},height:{type:Number,default:200},color:{type:Array,default:function(){return[0,0,0,.5]}}},data:function(){return{cursor:"cursorPointer",scale:1,canvas:null,context:null,dragged:!1,imageLoaded:!1,changed:!1,state:{drag:!1,my:null,mx:null,xxx:"ab",image:{x:0,y:0,resource:null}}}},computed:{canvasWidth:function(){return this.getDimensions().canvas.width},canvasHeight:function(){return this.getDimensions().canvas.height}},mounted:function(){this.init()},methods:{clearCanvas:function(){this.context.clearRect(0,0,this.width,this.height)},init:function(){if(this.canvas=this.$refs.canvas,this.context=this.canvas.getContext("2d"),this.paint(),this.clearCanvas(),this.image)this.loadImage(this.image);else{var t=this.svgToImage(this.context,'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 65 65"><defs><style>.cls-1{fill:#999;}</style></defs><title>Upload_Upload</title><path class="cls-1" d="M32.5,1A31.5,31.5,0,1,1,1,32.5,31.54,31.54,0,0,1,32.5,1m0-1A32.5,32.5,0,1,0,65,32.5,32.5,32.5,0,0,0,32.5,0h0Z"/><polygon class="cls-1" points="41.91 28.2 32.59 18.65 23.09 28.39 24.17 29.44 31.87 21.54 31.87 40.05 33.37 40.05 33.37 21.59 40.83 29.25 41.91 28.2"/><polygon class="cls-1" points="40.66 40.35 40.66 44.35 24.34 44.35 24.34 40.35 22.34 40.35 22.34 44.35 22.34 46.35 24.34 46.35 40.66 46.35 42.66 46.35 42.66 44.35 42.66 40.35 40.66 40.35"/></svg>'),e=this;t.onload=function(){e.getDimensions();var s=e.canvasWidth/2-this.width/2,a=e.canvasHeight/2-this.height/2;e.context.drawImage(t,s,a,this.width,this.height)}}},svgToImage:function(t,e){var s=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),a=(self.URL||self.webkitURL||self).createObjectURL(s),i=new Image;return i.src=a,i},setState:function(t){var e=Math.ceil(1),s=Math.floor(1e4);this.state=t,this.state.cnt="HELLO"+Math.floor(Math.random()*(s-e))+e},paint:function(){this.context.save(),this.context.translate(0,0),this.context.fillStyle="rgba("+this.color.slice(0,4).join(",")+")";var t=this.borderRadius,e=this.getDimensions(),s=e.border,a=e.canvas.height,i=e.canvas.width;t=Math.max(t,0),t=Math.min(t,i/2-s,a/2-s),this.context.beginPath(),function(t,e,s,a,i,r){if(0===r)t.rect(e,s,a,i);else{var n=a-r,o=i-r;t.translate(e,s),t.arc(r,r,r,Math.PI,1.5*Math.PI),t.lineTo(n,0),t.arc(n,r,r,1.5*Math.PI,2*Math.PI),t.lineTo(a,o),t.arc(n,o,r,2*Math.PI,.5*Math.PI),t.lineTo(r,i),t.arc(r,o,r,.5*Math.PI,Math.PI),t.translate(-e,-s)}}(this.context,s,s,i-2*s,a-2*s,t),this.context.rect(i,0,-i,a),this.context.fill("evenodd"),this.context.restore()},getDimensions:function(){return{width:this.width,height:this.height,border:this.border,canvas:{width:this.width+2*this.border,height:this.height+2*this.border}}},onDrop:function(t){var e=this;if((t=t||window.event).stopPropagation(),t.preventDefault(),t.dataTransfer&&t.dataTransfer.files.length){var s=new FileReader,a=t.dataTransfer.files[0];this.changed=!0,s.onload=function(t){return e.loadImage(t.target.result)},s.readAsDataURL(a)}},onDragStart:function(t){(t=t||window.event).preventDefault(),this.state.drag=!0,this.state.mx=null,this.state.my=null,this.cursor="cursorGrabbing"},onDragEnd:function(t){this.state.drag&&(this.state.drag=!1,this.cursor="cursorPointer")},onMouseMove:function(t){if(t=t||window.event,!1!==this.state.drag){this.dragged=!0,this.changed=!0;var e=this.state.image,s=e.x,a=e.y,i=t.targetTouches?t.targetTouches[0].pageX:t.clientX,r=t.targetTouches?t.targetTouches[0].pageY:t.clientY,n={mx:i,my:r,image:e};if(this.state.mx&&this.state.my){var o=(this.state.mx-i)/this.scale,l=(this.state.my-r)/this.scale;e.y=this.getBoundedY(a-l,this.scale),e.x=this.getBoundedX(s-o,this.scale)}this.state.mx=n.mx,this.state.my=n.my,this.state.image=e}},loadImage:function(t){var e=new Image,s=this;e.onload=function(){s.handleImageReady(e)},this.isDataURL(t)||(e.crossOrigin="anonymous"),e.src=t},handleImageReady:function(t){var e=this.getInitialSize(t.width,t.height);e.resource=t,e.x=0,e.y=0;var s=this.state;s.drag=!1,s.image=e,this.state.image.x=0,this.state.image.y=0,this.state.image.resource=t,this.state.image.width=e.width,this.state.image.height=e.height,this.state.drag=!1,this.scale=1,this.$emit("vue-avatar-editor:image-ready",this.scale),this.imageLoaded=!0,this.cursor="cursorGrab"},getInitialSize:function(t,e){var s=void 0,a=void 0,i=this.getDimensions();return i.height/i.width>e/t?a=t*((s=this.getDimensions().height)/e):s=e*((a=this.getDimensions().width)/t),{height:s,width:a}},isDataURL:function(t){return null!==t&&!!t.match(/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+=[a-z\-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\-._~:@\/?%\s]*\s*$/i)},getBoundedX:function(t,e){var s=this.state.image,a=this.getDimensions(),i=Math.floor((s.width-a.width/e)/2);return i=Math.max(0,i),Math.max(-i,Math.min(t,i))},getBoundedY:function(t,e){var s=this.state.image,a=this.getDimensions(),i=Math.floor((s.height-a.height/e)/2);return i=Math.max(0,i),Math.max(-i,Math.min(t,i))},paintImage:function(t,e,s){if(e.resource){var a=this.calculatePosition(e,s);t.save(),t.globalCompositeOperation="destination-over",t.drawImage(e.resource,a.x,a.y,a.width,a.height),t.restore()}},calculatePosition:function(t,e){t=t||this.state.image;var s=this.getDimensions(),a=t.width*this.scale,i=t.height*this.scale,r=(a-s.width)/2,n=(i-s.height)/2;return{x:t.x*this.scale-r+e,y:t.y*this.scale-n+e,height:i,width:a}},changeScale:function(t){this.changed=!0,this.scale=t},redraw:function(){this.context.clearRect(0,0,this.getDimensions().canvas.width,this.getDimensions().canvas.height),this.paint(),this.paintImage(this.context,this.state.image,this.border)},getImage:function(){var t=this.getCroppingRect(),e=this.state.image;t.x*=e.resource.width,t.y*=e.resource.height,t.width*=e.resource.width,t.height*=e.resource.height;var s=document.createElement("canvas");return s.width=t.width,s.height=t.height,s.getContext("2d").drawImage(e.resource,-t.x,-t.y),s},getImageScaled:function(){var t=this.getDimensions(),e=t.width,s=t.height,a=document.createElement("canvas");return a.width=e,a.height=s,this.paintImage(a.getContext("2d"),this.state.image,0),this.image="",this.init(),a},imageChanged:function(){return this.changed},getCroppingRect:function(){var t=this.getDimensions(),e=t.border,s=t.border,a=t.width,i=t.height,r=this.calculatePosition(this.state.image,t.border);return{x:(e-r.x)/r.width,y:(s-r.y)/r.height,width:a/r.width,height:i/r.height}},clicked:function(t){1==this.dragged?this.dragged=!1:document.getElementById("profileInput").click()},fileSelected:function(t){var e=this,s=t.target.files||t.dataTransfer.files;if(s.length){new Image;var a=new FileReader;this.changed=!0,a.onload=function(t){return e.loadImage(t.target.result)},a.readAsDataURL(s[0])}}},watch:{state:{handler:function(t,e){1==this.imageLoaded&&this.redraw()},deep:!0},scale:function(){1==this.imageLoaded&&this.redraw()}}},H={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"editor"},[s("canvas",{ref:"canvas",class:t.cursor,attrs:{id:"canvas__editor",width:t.canvasWidth,height:t.canvasHeight},on:{dragover:function(t){t.preventDefault()},drop:t.onDrop,mousedown:t.onDragStart,mouseup:t.onDragEnd,mousemove:t.onMouseMove,click:t.clicked}}),t._v(" "),s("input",{staticClass:"d-none",attrs:{type:"file",id:"profileInput",accept:"image/*"},on:{change:t.fileSelected}})])},staticRenderFns:[]};var z=s("VU/8")(G,H,!1,function(t){s("nHKm")},null,null).exports,V={data:function(){return{scale:1}},props:{min:{type:Number,default:1},max:{type:Number,default:2},width:{type:Number,default:200},step:{type:Number,default:.01}},methods:{setScale:function(t){this.scale=t},zoomOut:function(){this.scale-=.1},zoomIn:function(){this.scale+=.1},reset:function(){this.scale=this.min}},watch:{scale:function(){this.$emit("vue-avatar-editor-scale:change-scale",this.scale)}}},Y={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-slider",{style:{width:t.width+"px"},attrs:{"append-icon":"zoom_in","prepend-icon":"zoom_out",min:t.min,max:t.max,step:t.step},on:{"click:append":t.zoomIn,"click:prepend":t.zoomOut},model:{value:t.scale,callback:function(e){t.scale=e},expression:"scale"}})},staticRenderFns:[]},K={name:"ProfileEditor",components:{VueAvatar:z,VueAvatarScale:s("VU/8")(V,Y,!1,null,null,null).exports},data:function(){return{dialog:!1}},props:{user:{type:Object,default:function(){return{}}}},methods:y()({},k,{closeEditor:function(){this.dialog=!1,this.$refs.vueavatar.init()},pickFile:function(){this.$refs.vueavatar.clicked(),this.dialog=!0},onChangeScale:function(t){this.$refs.vueavatar.changeScale(t)},saveClicked:function(){this.$emit("update-image",this.$refs.vueavatar.getImageScaled().toDataURL()),this.$refs.vueavatarscale.reset(),this.dialog=!1},onImageReady:function(t){this.$refs.vueavatarscale.setScale(t)}})},W={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{"max-width":"500",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",{staticClass:"grey lighten-3"},[s("v-layout",{attrs:{column:"","align-center":"","justify-center":"","pt-4":""}},[s("vue-avatar",{ref:"vueavatar",staticClass:"mb-3",attrs:{width:400,height:400,border:0},on:{"vue-avatar-editor:image-ready":t.onImageReady}}),t._v(" "),s("vue-avatar-scale",{ref:"vueavatarscale",attrs:{width:250,min:1,max:3,step:.02},on:{"vue-avatar-editor-scale:change-scale":t.onChangeScale}})],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{flat:"",color:"primary"},on:{click:t.closeEditor}},[t._v("Cancel")]),t._v(" "),s("v-btn",{attrs:{flat:"",color:"primary"},on:{click:t.saveClicked}},[t._v("Save")])],1)],1)],1)},staticRenderFns:[]},Z=s("VU/8")(K,W,!1,null,null,null).exports,q={name:"ProfileTabs",data:function(){return{}},props:{images:{type:Array,default:function(){return[]}}},methods:{profileImage:function(t){return k.getFullPath(t)}}},J={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{"grid-list-sm":""}},[s("h1",{staticClass:"heading display-2 font-weight-thin py-3 mb-4 hidden-sm-and-down"},[t._v("Pictures")]),t._v(" "),s("v-layout",{staticClass:"mt-4",attrs:{row:"",wrap:""}},t._l(t.images,function(e){return s("v-flex",{key:e.id,attrs:{xs4:"",grow:""}},[s("img",{staticClass:"image",attrs:{src:t.profileImage(e.name),width:"100%",height:"100%"}})])}),1)],1)},staticRenderFns:[]};var X=s("VU/8")(q,J,!1,function(t){s("L4jK")},null,null).exports,Q={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-container",[e("h1",{staticClass:"heading display-2 text-xs-center text-md-left font-weight-thin pt-4 pb-3 mb-4 hidden-sm-and-down"},[this._v("Settings")]),this._v(" "),e("v-card-text",{staticClass:"mt-4"},[this._v("Lorem ipsum dolor sit amet consectetur adipisicing elit. Cupiditate consequatur odit suscipit reiciendis veritatis magni facilis nesciunt natus fuga incidunt.")])],1)},staticRenderFns:[]},tt=s("VU/8")({name:"ProfileSettings",data:function(){return{}}},Q,!1,null,null,null).exports,et={name:"Settings",components:{Alert:x,ProfileTabs:M,ProfileForm:T,ProfileBadge:P,ProfileHistory:$,ProfileEditor:Z,ProfileGallery:X,ProfileSettings:tt},data:function(){return{activeTab:"tab-profile",alert:{state:!1,color:"",text:""}}},created:function(){this.$store.dispatch("syncHistory",this.$store.getters.user.id),this.$store.dispatch("syncMatches",this.$store.getters.user.id)},computed:{user:{get:function(){return y()({},this.$store.getters.user)},set:function(t){}},profileImage:function(){return this.getFullPath(this.$store.getters.profileImage)}},watch:{user:{immediate:!0,handler:function(){this.user.token&&this.user.token==localStorage.getItem("token")||this.$router.push("/")}}},methods:y()({},k,{updateUser:function(){var t=this;this.$http.post("http://localhost:80/matcha/public/api/user/update/"+this.user.id,y()({},this.user)).then(function(e){e&&e.body&&e.body.ok?(t.showAlert("success","Your account has been updated successfuly"),t.$store.dispatch("updateUser",t.user)):(t.showAlert("red","Ouups something went wrong!"),console.log(e))}).catch(function(t){return console.error(t)})},updateImage:function(t){var e=this,s=new FormData;s.append("image",t),s.append("profile",1),this.$http.post("http://localhost:80/matcha/public/api/user/image/"+this.user.id,s).then(function(t){t&&t.body&&t.body.ok?(e.showAlert("success","You profile image has been updated successfuly"),e.$store.commit("updateProfileImage",t.body.name)):(e.showAlert("red","Ouups something went wrong!"),console.log(t))}).catch(function(t){return console.error(t)})},showAlert:function(t,e){this.alert={state:!0,color:t,text:e}},syncUser:function(t){this.user=t},changeTab:function(t){this.activeTab=t},openEditor:function(){this.$refs.profile_editor.pickFile()}})},st={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{staticClass:"settings",attrs:{column:""}},[s("div",{staticClass:"parallax"}),t._v(" "),s("v-layout",{staticClass:"py-0 strap grey lighten-3"},[s("v-container",{attrs:{"py-0":""}},[s("v-layout",[s("v-flex",{staticClass:"avatar",attrs:{xs12:"",sm8:"",md4:""}},[s("v-avatar",{staticClass:"mx-auto d-block",attrs:{slot:"offset",size:"200"},slot:"offset"},[s("img",{staticClass:"avatar__img",attrs:{src:t.profileImage}}),t._v(" "),s("div",{staticClass:"avatar__btn"},[s("v-fab-transition",[s("v-btn",{attrs:{color:"grey lighten-5",fab:"",small:""},on:{click:function(e){return e.stopPropagation(),t.openEditor(e)}}},[s("v-icon",[t._v("add_a_photo")])],1)],1)],1)])],1),t._v(" "),s("profile-tabs",{attrs:{settings:"",active:t.activeTab},on:{"change-tab":t.changeTab}})],1)],1)],1),t._v(" "),s("v-container",{staticClass:"profile",attrs:{"fill-height":"","grid-list-xl":""}},[s("v-layout",{attrs:{"justify-center":"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[s("profile-badge",{attrs:{user:t.user,settings:""}})],1),t._v(" "),s("v-flex",{staticClass:"main pa-0 grey--text",attrs:{xs12:"",sm10:"",md8:""}},[s("profile-tabs",{attrs:{settings:"",active:t.activeTab,mobile:""},on:{"change-tab":t.changeTab}}),t._v(" "),s("v-tabs-items",{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[s("v-tab-item",{attrs:{value:"tab-profile"}},[s("profile-form",{attrs:{user:t.user},on:{"sync-user":t.syncUser,"update-user":t.updateUser}})],1),t._v(" "),s("v-tab-item",{attrs:{value:"tab-photo"}},[s("profile-gallery",{attrs:{images:t.user.images}})],1),t._v(" "),s("v-tab-item",{attrs:{value:"tab-history"}},[s("profile-history")],1),t._v(" "),s("v-tab-item",{attrs:{value:"tab-setting"}},[s("profile-settings")],1)],1)],1)],1)],1),t._v(" "),s("alert",{attrs:{data:t.alert}}),t._v(" "),s("profile-editor",{ref:"profile_editor",on:{"update-image":t.updateImage}})],1)},staticRenderFns:[]},at=s("VU/8")(et,st,!1,null,null,null).exports,it=s("BO1k"),rt=s.n(it),nt=s("ti+0"),ot=s.n(nt),lt={name:"UserCard",props:{user:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{location:function(){return y()({},this.$store.getters.location)},age:function(){return(new Date).getFullYear()-new Date(this.user.birthdate).getFullYear()},distance:function(){var t=this.location,e={lat:this.user.lat,lng:this.user.lng};return Math.round(k.calculateDistance(t,e))+" kms away"},lastSeen:function(){return this.user.status?"online":this.user.tokenExpiration?E()(this.user.tokenExpiration).subtract(2,"hours").fromNow():E()(this.user.created_at).fromNow()}},methods:{profileImage:function(t){return k.getFullPath(t)}}},ct={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{attrs:{router:"",to:"/user/"+t.user.user_id}},[s("v-layout",{staticClass:"pt-1",attrs:{column:"","justify-center":"","align-center":""}},[s("v-layout",{staticClass:"top pa-2",attrs:{"justify-space-between":""}},[s("v-chip",{staticClass:"ml-2",attrs:{disabled:"",outline:"",small:"",color:"grey lighten-1"}},[t._v(t._s(t.distance))]),t._v(" "),s("v-tooltip",{staticClass:"status_container",attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-icon",t._g({staticClass:"status_icon mr-3",attrs:{color:(t.user.status?"green":"grey")+" lighten-2",small:""}},a),[t._v("fiber_manual_record")])]}}])},[t._v(" "),s("span",[t._v(t._s(t.lastSeen))])])],1),t._v(" "),s("v-avatar",{attrs:{size:"120"}},[s("v-img",{attrs:{src:t.profileImage(t.user.name),"aspect-ratio":"1"}})],1),t._v(" "),s("h5",{staticClass:"name headline text-capitalize mt-2 mb-4"},[t._v(t._s(t.user.first_name))]),t._v(" "),s("v-layout",{attrs:{"align-start":"","justify-center":""}},[s("p",{staticClass:"caption text-capitalize rating_value"},[t._v(t._s(t.user.rating.toFixed(1)))]),t._v(" "),s("v-rating",{staticClass:"rating",attrs:{readonly:"",dense:"",small:"",value:t.user.rating,"half-increments":""}})],1),t._v(" "),s("v-layout",{staticClass:"body-1 text-capitalize bottom mb-0 mt-auto py-2 px-4 grey lighten-5",attrs:{"justify-center":"","align-center":""}},[s("v-icon",{staticClass:"cake_icon px-1",attrs:{color:"primary",small:""}},[t._v("cake")]),t._v(" "),s("span",{staticClass:"pr-1"},[t._v(t._s(t.age))]),t._v(" "),s("v-icon",{staticClass:"location_icon px-1",attrs:{color:"primary lighten-1",small:""}},[t._v("place")]),t._v(" "),s("span",{staticClass:"text-truncate"},[t._v(t._s(t.user.city+", "+t.user.country))])],1)],1)],1)},staticRenderFns:[]};var ut=s("VU/8")(lt,ct,!1,function(t){s("xaI+")},null,null).exports,dt={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cs-loader"},[s("div",{staticClass:"cs-loader-inner"},[s("label",[t._v("●")]),t._v(" "),s("label",[t._v("●")]),t._v(" "),s("label",[t._v("●")]),t._v(" "),s("label",[t._v("●")]),t._v(" "),s("label",[t._v("●")]),t._v(" "),s("label",[t._v("●")])])])}]};var ht=s("VU/8")({name:"loader"},dt,!1,function(t){s("A4+r")},null,null).exports,ft={name:"Discover",components:{UserCard:ut,loader:ht},data:function(){return{users:[],interests:[],gender:null,location:null,loaded:!1,age:[18,85],rating:[0,5],tags:["sports","cinema","music"],nats:ot.a}},computed:{filtered:function(){var t=this;return this.users.filter(function(e){return e.user_id!=t.user.id}).filter(function(e){return!t.$store.getters.blocked.includes(e.user_id)}).filter(function(e){return!t.$store.getters.blockedBy.includes(e.user_id)}).filter(function(e){return e.rating>=t.rating[0]&&e.rating<=t.rating[1]}).filter(function(e){return!t.gender||e.gender===t.gender}).filter(function(e){return!t.location||e.country.has(t.location)||e.address.has(t.location)||e.city.has(t.location)}).filter(function(e){var s=new Date(e.birthdate).getFullYear(),a=(new Date).getFullYear();return s>=a-t.age[1]&&s<=a-t.age[0]}).filter(function(e){if(!t.interests.length)return!0;var s=!0,a=!1,i=void 0;try{for(var r,n=rt()(t.interests);!(s=(r=n.next()).done);s=!0){var o=r.value;if(e.tags.split(",").includes(o))return!0}}catch(t){a=!0,i=t}finally{try{!s&&n.return&&n.return()}finally{if(a)throw i}}return!1})},user:function(){return this.$store.getters.user}},created:function(){var t=this;this.$http.get("http://134.209.195.36/api/users").then(function(e){t.users=e.body.map(function(t){return y()({},t,{rating:Number(t.rating),status:Math.round(100*Math.random())%2})}),t.loaded=!0}).catch(function(t){return console.error(t)})},methods:{reset:function(){this.rating=[0,5],this.age=[18,85],this.gender=null,this.location=null}}},vt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"discover"},[t.loaded?s("v-container",{staticClass:"pt-5 px-0"},[s("v-layout",{attrs:{wrap:"","justify-center":""}},[s("v-flex",{attrs:{xl2:"",md3:"",sm10:""}},[s("v-container",{attrs:{"px-md-5":""}},[s("v-layout",{attrs:{column:""}},[s("h4",{staticClass:"title font-weight-thin mb-4"},[t._v("Show me")]),t._v(" "),s("v-btn-toggle",{staticClass:"mb-5",model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}},[s("v-btn",{staticClass:"toggle_btn",attrs:{flat:"",outline:"",color:"primary",value:"male"}},[s("svg",{staticStyle:{fill:"var(--color-primary)"},attrs:{id:"male",viewBox:"0 0 512 512",width:"17",height:"20"}},[s("path",{attrs:{d:"M376.264,290.173c66.314-66.293,66.314-174.16,0-240.453c-66.314-66.294-174.214-66.294-240.529,0 c-66.314,66.293-66.314,174.16,0,240.453c28.07,28.061,63.591,44.24,100.254,48.546v56.923h-40.018 c-11.051,0-20.009,8.956-20.009,20.003s8.958,20.003,20.009,20.003h40.018v56.348c0.001,11.047,8.959,20.003,20.011,20.003 c11.051,0,20.009-8.956,20.009-20.003v-56.348h40.019c11.051,0,20.009-8.956,20.009-20.003s-8.958-20.003-20.009-20.003h-40.019 V338.72C312.673,334.413,348.194,318.234,376.264,290.173z M164.033,261.884c-50.711-50.695-50.711-133.181,0-183.876 c50.71-50.693,133.221-50.696,183.934,0c50.711,50.695,50.711,133.181,0,183.876C297.256,312.578,214.744,312.578,164.033,261.884 z"}})]),t._v(" "),s("span",{staticClass:"px-1"},[t._v("Men")])]),t._v(" "),s("v-btn",{staticClass:"toggle_btn",attrs:{flat:"",outline:"",color:"primary",value:"female"}},[s("svg",{staticStyle:{fill:"var(--color-primary)"},attrs:{id:"female",height:"17",viewBox:"0 0 384 384",width:"20"}},[s("path",{attrs:{d:"m383.792969 13.9375c-.175781-1.378906-.480469-2.707031-.984375-3.953125-.015625-.03125-.015625-.074219-.023438-.113281 0-.007813-.007812-.015625-.015625-.023438-.554687-1.3125-1.3125-2.503906-2.167969-3.609375-.210937-.261719-.417968-.519531-.640624-.765625-.914063-1.03125-1.90625-1.984375-3.058594-2.761718-.03125-.023438-.070313-.03125-.101563-.054688-1.113281-.734375-2.34375-1.289062-3.632812-1.726562-.320313-.113282-.632813-.210938-.960938-.296876-1.351562-.367187-2.742187-.632812-4.207031-.632812h-112c-8.832031 0-16 7.167969-16 16s7.167969 16 16 16h73.367188l-95.496094 95.496094c-25.464844-20.367188-56.816406-31.496094-89.871094-31.496094-79.398438 0-144 64.601562-144 144s64.601562 144 144 144 144-64.601562 144-144c0-33.039062-11.121094-64.382812-31.503906-89.871094l95.503906-95.503906v73.375c0 8.832031 7.167969 16 16 16s16-7.167969 16-16v-112c0-.335938-.078125-.65625-.097656-.984375-.023438-.367187-.0625-.71875-.109375-1.078125zm-239.792969 338.0625c-61.761719 0-112-50.238281-112-112s50.238281-112 112-112c29.902344 0 58.054688 11.640625 79.222656 32.734375 21.136719 21.210937 32.777344 49.363281 32.777344 79.265625 0 61.761719-50.238281 112-112 112zm0 0"}})]),t._v(" "),s("span",{staticClass:"px-1"},[t._v("Women")])])],1),t._v(" "),s("h4",{staticClass:"title font-weight-thin mb-3"},[t._v("Age")]),t._v(" "),s("v-range-slider",{staticClass:"mx-3 mb-4 pt-3",attrs:{max:"85",min:"18",step:"1","thumb-label":"always","thumb-size":"25"},model:{value:t.age,callback:function(e){t.age=e},expression:"age"}}),t._v(" "),s("h4",{staticClass:"title font-weight-thin mb-3"},[t._v("Fame")]),t._v(" "),s("v-range-slider",{staticClass:"mx-3 mb-4 pt-3",attrs:{max:"5",min:"0",step:".5","thumb-label":"always","thumb-size":"25"},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}}),t._v(" "),s("h4",{staticClass:"title font-weight-thin mb-4"},[t._v("Near")]),t._v(" "),s("v-text-field",{staticClass:"loaction_input mb-4",attrs:{color:"primary",outline:"",solo:"",flat:"","append-icon":"place"},model:{value:t.location,callback:function(e){t.location=e},expression:"location"}}),t._v(" "),s("h4",{staticClass:"title font-weight-thin mb-4"},[t._v("Interests")]),t._v(" "),s("v-combobox",{staticClass:"tags_menu mb-5",attrs:{items:t.tags,multiple:"",chips:"","deletable-chips":"",outline:"",solo:"",flat:"",color:"primary"},model:{value:t.interests,callback:function(e){t.interests=e},expression:"interests"}}),t._v(" "),s("v-btn",{staticClass:"clear_btn",attrs:{outline:"",block:"",large:"",color:"primary"},on:{click:t.reset}},[s("v-icon",[t._v("refresh")])],1)],1)],1)],1),t._v(" "),s("v-flex",{attrs:{xl10:"",md9:"",sm12:""}},[s("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},t._l(t.filtered,function(t){return s("v-flex",{key:t.user_id,staticClass:"user",attrs:{xl2:"",lg3:"",sm3:"","ma-3":"",grow:""}},[s("user-card",{attrs:{user:t}})],1)}),1)],1)],1)],1):s("loader")],1)},staticRenderFns:[]};var mt=s("VU/8")(ft,vt,!1,function(t){s("dbWO")},null,null).exports,gt={name:"UserProfile",components:{loader:ht,ProfileTabs:M,ProfileForm:T,ProfileBadge:P,ProfileGallery:X,ProfileSettings:tt},data:function(){return{user:{},f:!0,fab:!1,blockDialog:!1,reportDialog:!1,activeTab:"tab-profile",items:[{title:"Block",handler:function(t){return console.log("nigga1 --\x3e",t)}},{title:"Report",handler:function(t){return console.log("nigga2 --\x3e",t)}}]}},watch:{blocked:{immediate:!0,handler:function(){var t=this.$route.params.id;Array.isArray(this.blocked)&&Array.isArray(this.$store.getters.blockedBy)&&(this.blocked.includes(t)||this.$store.getters.blockedBy.includes(t))&&this.$router.push("/")}},loggedIn:{immediate:!0,handler:function(){var t=this;this.loggedIn.id&&this.f&&this.$http.post("http://localhost:80/matcha/public/api/user/show/"+this.$route.params.id,{visitor:this.$store.getters.user.id}).then(function(e){t.user=y()({},e.body[0],{rating:Number(e.body[0].rating)}),t.f=!1}).catch(function(t){return console.error(t)})}}},computed:{liked:{get:function(){var t=!0,e=!1,s=void 0;try{for(var a,i=rt()(this.$store.getters.following);!(t=(a=i.next()).done);t=!0){if(a.value.id==this.user.id)return!0}}catch(t){e=!0,s=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw s}}return!1},set:function(){this.$store.dispatch("syncMatches",this.$store.getters.user.id)}},blocked:function(){return this.$store.getters.blocked},loggedIn:function(){return this.$store.getters.user},profileImage:function(){return this.getFullPath(this.getProfileImage())},userCantLike:function(){var t=this.$store.getters.user.images;return!t||!t.length},userCanChat:function(){var t=!0,e=!1,s=void 0;try{for(var a,i=rt()(this.$store.getters.matches);!(t=(a=i.next()).done);t=!0){if(a.value.id==this.user.id)return!0}}catch(t){e=!0,s=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw s}}return!1},age:function(){return(new Date).getFullYear()-new Date(this.user.birthdate).getFullYear()},lastSeen:function(){return this.user.status?"online":this.user.tokenExpiration?E()(this.user.tokenExpiration).subtract(2,"hours").fromNow():E()(this.user.created_at).fromNow()},informations:function(){return[{label:"Username",content:this.user.username},{label:"Fisrt Name",content:this.user.first_name},{label:"Last Name",content:this.user.last_name},{label:"Age",content:this.age},{label:"Gender",content:this.user.gender},{label:"Looking For",content:this.user.looking},{label:"Address",content:this.user.address},{label:"City",content:this.user.city},{label:"Country",content:this.user.country},{label:"Postal Code",content:this.user.postal_code},{label:"Phone Number",content:this.user.phone}]},location:function(){return y()({},this.$store.getters.location)},distance:function(){var t=this.location,e={lat:this.user.lat,lng:this.user.lng};return Math.round(this.calculateDistance(t,e))+" kms away"}},methods:y()({},k,{changeTab:function(t){this.activeTab=t},getProfileImage:function(){if(!this.user||!this.user.images)return"default.jpg";var t=this.user.images.filter(function(t){return 1==t.profile})[0];return t?t.name:"default.jpg"},match:function(){var t=this;this.$http.post("http://localhost:80/matcha/public/api/user/match/"+this.$route.params.id,{matcher:this.$store.getters.user.id,liked:this.liked}).then(function(e){t.liked=e.matched}).catch(function(t){return console.error(t)})},block:function(){var t=this;this.$http.post("http://localhost:80/matcha/public/api/user/block/"+this.$route.params.id,{blocker:this.$store.getters.user.id}).then(function(e){t.$store.dispatch("syncBlocked",t.$store.getters.user.id),t.$router.go(-1)}).catch(function(t){return console.error(t)}),this.blockDialog=!1}})},pt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.f?s("loader"):s("v-layout",{staticClass:"user_profile",attrs:{column:""}},[s("div",{staticClass:"parallax"}),t._v(" "),s("v-layout",{staticClass:"py-0 strap grey lighten-3"},[s("v-container",{attrs:{"py-0":""}},[s("v-layout",[s("v-flex",{staticClass:"avatar",attrs:{xs12:"",sm8:"",md4:""}},[s("v-avatar",{staticClass:"mx-auto d-block",attrs:{slot:"offset",size:"200"},slot:"offset"},[s("img",{staticClass:"avatar__img",attrs:{src:t.profileImage}})])],1),t._v(" "),s("profile-tabs",{attrs:{active:t.activeTab},on:{"change-tab":t.changeTab}}),t._v(" "),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-icon",t._g({staticClass:"profile-status_icon mx-3 hidden-xs-only",attrs:{color:(t.user.status?"green":"grey")+" lighten-2",small:""}},a),[t._v("fiber_manual_record")])]}}])},[t._v(" "),s("span",[t._v(t._s(t.lastSeen))])]),t._v(" "),s("v-chip",{staticClass:"mt-3 ml-2 hidden-xs-only",attrs:{disabled:"",outline:"",small:"",color:"grey lighten-1"}},[t._v(t._s(t.distance))]),t._v(" "),s("v-btn",{staticClass:"hidden-xs-only",attrs:{icon:"",flat:"",large:"",color:"primary",disabled:t.userCantLike},on:{click:t.match}},[s("v-icon",[t._v(t._s(t.liked?"favorite":"favorite_border"))])],1),t._v(" "),s("v-btn",{staticClass:"hidden-xs-only mx-0",attrs:{icon:"",flat:"",large:"",color:"primary",disabled:!t.userCanChat}},[s("v-icon",[t._v(t._s(t.userCanChat?"chat_bubble":"chat_bubble_outline"))])],1),t._v(" "),s("v-speed-dial",{staticClass:"speed_list",attrs:{direction:"bottom",transition:"slide-y-reverse-transition"},scopedSlots:t._u([{key:"activator",fn:function(){return[s("v-btn",{attrs:{icon:"",flat:"",small:"",large:"",color:"primary"},model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[s("v-icon",[t._v("more_vert")])],1)]},proxy:!0}]),model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[t._v(" "),s("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",t._g({attrs:{fab:"",dark:"",small:"",color:"primary darken-2"},on:{click:function(e){t.reportDialog=!0}}},a),[s("v-icon",[t._v("warning")])],1)]}}])},[t._v(" "),s("span",[t._v("Report")])]),t._v(" "),s("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",t._g({attrs:{fab:"",dark:"",small:"",color:"primary darken-2"},on:{click:function(e){t.blockDialog=!0}}},a),[s("v-icon",[t._v("delete_forever")])],1)]}}])},[t._v(" "),s("span",[t._v("Block")])])],1)],1)],1)],1),t._v(" "),s("v-container",{staticClass:"profile",attrs:{"fill-height":"","grid-list-xl":""}},[s("v-layout",{attrs:{"justify-center":"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[s("profile-badge",{attrs:{user:t.user}})],1),t._v(" "),s("v-flex",{staticClass:"pa-0 grey--text main",attrs:{xs12:"",sm10:"",md8:""}},[s("v-tabs-items",{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[s("v-tab-item",{attrs:{value:"tab-profile"}},[s("v-container",[t.user.biography?s("div",[s("h1",{staticClass:"heading display-2 font-weight-thin py-3 mb-4 hidden-sm-and-down"},[t._v("About")]),t._v(" "),s("v-container",{staticClass:"infos subheading py-2"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t.user.biography)+"\n\t\t\t\t\t\t\t\t\t")])],1):t._e(),t._v(" "),s("h1",{staticClass:"heading display-2 font-weight-thin py-3 mb-4 hidden-sm-and-down"},[t._v("Informations")]),t._v(" "),s("v-layout",{staticClass:"title text-capitalize",attrs:{column:""}},t._l(t.informations,function(e){return s("v-container",{key:e.label,attrs:{"py-3":""}},[s("v-layout",[s("v-flex",{attrs:{xs6:""}},[t._v(t._s(e.label+":"))]),t._v(" "),s("v-flex",{staticClass:"infos",attrs:{xs6:""}},[t._v(t._s(e.content))])],1)],1)}),1)],1)],1),t._v(" "),s("v-tab-item",{attrs:{value:"tab-photo"}},[s("profile-gallery",{attrs:{images:t.user.images}})],1)],1)],1)],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.reportDialog,callback:function(e){t.reportDialog=e},expression:"reportDialog"}},[s("v-card",{staticClass:"pa-2"},[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("Report as fake")])]),t._v(" "),s("v-card-text",[s("v-container",[s("p",{staticClass:"subheading d-inline"},[t._v("Are you sure you want to report")]),t._v(" "),s("router-link",{staticClass:"px-1 user_link",attrs:{to:"/user/"+t.user.id}},[t._v(t._s(t.user.username))]),t._v(" "),s("p",{staticClass:"subheading d-inline"},[t._v("as fake ?")])],1)],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.reportDialog=!1}}},[t._v("Close")]),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.reportDialog=!1}}},[t._v("Report")])],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.blockDialog,callback:function(e){t.blockDialog=e},expression:"blockDialog"}},[s("v-card",{staticClass:"pa-2"},[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("To the blacklist")])]),t._v(" "),s("v-card-text",[s("v-container",[s("p",{staticClass:"subheading d-inline"},[t._v("Are you sure you want to block")]),t._v(" "),s("router-link",{staticClass:"px-1 user_link",attrs:{to:"/user/"+t.user.id}},[t._v(t._s(t.user.username))]),t._v(" "),s("p",{staticClass:"subheading d-inline"},[t._v("?")])],1)],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.blockDialog=!1}}},[t._v("Close")]),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.block}},[t._v("Block")])],1)],1)],1)],1)},staticRenderFns:[]};var bt=s("VU/8")(gt,pt,!1,function(t){s("149h")},null,null).exports,_t={data:function(){return{users:1,nats:ot.a}},methods:{install:function(){var t=this;this.$http.get("https://randomuser.me/api/?results="+this.users).then(function(e){console.log(e.body.results),e.body.results.forEach(function(e){t.$http.post("http://localhost:80/matcha/public/api/user/install",{first_name:e.name.first,last_name:e.name.last,username:e.login.username,email:e.email,password:"123456abc",gender:e.gender,looking:"female"==e.gender?"male":"female",birthdate:e.dob.date.slice(0,10),biography:"",tags:"",address:e.location.street,city:e.location.city,country:t.nats[e.nat].toLowerCase(),postal_code:e.location.postcode,phone:e.cell,image:e.picture.large,rating:5*Math.random(),lat:e.location.coordinates.latitude,lng:e.location.coordinates.longitude}).then(function(t){return console.log(t)}).catch(function(t){return console.error(t)})})}).catch(function(t){return console.error(t)})}}},yt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-layout",[s("v-text-field",{model:{value:t.users,callback:function(e){t.users=e},expression:"users"}}),t._v(" "),s("v-btn",{attrs:{color:"primary",outline:"",large:""},on:{click:t.install}},[t._v("Install")])],1)],1)},staticRenderFns:[]},At=s("VU/8")(_t,yt,!1,null,null,null).exports;a.default.use(o.a);var It=new o.a({mode:"history",base:Object({NODE_ENV:"production"}).BASE_URL,routes:[{path:"/",component:u},{path:"/install",component:At},{path:"/about",component:h},{path:"/register",component:b},{path:"/login",component:m},{path:"/settings",component:at},{path:"/discover",component:mt},{path:"/user/:id",component:bt}]}),xt=s("Gu7T"),Ct=s.n(xt),Et=s("NYxO");a.default.use(Et.a);var wt=new Et.a.Store({strict:!0,state:{status:!1,user:{},location:{lat:0,lng:0},following:[],followers:[],blocked:[],blockedBy:[],visitor:[],visited:[]},getters:{user:function(t){return t.user},status:function(t){return t.status},history:function(t){return[].concat(Ct()(t.visitor.map(function(t){return y()({},t,{type:"visitor"})})),Ct()(t.visited.map(function(t){return y()({},t,{type:"visited"})})),Ct()(t.followers.map(function(t){return y()({},t,{type:"follower"})})),Ct()(t.following.map(function(t){return y()({},t,{type:"following"})})))},blocked:function(t){return t.blocked},location:function(t){return t.location},following:function(t){return t.following},followers:function(t){return t.followers},blockedBy:function(t){return t.blockedBy},matches:function(t){return t.following.filter(function(e){var s=!0,a=!1,i=void 0;try{for(var r,n=rt()(t.followers);!(s=(r=n.next()).done);s=!0){if(r.value.id==e.id)return!0}}catch(t){a=!0,i=t}finally{try{!s&&n.return&&n.return()}finally{if(a)throw i}}return!1})},profileImage:function(t){if(!t.user.images)return"default.jpg";var e=t.user.images.filter(function(t){return 1==t.profile})[0];return e?e.name:"default.jpg"}},mutations:{updateTags:function(t,e){return t.user.tags=e.map(function(t){return t.text.toLowerCase()}).join(",")},updateUser:function(t,e){return t.user=e},updateProfileImage:function(t,e){t.user.images.filter(function(t){return 1==t.profile}).forEach(function(t){return t.profile=0}),t.user.images.push({name:e,profile:1})},logout:function(t){t.status=!1,t.user={}},login:function(t,e){t.status=!0,t.user=e},locate:function(t,e){t.location=e},syncHistory:function(t,e){t.visitor=e.visitor,t.visited=e.visited},syncMatches:function(t,e){t.followers=e.followers,t.following=e.following},syncBlocked:function(t,e){t.blocked=e.blocked,t.blockedBy=e.blockedBy}},actions:{updateUser:function(t,e){t.dispatch("locate",e.id),t.commit("updateUser",e)},login:function(t,e){t.dispatch("locate",e.id),t.dispatch("syncMatches",e.id),t.dispatch("syncBlocked",e.id),t.dispatch("syncHistory",e.id),localStorage.setItem("token",e.token),t.commit("login",e)},logout:function(t){localStorage.removeItem("token"),t.commit("logout")},locate:function(t,e){var s={};navigator.geolocation?navigator.geolocation.getCurrentPosition(function(a){s={lat:a.coords.latitude,lng:a.coords.longitude},t.commit("locate",s),k.syncLocation(e,s)},function(){return k.getLocationFromIp(function(s){t.commit("locate",s),k.syncLocation(e,s)})}):k.getLocationFromIp(function(s){t.commit("locate",s),k.syncLocation(e,s)})},syncMatches:function(t,e){k.getMatches(function(e){t.commit("syncMatches",{following:e.body.filter(function(t){return t.matched_id}).map(function(t){return{id:t.matched_id,match_date:t.match_date,username:t.username,profile_image:t.profile_image}}),followers:e.body.filter(function(t){return t.matcher_id}).map(function(t){return{id:t.matcher_id,match_date:t.match_date,username:t.username,profile_image:t.profile_image}})})},e)},syncBlocked:function(t,e){k.getBlocked(function(s){return t.commit("syncBlocked",{blocked:s.body.filter(function(t){return t.blocker==e}).map(function(t){return t.blocked}),blockedBy:s.body.filter(function(t){return t.blocked==e}).map(function(t){return t.blocker})})},e)},syncHistory:function(t,e){k.syncHistory(function(e){return t.commit("syncHistory",{visitor:e.body.filter(function(t){return t.visitor_id}).map(function(t){return{id:t.visitor_id,visit_date:t.visit_date,username:t.username,profile_image:t.profile_image}}),visited:e.body.filter(function(t){return t.visited_id}).map(function(t){return{id:t.visited_id,visit_date:t.visit_date,username:t.username,profile_image:t.profile_image}})})},e)}}}),Nt={name:"Navbar",data:function(){return{drawer:!1,links:[{icon:"dashboard",text:"Home",route:"/",public:!0},{icon:"people",text:"Discover",route:"/discover",public:!1},{icon:"chat",text:"Chat",route:"/chat",public:!1},{icon:"notification_important",text:"Notifications",route:"/notifications",public:!1},{icon:"settings",text:"Settings",route:"/settings",public:!1}]}},created:function(){var t=this;this.$http.post("http://localhost:80/matcha/public/api/user/isloggedin",{token:localStorage.getItem("token")}).then(function(e){e.body.tokenExpiration&&Date.parse(e.body.tokenExpiration)>=Date.now()&&(t.$store.dispatch("login",e.body),t.updateLocation(e.body.id))}).catch(function(t){return console.error(t)})},computed:{isLoggedIn:function(){return!!this.$store.getters.status},whoIsLoggedIn:function(){return this.$store.getters.user},profileImage:function(){return this.getFullPath(this.$store.getters.profileImage)}},methods:y()({},k,{logout:function(){var t=this;this.$http.post("http://localhost:80/matcha/public/api/user/logout").then(function(e){return e.body.ok?t.$store.dispatch("logout"):1}).catch(function(t){return console.error(t)})}})},kt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",[s("v-toolbar",{attrs:{flat:"",app:""}},[s("v-toolbar-side-icon",{staticClass:"grey--text",on:{click:function(e){t.drawer=!t.drawer}}}),t._v(" "),s("v-toolbar-title",{staticClass:"text-uppercase grey--text"},[s("span",[t._v("M")]),s("span",{staticClass:"font-weight-light"},[t._v("atcha")])]),t._v(" "),s("v-spacer"),t._v(" "),t.isLoggedIn?s("div",[s("v-btn",{attrs:{flat:"",color:"grey"},on:{click:t.logout}},[s("span",[t._v("Logout")]),t._v(" "),s("v-icon",{attrs:{dark:"",right:""}},[t._v("exit_to_app")])],1)],1):t._e(),t._v(" "),t.isLoggedIn?t._e():s("div",[s("v-btn",{attrs:{flat:"",color:"grey",router:"",to:"/login"}},[t._v("Login")]),t._v(" "),s("v-btn",{attrs:{flat:"",color:"grey",router:"",to:"/register"}},[t._v("Sign Up")])],1)],1),t._v(" "),s("v-navigation-drawer",{staticClass:"primary",attrs:{app:"",fixed:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[s("v-list",[s("v-list-tile",{attrs:{avatar:""}},[t.isLoggedIn?s("v-layout",{attrs:{"align-center":"","justify-center":""}},[s("v-list-tile-avatar",[s("img",{attrs:{src:t.profileImage}})]),t._v(" "),s("v-list-tile-content",[s("v-list-tile-title",{staticClass:"white--text text-capitalize font-weight-light subheading"},[t._v(t._s(t.whoIsLoggedIn.username))])],1)],1):t._e(),t._v(" "),s("v-list-tile-action",{staticClass:"ml-auto"},[s("v-btn",{staticClass:"ml-auto",attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}},[s("v-icon",{staticClass:"white--text"},[t._v("chevron_left")])],1)],1)],1),t._v(" "),s("v-divider"),t._v(" "),t._l(t.links,function(e){return s("v-list-tile",{key:e.text,attrs:{router:"",to:e.route}},[e.public||t.isLoggedIn?s("v-list-tile-action",[s("v-icon",{staticClass:"white--text"},[t._v(t._s(e.icon))])],1):t._e(),t._v(" "),e.public||t.isLoggedIn?s("v-list-tile-content",[s("v-list-tile-title",{staticClass:"white--text"},[t._v(t._s(e.text))])],1):t._e()],1)}),t._v(" "),t.isLoggedIn?s("v-list-tile",{on:{click:t.logout}},[s("v-list-tile-action",[s("v-icon",{staticClass:"white--text"},[t._v("exit_to_app")])],1),t._v(" "),s("v-list-tile-content",[s("v-list-tile-title",{staticClass:"white--text"},[t._v("Logout")])],1)],1):t._e()],2)],1)],1)},staticRenderFns:[]},Rt={name:"App",components:{Navbar:s("VU/8")(Nt,kt,!1,null,null,null).exports}},St={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",{staticClass:"grey lighten-5 app"},[e("Navbar"),this._v(" "),e("v-content",[e("router-view")],1),this._v(" "),e("v-fab-transition",[e("v-btn",{attrs:{color:"primary",dark:"",fab:"",fixed:"",bottom:"",right:""}},[e("v-icon",[this._v("keyboard_arrow_up")])],1)],1)],1)},staticRenderFns:[]};var Lt=s("VU/8")(Rt,St,!1,function(t){s("4cty")},null,null).exports;a.default.use(r.a,{theme:{primary:"#03a9f4"}}),a.default.use(n.a),String.prototype.has=function(t){return this.toLowerCase().includes(t.toLowerCase())},new a.default({store:wt,router:It,render:function(t){return t(Lt)}}).$mount("#app")},Z0wU:function(t,e){},dbWO:function(t,e){},eJjC:function(t,e){},nHKm:function(t,e){},pguh:function(t,e){},"s/Lw":function(t,e){},"ti+0":function(t,e){t.exports={AF:"AFGHANISTAN",AL:"ALBANIA",DZ:"ALGERIA",AS:"AMERICAN SAMOA",AD:"ANDORRA",AO:"ANGOLA",AI:"ANGUILLA",AQ:"ANTARCTICA",AG:"ANTIGUA AND BARBUDA",AR:"ARGENTINA",AM:"ARMENIA",AW:"ARUBA",AU:"AUSTRALIA",AT:"AUSTRIA",AZ:"AZERBAIJAN",BS:"BAHAMAS",BH:"BAHRAIN",BD:"BANGLADESH",BB:"BARBADOS",BY:"BELARUS",BE:"BELGIUM",BZ:"BELIZE",BJ:"BENIN",BM:"BERMUDA",BT:"BHUTAN",BO:"BOLIVIA",BA:"BOSNIA AND HERZEGOVINA",BW:"BOTSWANA",BV:"BOUVET ISLAND",BR:"BRAZIL",IO:"BRITISH INDIAN OCEAN TERRITORY",BN:"BRUNEI DARUSSALAM",BG:"BULGARIA",BF:"BURKINA FASO",BI:"BURUNDI",KH:"CAMBODIA",CM:"CAMEROON",CA:"CANADA",CV:"CAPE VERDE",KY:"CAYMAN ISLANDS",CF:"CENTRAL AFRICAN REPUBLIC",TD:"CHAD",CL:"CHILE",CN:"PEOPLE'S REPUBLIC OF CHINA",CX:"CHRISTMAS ISLAND",CC:"COCOS (KEELING) ISLANDS",CO:"COLOMBIA",KM:"COMOROS",CG:"CONGO",CD:"CONGO, THE DEMOCRATIC REPUBLIC OF",CK:"COOK ISLANDS",CR:"COSTA RICA",CI:"CÔTE D'IVOIRE",HR:"CROATIA",CU:"CUBA",CY:"CYPRUS",CZ:"CZECH REPUBLIC",DK:"DENMARK",DJ:"DJIBOUTI",DM:"DOMINICA",DO:"DOMINICAN REPUBLIC",EC:"ECUADOR",EG:"EGYPT",EH:"WESTERN SAHARA",SV:"EL SALVADOR",GQ:"EQUATORIAL GUINEA",ER:"ERITREA",EE:"ESTONIA",ET:"ETHIOPIA",FK:"FALKLAND ISLANDS (MALVINAS)",FO:"FAROE ISLANDS",FJ:"FIJI",FI:"FINLAND",FR:"FRANCE",GF:"FRENCH GUIANA",PF:"FRENCH POLYNESIA",TF:"FRENCH SOUTHERN TERRITORIES",GA:"GABON",GM:"GAMBIA",GE:"GEORGIA",DE:"GERMANY",GH:"GHANA",GI:"GIBRALTAR",GR:"GREECE",GL:"GREENLAND",GD:"GRENADA",GP:"GUADELOUPE",GU:"GUAM",GT:"GUATEMALA",GN:"GUINEA",GW:"GUINEA-BISSAU",GY:"GUYANA",HT:"HAITI",HM:"HEARD ISLAND AND MCDONALD ISLANDS",HN:"HONDURAS",HK:"HONG KONG",HU:"HUNGARY",IS:"ICELAND",IN:"INDIA",ID:"INDONESIA",IR:"IRAN, ISLAMIC REPUBLIC OF",IQ:"IRAQ",IE:"IRELAND",IL:"ISRAEL",IT:"ITALY",JM:"JAMAICA",JP:"JAPAN",JO:"JORDAN",KZ:"KAZAKHSTAN",KE:"KENYA",KI:"KIRIBATI",KP:"KOREA, DEMOCRATIC PEOPLE'S REPUBLIC OF",KR:"KOREA, REPUBLIC OF",KW:"KUWAIT",KG:"KYRGYZSTAN",LA:"LAO PEOPLE'S DEMOCRATIC REPUBLIC",LV:"LATVIA",LB:"LEBANON",LS:"LESOTHO",LR:"LIBERIA",LY:"LIBYAN ARAB JAMAHIRIYA",LI:"LIECHTENSTEIN",LT:"LITHUANIA",LU:"LUXEMBOURG",MO:"MACAO",MK:"MACEDONIA, THE FORMER YUGOSLAV REPUBLIC OF",MG:"MADAGASCAR",MW:"MALAWI",MY:"MALAYSIA",MV:"MALDIVES",ML:"MALI",MT:"MALTA",MH:"MARSHALL ISLANDS",MQ:"MARTINIQUE",MR:"MAURITANIA",MU:"MAURITIUS",YT:"MAYOTTE",MX:"MEXICO",FM:"MICRONESIA, FEDERATED STATES OF",MD:"MOLDOVA, REPUBLIC OF",MC:"MONACO",MN:"MONGOLIA",MS:"MONTSERRAT",MA:"MOROCCO",MZ:"MOZAMBIQUE",MM:"MYANMAR",NA:"NAMIBIA",NR:"NAURU",NP:"NEPAL",NL:"NETHERLANDS",AN:"NETHERLANDS ANTILLES",NC:"NEW CALEDONIA",NZ:"NEW ZEALAND",NI:"NICARAGUA",NE:"NIGER",NG:"NIGERIA",NU:"NIUE",NF:"NORFOLK ISLAND",MP:"NORTHERN MARIANA ISLANDS",NO:"NORWAY",OM:"OMAN",PK:"PAKISTAN",PW:"PALAU",PS:"PALESTINIAN TERRITORY, OCCUPIED",PA:"PANAMA",PG:"PAPUA NEW GUINEA",PY:"PARAGUAY",PE:"PERU",PH:"PHILIPPINES",PN:"PITCAIRN",PL:"POLAND",PT:"PORTUGAL",PR:"PUERTO RICO",QA:"QATAR",RE:"RÉUNION",RO:"ROMANIA",RU:"RUSSIAN FEDERATION",RW:"RWANDA",SH:"SAINT HELENA",KN:"SAINT KITTS AND NEVIS",LC:"SAINT LUCIA",PM:"SAINT PIERRE AND MIQUELON",VC:"SAINT VINCENT AND THE GRENADINES",WS:"SAMOA",SM:"SAN MARINO",ST:"SAO TOME AND PRINCIPE",SA:"SAUDI ARABIA",SN:"SENEGAL",CS:"SERBIA AND MONTENEGRO",SC:"SEYCHELLES",SL:"SIERRA LEONE",SG:"SINGAPORE",SK:"SLOVAKIA",SI:"SLOVENIA",SB:"SOLOMON ISLANDS",SO:"SOMALIA",ZA:"SOUTH AFRICA",GS:"SOUTH GEORGIA AND SOUTH SANDWICH ISLANDS",ES:"SPAIN",LK:"SRI LANKA",SD:"SUDAN",SR:"SURINAME",SJ:"SVALBARD AND JAN MAYEN",SZ:"SWAZILAND",SE:"SWEDEN",CH:"SWITZERLAND",SY:"SYRIAN ARAB REPUBLIC",TW:"TAIWAN, REPUBLIC OF CHINA",TJ:"TAJIKISTAN",TZ:"TANZANIA, UNITED REPUBLIC OF",TH:"THAILAND",TL:"TIMOR-LESTE",TG:"TOGO",TK:"TOKELAU",TO:"TONGA",TT:"TRINIDAD AND TOBAGO",TN:"TUNISIA",TR:"TURKEY",TM:"TURKMENISTAN",TC:"TURKS AND CAICOS ISLANDS",TV:"TUVALU",UG:"UGANDA",UA:"UKRAINE",AE:"UNITED ARAB EMIRATES",GB:"UNITED KINGDOM",US:"UNITED STATES",UM:"UNITED STATES MINOR OUTLYING ISLANDS",UY:"URUGUAY",UZ:"UZBEKISTAN",VE:"VENEZUELA",VU:"VANUATU",VN:"VIET NAM",VG:"BRITISH VIRGIN ISLANDS",VI:"U.S. VIRGIN ISLANDS",WF:"WALLIS AND FUTUNA",YE:"YEMEN",ZW:"ZIMBABWE"}},uslO:function(t,e,s){var a={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-SG":"oYA3","./en-SG.js":"oYA3","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function i(t){return s(r(t))}function r(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}i.keys=function(){return Object.keys(a)},i.resolve=r,t.exports=i,i.id="uslO"},"xaI+":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.fd039356cfa8c1d069b9.js.map
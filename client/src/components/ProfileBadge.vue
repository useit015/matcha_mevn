<template>
<v-layout justify-center py-0>
	<v-flex xs12 sm11 md9 offset-lg3 offset-xl4 offset-md2 offset-sm1 class="badge text-capitalize">
		<h2 class="font-weight-thin mb-2">
			<div class="text-truncate full_name pr-3 d-inline">{{ `${user.first_name} ${user.last_name}` }}</div>
			<v-tooltip bottom v-if="!settings && like">
				<template v-slot:activator="{ on }">
					<svg x="0px" y="0px" viewBox="0 0 407.585 407.585"  v-on="on" class="match_icon">
						<g v-if="!match">
							<path d="M384.033,71.263c-15.445-16.106-37.263-24.493-59.52-22.88c-28.4,2.88-50.48,23.36-60.88,34.96 c-10.4-11.6-32.48-32-60.96-34.96c-22.257-1.613-44.075,6.774-59.52,22.88c-12.844,11.503-20.992,27.341-22.88,44.48 c-12.846-9.093-28.106-14.161-43.84-14.56c-19.985,0.652-38.939,9.025-52.88,23.36c-18.37,16.956-26.816,42.114-22.4,66.72 c8.72,61.52,80,137.52,139.28,167.28c2.264,1.141,4.936,1.141,7.2,0c32.614-17.679,61.774-41.094,86.08-69.12 c8.407,5.913,17.2,11.258,26.32,16c2.264,1.141,4.936,1.141,7.2,0c58.88-29.68,130.56-105.92,139.2-167.44 C410.849,113.377,402.402,88.219,384.033,71.263z M144.033,342.463c-54.64-29.2-119.2-98-127.04-153.44 c-3.695-19.407,2.901-39.345,17.44-52.72c11.039-11.488,26.082-18.279,42-18.96c34.32,0,60.8,36.16,61.04,36.56 c1.493,2.098,3.905,3.348,6.48,3.36c2.575-0.012,4.987-1.262,6.48-3.36c0,0,26.64-36.56,61.36-36.56 c15.918,0.681,30.961,7.472,42,18.96c14.568,13.358,21.195,33.299,17.52,52.72C263.233,244.463,198.673,313.263,144.033,342.463z M390.592,135.743c-8,55.36-72,124.24-127.04,153.36c-6.79-3.656-13.385-7.661-19.76-12c22.32-27.92,38.88-58.32,42.8-85.84 c4.416-24.606-4.03-49.764-22.4-66.72c-13.848-14.163-32.606-22.468-52.4-23.2c-31.6,0-56,22.8-67.52,35.28 c-2.16-2.48-4.88-5.28-8-8c-1.23-17.09,5.431-33.802,18.08-45.36c12.132-12.852,29.314-19.701,46.96-18.72c32,3.2,56,36,56,36.32 c1.493,2.098,3.905,3.348,6.48,3.36c2.575-0.012,4.987-1.262,6.48-3.36c0,0,24-33.04,56-36.24 c17.676-1.016,34.896,5.837,47.04,18.72C387.686,96.685,394.21,116.468,390.592,135.743z"/>
						</g>
						<g v-else>
							<path style="fill:#F8305F;" d="M140.493,349.494c-56.8-30.4-123.2-101.6-131.2-159.2c-4-22.4,3.2-44.8,20-60 c12.8-12.8,29.6-20.8,47.2-20.8c38.4,0,66.4,38.4,67.2,40c0,0,28.8-40,67.2-40c17.6,0.8,35.2,8,47.2,20.8c16.8,15.2,24,37.6,20,60 c-8,57.6-74.4,128.8-131.2,159.2l-4,2.4L140.493,349.494z"/>
							<path style="fill:#FFFFFF;" d="M259.693,296.694c-7.2-4-13.6-8-20-12.8l-7.2-4.8l5.6-6.4c23.2-28.8,37.6-57.6,40.8-81.6 c4-22.4-3.2-44.8-20-60c-12.8-12.8-29.6-20.8-47.2-20.8c-28,0-50.4,20-61.6,32.8l-5.6,6.4l-6.4-6.4c-2.4-2.4-4.8-4.8-8-8l-2.4-3.2 v-3.2c-1.6-19.2,6.4-38.4,20.8-51.2c12.8-12.8,29.6-20.8,48-20.8c1.6,0,4,0,5.6,0c36,3.2,61.6,39.2,61.6,40s26.4-36,61.6-39.2 c1.6,0,4,0,5.6,0c18.4,0.8,35.2,8,48,20.8c16.8,15.2,24,37.6,20,60c-8,57.6-74.4,128.8-131.2,159.2l-4,2.4L259.693,296.694z"/>
							<path style="fill:#28150B;" d="M324.493,48.694c-28,3.2-50.4,23.2-60.8,35.2c-10.4-11.2-32.8-32-60.8-35.2 c-22.4-1.6-44,6.4-59.2,23.2c-12.8,11.2-20.8,27.2-23.2,44.8c-12.8-8.8-28-14.4-44-14.4c-20,0.8-39.2,8.8-52.8,23.2 c-18.4,16.8-27.2,42.4-22.4,66.4c8.8,61.6,80,137.6,139.2,167.2c2.4,0.8,4.8,0.8,7.2,0c32.8-17.6,61.6-40.8,86.4-68.8 c8.8,5.6,17.6,11.2,26.4,16c2.4,0.8,4.8,0.8,7.2,0c59.2-29.6,130.4-105.6,139.2-167.2c4.8-24.8-4-49.6-22.4-66.4 C368.493,55.094,346.893,47.094,324.493,48.694z M143.693,342.294c-54.4-28.8-119.2-97.6-127.2-152.8c-4-19.2,3.2-39.2,17.6-52.8 c11.2-11.2,26.4-18.4,42.4-19.2c34.4,0,60.8,36,60.8,36.8c1.6,2.4,4,3.2,6.4,3.2l0,0c2.4,0,4.8-1.6,6.4-3.2c0,0,26.4-36.8,61.6-36.8 c16,0.8,31.2,7.2,42.4,19.2c14.4,13.6,20.8,33.6,17.6,52.8C262.893,244.694,198.893,313.494,143.693,342.294z M390.093,135.894 c-8,55.2-72,124-127.2,153.6c-6.4-4-13.6-8-20-12c22.4-28,39.2-58.4,42.4-85.6c4.8-24.8-4-49.6-22.4-66.4 c-13.6-14.4-32.8-22.4-52-23.2c-32,0-56,23.2-67.2,35.2c-2.4-2.4-4.8-5.6-8-8c-1.6-16.8,5.6-33.6,18.4-45.6 c12-12.8,29.6-20,47.2-18.4c32,3.2,56,36,56,36c1.6,2.4,4,3.2,6.4,3.2l0,0c2.4,0,4.8-1.6,6.4-3.2c0,0,24-32.8,56-36 c17.6-0.8,35.2,5.6,47.2,18.4C387.693,96.694,394.093,116.694,390.093,135.894z"/>
						</g>
					</svg>
						</g>
					</svg>
				</template>
				<span>{{ match ? 'You have a match' : 'This user likes you' }}</span>
			</v-tooltip>
		</h2>
		<h4 class="font-weight-thin mb-3">{{ `@${user.username}` }}</h4>
		<div class="font-weight-light text-truncate" v-for="field in fields" :key="field.icon">
			<p class="my-2" v-if="field.exist">
				<v-icon small>{{ field.icon }}</v-icon>
				<span class="ml-2">{{ field.text }}</span>
			</p>
		</div>
		<v-rating readonly dense :value="user.rating" half-increments class="rating mt-1"></v-rating>
	</v-flex>
</v-layout>
</template>

<script>
import moment from 'moment'
import utility from '../utility.js'

export default {
	name: 'ProfileBadge',
	props: {
		match: { type: Boolean, default: false },
		like: { type: Boolean, default: false },
		settings: { type: Boolean, default: false },
		user: { type: Object, default: () => ({ })}
	},
	computed: {
		fields () {
			return [
				{
					exist: true,
					icon: 'calendar_today',
					text: `Joined ${moment(this.user.created_at).format('MMMM YYYY')}`
				}, {
					exist: !!this.user.birthdate,
					icon: 'child_care',
					text: `Born ${moment(this.user.birthdate).format('MMMM D, YYYY')}`
				}, {
					exist: !!this.user.city && !!this.user.country,
					icon: 'location_on',
					text: `${this.user.city}, ${this.user.country}`
				}
			]
		}
	},
	methods: utility
}
</script>

<style>
.rating_value {
	transform: translateX(25%);
}

.full_name {
	max-width: 80%;
}

.match_icon {
	width: 2rem;
	height: 2rem;
	margin-bottom: -.5rem !important;
	margin-left: -1rem !important;
}
</style>
